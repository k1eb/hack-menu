const host = window.location.hostname;

  if (host.includes('blooket.com')) {
        fetch("https://cdn.jsdelivr.net/gh/Blooket-Council/Blooket-Cheats@latest/cheats/gui.min.js").then(r => r.text()).then(r => eval(r))
    } else if (host.includes('kahoot.it')) {
        fetch("https://cdn.jsdelivr.net/gh/jokeri2222/KaHack@latest/KaHack!.user.js").then(r => r.text()).then(r => eval(r))
    } else if (host.includes('edpuzzle.com')) {
        fetch("https://cdn.jsdelivr.net/gh/ading2210/edpuzzle-answers@latest/script.js").then(r => r.text()).then(r => eval(r))
    } else if (host.includes('quizlet.com')) {
        fetch("https://cdn.jsdelivr.net/gh/jokeri2222/Quizlet-Hack@latest/QuizletHack.user.js").then(r => r.text()).then(r => eval(r))
    } else if (host.includes('gimkit.com')) {
        !function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(e){let t;return s(e,(e=>t=e))(),t}function c(e,t,n){e.$$.on_destroy.push(s(t,n))}function l(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function f(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function d(e,t,n,r,o,i){if(o){const s=u(t,n,r,i);e.p(s,o)}}function h(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function p(e,t,n){return e.set(n),t}const g="undefined"!=typeof window;let m=g?()=>window.performance.now():()=>Date.now(),$=g?e=>requestAnimationFrame(e):e;const y=new Set;function v(e){y.forEach((t=>{t.c(e)||(y.delete(t),t.f())})),0!==y.size&&$(v)}const b="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function w(e,t){e.appendChild(t)}function x(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!r.getElementById(t)){const e=O("style");e.id=t,e.textContent=n,function(e,t){w(e.head||e,t),t.sheet}(r,e)}}function E(e,t,n){e.insertBefore(t,n||null)}function _(e){e.parentNode&&e.parentNode.removeChild(e)}function A(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function O(e){return document.createElement(e)}function I(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function T(){return k(" ")}function C(){return k("")}function R(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function P(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function N(e){return""===e?null:+e}function D(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t){e.value=null==t?"":t}function q(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function U(e,t,n){e.classList.toggle(t,!!n)}let j;function B(e){j=e}function H(){if(!j)throw new Error("Function called outside component initialization");return j}function z(e){H().$$.on_mount.push(e)}function V(e){H().$$.on_destroy.push(e)}function F(){const e=H();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function W(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const J=[],G=[];let K=[];const Q=[],X=Promise.resolve();let Y=!1;function Z(e){K.push(e)}function ee(e){Q.push(e)}const te=new Set;let ne=0;function re(){if(0!==ne)return;const e=j;do{try{for(;ne<J.length;){const e=J[ne];ne++,B(e),oe(e.$$)}}catch(e){throw J.length=0,ne=0,e}for(B(null),J.length=0,ne=0;G.length;)G.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];te.has(t)||(te.add(t),t())}K.length=0}while(J.length);for(;Q.length;)Q.pop()();Y=!1,te.clear(),B(e)}function oe(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}const ie=new Set;let se;function ae(){se={r:0,c:[],p:se}}function ce(){se.r||r(se.c),se=se.p}function le(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function ue(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),se.c.push((()=>{ie.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function fe(e){return void 0!==e?.length?e:Array.from(e)}function de(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function he(e){e&&e.c()}function pe(e,n,i){const{fragment:s,after_update:a}=e.$$;s&&s.m(n,i),Z((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(Z)}function ge(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];K.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),K=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function me(e,t){-1===e.$$.dirty[0]&&(J.push(e),Y||(Y=!0,X.then(re)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $e(t,o,i,s,a,c,l=null,u=[-1]){const f=j;B(t);const d=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||f.$$.root};l&&l(d.root);let h=!1;if(d.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),h&&me(t,e)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);d.fragment&&d.fragment.l(e),e.forEach(_)}else d.fragment&&d.fragment.c();o.intro&&le(t.$$.fragment),pe(t,o.target,o.anchor),re()}B(f)}class ye{$$=void 0;$$set=void 0;$destroy(){ge(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var we={exports:{}};function xe(e,t=100,n={}){if("function"!=typeof e)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(t<0)throw new RangeError("`wait` must not be negative.");const{immediate:r}="boolean"==typeof n?{immediate:n}:n;let o,i,s,a,c;function l(){const n=Date.now()-a;if(n<t&&n>=0)s=setTimeout(l,t-n);else if(s=void 0,!r){const t=o,n=i;o=void 0,i=void 0,c=e.apply(t,n)}}const u=function(...n){if(o&&this!==o)throw new Error("Debounced method called with different contexts.");o=this,i=n,a=Date.now();const u=r&&!s;if(s||(s=setTimeout(l,t)),u){const t=o,n=i;o=void 0,i=void 0,c=e.apply(t,n)}return c};return u.clear=()=>{s&&(clearTimeout(s),s=void 0)},u.flush=()=>{if(!s)return;const t=o,n=i;o=void 0,i=void 0,c=e.apply(t,n),clearTimeout(s),s=void 0},u}we.exports.debounce=xe,we.exports=xe;var Ee=be(we.exports);const _e=[];function Ae(t,n=e){let r;const o=new Set;function s(e){if(i(t,e)&&(t=e,r)){const e=!_e.length;for(const e of o)e[1](),_e.push(e,t);if(e){for(let e=0;e<_e.length;e+=2)_e[e][0](_e[e+1]);_e.length=0}}}function a(e){s(e(t))}return{set:s,update:a,subscribe:function(i,c=e){const l=[i,c];return o.add(l),1===o.size&&(r=n(s,a)||e),i(t),()=>{o.delete(l),0===o.size&&r&&(r(),r=null)}}}}function Oe(e){return"[object Date]"===Object.prototype.toString.call(e)}function Ie(e,t,n,r){if("number"==typeof n||Oe(n)){const o=r-n,i=(n-t)/(e.dt||1/60),s=(i+(e.opts.stiffness*o-e.opts.damping*i)*e.inv_mass)*e.dt;return Math.abs(s)<e.opts.precision&&Math.abs(o)<e.opts.precision?r:(e.settled=!1,Oe(n)?new Date(n.getTime()+s):n+s)}if(Array.isArray(n))return n.map(((o,i)=>Ie(e,t[i],n[i],r[i])));if("object"==typeof n){const o={};for(const i in n)o[i]=Ie(e,t[i],n[i],r[i]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function ke(e,t={}){const n=Ae(e),{stiffness:r=.15,damping:o=.8,precision:i=.01}=t;let s,a,c,l=e,u=e,f=1,d=0,h=!1;function p(t,r={}){u=t;const o=c={};if(null==e||r.hard||g.stiffness>=1&&g.damping>=1)return h=!0,s=m(),l=t,n.set(e=u),Promise.resolve();if(r.soft){const e=!0===r.soft?.5:+r.soft;d=1/(60*e),f=0}return a||(s=m(),h=!1,a=function(e){let t;return 0===y.size&&$(v),{promise:new Promise((n=>{y.add(t={c:e,f:n})})),abort(){y.delete(t)}}}((t=>{if(h)return h=!1,a=null,!1;f=Math.min(f+d,1);const r={inv_mass:f,opts:g,settled:!0,dt:60*(t-s)/1e3},o=Ie(r,l,e,u);return s=t,l=e,n.set(e=o),r.settled&&(a=null),!r.settled}))),new Promise((e=>{a.promise.then((()=>{o===c&&e()}))}))}const g={set:p,update:(t,n)=>p(t(u,e),n),subscribe:n.subscribe,stiffness:r,damping:o,precision:i};return g}const Te="undefined"!=typeof GM_getValue;function Ce(e,t){Te?GM_setValue(e,t):localStorage.setItem(`gc-${e}`,t)}function Re(e,t){return Te?GM_getValue(e,t):localStorage.getItem(`gc-${e}`)??t}const Se={textColor:"rgba(255, 255, 255, 1)",menuBackgroundColor:"rgba(0, 0, 0, 0.5)",menuOutlineColor:"rgba(255, 255, 255, 0)",menuHeaderBackgroundColor:"rgba(0, 0, 255, 0.5)",menuHeaderTextColor:"rgba(255, 255, 255, 1)",buttonBackgroundColor:"rgba(0, 0, 0, 0.5)",buttonBorderColor:"rgba(255, 255, 255, 1)"},Pe={"General Cheats":{x:0,y:0,width:window.innerWidth/4,height:window.innerHeight/3*2,minimized:!1},"Gamemode Specific Cheats":{x:window.innerWidth/8*3,y:0,width:window.innerWidth/4,height:window.innerHeight/3*2,minimized:!1},Customization:{x:window.innerWidth/4*3,y:0,width:window.innerWidth/4,height:window.innerHeight/3*2,minimized:!1}};let Me=Re("cssVars"),Ne={};Me&&(Ne=JSON.parse(Me)),Ne=Object.assign({},Se,Ne);let De=Re("menuTransforms"),Le={};De&&(Le=JSON.parse(De)),Le=Object.assign({},Pe,Le);let qe=Re("hotkeys"),Ue={};function je(e,t){return e.matches(t)?e:e.parentElement?je(e.parentElement,t):null}function Be(e){var t=Math.round(e).toString(16);return 1==t.length?"0"+t:t}function He(){return"undefined"==typeof unsafeWindow?window:unsafeWindow}function ze(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e.setUint8(t++,r):(r<2048?e.setUint8(t++,192|r>>6):(r<55296||57344<=r?e.setUint8(t++,224|r>>12):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63)),e.setUint8(t++,128|r>>6&63)),e.setUint8(t++,128|63&r))}qe&&(Ue=JSON.parse(qe));var Ve={encode:function(e,t,n){let r;return r=Array.isArray(e)?{type:2,data:e,options:{compress:!0},nsp:"/"}:{type:2,data:["blueboat_SEND_MESSAGE",{room:n,key:e,data:t}],options:{compress:!0},nsp:"/"},function(e){var t=[],n=[],r=function e(t,n,r){var o=typeof r,i=0,s=0,a=0,c=0,l=0,u=0;if("string"===o){if((l=function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||57344<=t?n+=3:(r++,n+=4);return n}(r))<32)t.push(160|l),u=1;else if(l<256)t.push(217,l),u=2;else if(l<65536)t.push(218,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("String too long");t.push(219,l>>24,l>>16,l>>8,l),u=5}return n.push({h:r,u:l,t:t.length}),u+l}if("number"===o)return Math.floor(r)===r&&isFinite(r)?0<=r?r<128?(t.push(r),1):r<256?(t.push(204,r),2):r<65536?(t.push(205,r>>8,r),3):r<4294967296?(t.push(206,r>>24,r>>16,r>>8,r),5):(a=r/Math.pow(2,32)>>0,c=r>>>0,t.push(207,a>>24,a>>16,a>>8,a,c>>24,c>>16,c>>8,c),9):-32<=r?(t.push(r),1):-128<=r?(t.push(208,r),2):-32768<=r?(t.push(209,r>>8,r),3):-2147483648<=r?(t.push(210,r>>24,r>>16,r>>8,r),5):(a=Math.floor(r/Math.pow(2,32)),c=r>>>0,t.push(211,a>>24,a>>16,a>>8,a,c>>24,c>>16,c>>8,c),9):(t.push(203),n.push({o:r,u:8,t:t.length}),9);if("object"===o){if(null===r)return t.push(192),1;if(Array.isArray(r)){if((l=r.length)<16)t.push(144|l),u=1;else if(l<65536)t.push(220,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Array too large");t.push(221,l>>24,l>>16,l>>8,l),u=5}for(i=0;i<l;i++)u+=e(t,n,r[i]);return u}if(r instanceof Date){var f=r.getTime();return a=Math.floor(f/Math.pow(2,32)),c=f>>>0,t.push(215,0,a>>24,a>>16,a>>8,a,c>>24,c>>16,c>>8,c),10}if(r instanceof ArrayBuffer){if((l=r.byteLength)<256)t.push(196,l),u=2;else if(l<65536)t.push(197,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Buffer too large");t.push(198,l>>24,l>>16,l>>8,l),u=5}return n.push({l:r,u:l,t:t.length}),u+l}if("function"==typeof r.toJSON)return e(t,n,r.toJSON());var d=[],h="",p=Object.keys(r);for(i=0,s=p.length;i<s;i++)"function"!=typeof r[h=p[i]]&&d.push(h);if((l=d.length)<16)t.push(128|l),u=1;else if(l<65536)t.push(222,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Object too large");t.push(223,l>>24,l>>16,l>>8,l),u=5}for(i=0;i<l;i++)u+=e(t,n,h=d[i]),u+=e(t,n,r[h]);return u}if("boolean"===o)return t.push(r?195:194),1;if("undefined"===o)return t.push(212,0,0),3;throw new Error("Could not encode")}(t,n,e),o=new ArrayBuffer(r),i=new DataView(o),s=0,a=0,c=-1;0<n.length&&(c=n[0].t);for(var l,u=0,f=0,d=0,h=t.length;d<h;d++)if(i.setUint8(a+d,t[d]),d+1===c){if(u=(l=n[s]).u,f=a+c,l.l)for(var p=new Uint8Array(l.l),g=0;g<u;g++)i.setUint8(f+g,p[g]);else l.h?ze(i,f,l.h):void 0!==l.o&&i.setFloat64(f,l.o);a+=u,n[++s]&&(c=n[s].t)}let m=Array.from(new Uint8Array(o));return m.unshift(4),new Uint8Array(m).buffer}(r)},decode:function(e){function t(e){if(this.t=0,e instanceof ArrayBuffer)this.i=e,this.s=new DataView(this.i);else{if(!ArrayBuffer.isView(e))return null;this.i=e.buffer,this.s=new DataView(this.i,e.byteOffset,e.byteLength)}}t.prototype.g=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.v();return t},t.prototype.M=function(e){for(var t={},n=0;n<e;n++)t[this.v()]=this.v();return t},t.prototype.h=function(e){var t=function(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e.getUint8(i);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));65536<=(o=(7&a)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0)?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&a)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(a)}return r}(this.s,this.t,e);return this.t+=e,t},t.prototype.l=function(e){var t=this.i.slice(this.t,this.t+e);return this.t+=e,t},t.prototype.v=function(){if(!this.s)return null;var e,t=this.s.getUint8(this.t++),n=0,r=0,o=0,i=0;if(t<192)return t<128?t:t<144?this.M(15&t):t<160?this.g(15&t):this.h(31&t);if(223<t)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this.s.getUint8(this.t),this.t+=1,this.l(n);case 197:return n=this.s.getUint16(this.t),this.t+=2,this.l(n);case 198:return n=this.s.getUint32(this.t),this.t+=4,this.l(n);case 199:return n=this.s.getUint8(this.t),r=this.s.getInt8(this.t+1),this.t+=2,[r,this.l(n)];case 200:return n=this.s.getUint16(this.t),r=this.s.getInt8(this.t+2),this.t+=3,[r,this.l(n)];case 201:return n=this.s.getUint32(this.t),r=this.s.getInt8(this.t+4),this.t+=5,[r,this.l(n)];case 202:return e=this.s.getFloat32(this.t),this.t+=4,e;case 203:return e=this.s.getFloat64(this.t),this.t+=8,e;case 204:return e=this.s.getUint8(this.t),this.t+=1,e;case 205:return e=this.s.getUint16(this.t),this.t+=2,e;case 206:return e=this.s.getUint32(this.t),this.t+=4,e;case 207:return o=this.s.getUint32(this.t)*Math.pow(2,32),i=this.s.getUint32(this.t+4),this.t+=8,o+i;case 208:return e=this.s.getInt8(this.t),this.t+=1,e;case 209:return e=this.s.getInt16(this.t),this.t+=2,e;case 210:return e=this.s.getInt32(this.t),this.t+=4,e;case 211:return o=this.s.getInt32(this.t)*Math.pow(2,32),i=this.s.getUint32(this.t+4),this.t+=8,o+i;case 212:return r=this.s.getInt8(this.t),this.t+=1,0===r?void(this.t+=1):[r,this.l(1)];case 213:return r=this.s.getInt8(this.t),this.t+=1,[r,this.l(2)];case 214:return r=this.s.getInt8(this.t),this.t+=1,[r,this.l(4)];case 215:return r=this.s.getInt8(this.t),this.t+=1,0===r?(o=this.s.getInt32(this.t)*Math.pow(2,32),i=this.s.getUint32(this.t+4),this.t+=8,new Date(o+i)):[r,this.l(8)];case 216:return r=this.s.getInt8(this.t),this.t+=1,[r,this.l(16)];case 217:return n=this.s.getUint8(this.t),this.t+=1,this.h(n);case 218:return n=this.s.getUint16(this.t),this.t+=2,this.h(n);case 219:return n=this.s.getUint32(this.t),this.t+=4,this.h(n);case 220:return n=this.s.getUint16(this.t),this.t+=2,this.g(n);case 221:return n=this.s.getUint32(this.t),this.t+=4,this.g(n);case 222:return n=this.s.getUint16(this.t),this.t+=2,this.M(n);case 223:return n=this.s.getUint32(this.t),this.t+=4,this.M(n)}throw new Error("Could not parse")};const n=function(e){var n=new t(e=e.slice(1)),r=n.v();return n.t===e.byteLength?r:null}(e);return n?.data?.[1]}},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});var We=Fe.decode=Ye=Fe.encode=void 0;function Je(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}Je.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},Je.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},Je.prototype._str=function(e){var t=function(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e.getUint8(i);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&a)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(a)}return r}(this._view,this._offset,e);return this._offset+=e,t},Je.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},Je.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,r=0,o=0,i=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:if(n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,-1===r){var s=this._view.getUint32(this._offset);return o=this._view.getInt32(this._offset+4),i=this._view.getUint32(this._offset+8),this._offset+=12,new Date(1e3*(4294967296*o+i)+s/1e6)}return[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,-1===r?(e=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*e)):[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+i)):-1===r?(o=this._view.getUint32(this._offset),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*(4294967296*(3&o)+i)+(o>>>2)/1e6)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},We=Fe.decode=function(e,t=0){var n=new Je(e,t),r=n._parse();if(n._offset!==e.byteLength)throw new Error(e.byteLength-n._offset+" trailing bytes");return r};var Ge=4294967295,Ke=17179869183;function Qe(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|63&r)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r)):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r))}function Xe(e,t,n){var r=typeof n,o=0,i=0,s=0,a=0,c=0,l=0;if("string"===r){if(c=function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(n),c<32)e.push(160|c),l=1;else if(c<256)e.push(217,c),l=2;else if(c<65536)e.push(218,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("String too long");e.push(219,c>>24,c>>16,c>>8,c),l=5}return t.push({_str:n,_length:c,_offset:e.length}),l+c}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(e.push(n),1):n<256?(e.push(204,n),2):n<65536?(e.push(205,n>>8,n),3):n<4294967296?(e.push(206,n>>24,n>>16,n>>8,n),5):(s=n/Math.pow(2,32)>>0,a=n>>>0,e.push(207,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):n>=-32?(e.push(n),1):n>=-128?(e.push(208,n),2):n>=-32768?(e.push(209,n>>8,n),3):n>=-2147483648?(e.push(210,n>>24,n>>16,n>>8,n),5):(s=Math.floor(n/Math.pow(2,32)),a=n>>>0,e.push(211,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):(e.push(203),t.push({_float:n,_length:8,_offset:e.length}),9);if("object"===r){if(null===n)return e.push(192),1;if(Array.isArray(n)){if((c=n.length)<16)e.push(144|c),l=1;else if(c<65536)e.push(220,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Array too large");e.push(221,c>>24,c>>16,c>>8,c),l=5}for(o=0;o<c;o++)l+=Xe(e,t,n[o]);return l}if(n instanceof Date){var u=n.getTime(),f=Math.floor(u/1e3),d=1e6*(u-1e3*f);return f>=0&&d>=0&&f<=Ke?0===d&&f<=Ge?(e.push(214,255,f>>24,f>>16,f>>8,f),6):(s=f/4294967296,a=4294967295&f,e.push(215,255,d>>22,d>>14,d>>6,s,a>>24,a>>16,a>>8,a),10):(s=Math.floor(f/4294967296),a=f>>>0,e.push(199,12,255,d>>24,d>>16,d>>8,d,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),15)}if(n instanceof ArrayBuffer){if((c=n.byteLength)<256)e.push(196,c),l=2;else if(c<65536)e.push(197,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Buffer too large");e.push(198,c>>24,c>>16,c>>8,c),l=5}return t.push({_bin:n,_length:c,_offset:e.length}),l+c}if("function"==typeof n.toJSON)return Xe(e,t,n.toJSON());var h=[],p="",g=Object.keys(n);for(o=0,i=g.length;o<i;o++)void 0!==n[p=g[o]]&&"function"!=typeof n[p]&&h.push(p);if((c=h.length)<16)e.push(128|c),l=1;else if(c<65536)e.push(222,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Object too large");e.push(223,c>>24,c>>16,c>>8,c),l=5}for(o=0;o<c;o++)l+=Xe(e,t,p=h[o]),l+=Xe(e,t,n[p]);return l}if("boolean"===r)return e.push(n?195:194),1;if("undefined"===r)return e.push(192),1;if("function"==typeof n.toJSON)return Xe(e,t,n.toJSON());throw new Error("Could not encode")}var Ye=Fe.encode=function(e){var t=[],n=[],r=Xe(t,n,e),o=new ArrayBuffer(r),i=new DataView(o),s=0,a=0,c=-1;n.length>0&&(c=n[0]._offset);for(var l,u=0,f=0,d=0,h=t.length;d<h;d++)if(i.setUint8(a+d,t[d]),d+1===c){if(u=(l=n[s])._length,f=a+c,l._bin)for(var p=new Uint8Array(l._bin),g=0;g<u;g++)i.setUint8(f+g,p[g]);else l._str?Qe(i,f,l._str):void 0!==l._float&&i.setFloat64(f,l._float);a+=u,n[++s]&&(c=n[s]._offset)}return o},Ze={exports:{}};(function(e){function t(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==typeof e&&e.buffer instanceof ArrayBuffer}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o,i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function c(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function l(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}!function(e){e[e.CONSENTED=4e3]="CONSENTED",e[e.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(o||(o={}));var u=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name="ServerError",r.code=t,r}return r(t,e),t}(Error);function f(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}function d(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e.getUint8(i);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e.getUint8(++i))<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++i))<<6|(63&e.getUint8(++i))<<0);else r+=String.fromCharCode((31&a)<<6|63&e.getUint8(++i));else r+=String.fromCharCode(a)}return r}function h(e,t){void 0===t&&(t=0);var n=new f(e,t),r=n._parse();if(n._offset!==e.byteLength)throw new Error(e.byteLength-n._offset+" trailing bytes");return r}f.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},f.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},f.prototype._str=function(e){var t=d(this._view,this._offset,e);return this._offset+=e,t},f.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},f.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,r=0,o=0,i=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:if(n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,-1===r){var s=this._view.getUint32(this._offset);return o=this._view.getInt32(this._offset+4),i=this._view.getUint32(this._offset+8),this._offset+=12,new Date(1e3*(4294967296*o+i)+s/1e6)}return[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,-1===r?(e=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*e)):[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+i)):-1===r?(o=this._view.getUint32(this._offset),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*(4294967296*(3&o)+i)+(o>>>2)/1e6)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")};var p=4294967295,g=17179869183;function m(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|63&r)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r)):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r))}function $(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function y(e,t,n){var r=typeof n,o=0,i=0,s=0,a=0,c=0,l=0;if("string"===r){if((c=$(n))<32)e.push(160|c),l=1;else if(c<256)e.push(217,c),l=2;else if(c<65536)e.push(218,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("String too long");e.push(219,c>>24,c>>16,c>>8,c),l=5}return t.push({_str:n,_length:c,_offset:e.length}),l+c}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(e.push(n),1):n<256?(e.push(204,n),2):n<65536?(e.push(205,n>>8,n),3):n<4294967296?(e.push(206,n>>24,n>>16,n>>8,n),5):(s=n/Math.pow(2,32)>>0,a=n>>>0,e.push(207,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):n>=-32?(e.push(n),1):n>=-128?(e.push(208,n),2):n>=-32768?(e.push(209,n>>8,n),3):n>=-2147483648?(e.push(210,n>>24,n>>16,n>>8,n),5):(s=Math.floor(n/Math.pow(2,32)),a=n>>>0,e.push(211,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):(e.push(203),t.push({_float:n,_length:8,_offset:e.length}),9);if("object"===r){if(null===n)return e.push(192),1;if(Array.isArray(n)){if((c=n.length)<16)e.push(144|c),l=1;else if(c<65536)e.push(220,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Array too large");e.push(221,c>>24,c>>16,c>>8,c),l=5}for(o=0;o<c;o++)l+=y(e,t,n[o]);return l}if(n instanceof Date){var u=n.getTime(),f=Math.floor(u/1e3),d=1e6*(u-1e3*f);return f>=0&&d>=0&&f<=g?0===d&&f<=p?(e.push(214,255,f>>24,f>>16,f>>8,f),6):(s=f/4294967296,a=4294967295&f,e.push(215,255,d>>22,d>>14,d>>6,s,a>>24,a>>16,a>>8,a),10):(s=Math.floor(f/4294967296),a=f>>>0,e.push(199,12,255,d>>24,d>>16,d>>8,d,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),15)}if(n instanceof ArrayBuffer){if((c=n.byteLength)<256)e.push(196,c),l=2;else if(c<65536)e.push(197,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Buffer too large");e.push(198,c>>24,c>>16,c>>8,c),l=5}return t.push({_bin:n,_length:c,_offset:e.length}),l+c}if("function"==typeof n.toJSON)return y(e,t,n.toJSON());var h=[],m="",v=Object.keys(n);for(o=0,i=v.length;o<i;o++)void 0!==n[m=v[o]]&&"function"!=typeof n[m]&&h.push(m);if((c=h.length)<16)e.push(128|c),l=1;else if(c<65536)e.push(222,c>>8,c),l=3;else{if(!(c<4294967296))throw new Error("Object too large");e.push(223,c>>24,c>>16,c>>8,c),l=5}for(o=0;o<c;o++)l+=y(e,t,m=h[o]),l+=y(e,t,n[m]);return l}if("boolean"===r)return e.push(n?195:194),1;if("undefined"===r)return e.push(192),1;if("function"==typeof n.toJSON)return y(e,t,n.toJSON());throw new Error("Could not encode")}function v(e){var t=[],n=[],r=y(t,n,e),o=new ArrayBuffer(r),i=new DataView(o),s=0,a=0,c=-1;n.length>0&&(c=n[0]._offset);for(var l,u=0,f=0,d=0,h=t.length;d<h;d++)if(i.setUint8(a+d,t[d]),d+1===c){if(u=(l=n[s])._length,f=a+c,l._bin)for(var p=new Uint8Array(l._bin),g=0;g<u;g++)i.setUint8(f+g,p[g]);else l._str?m(i,f,l._str):void 0!==l._float&&i.setFloat64(f,l._float);a+=u,n[++s]&&(c=n[s]._offset)}return o}var b,w=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},x=globalThis.WebSocket||w,E=function(){function e(e){this.events=e}return e.prototype.send=function(e){e instanceof ArrayBuffer?this.ws.send(e):Array.isArray(e)&&this.ws.send(new Uint8Array(e).buffer)},e.prototype.connect=function(e){this.ws=new x(e,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},e.prototype.close=function(e,t){this.ws.close(e,t)},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.ws.readyState===x.OPEN},enumerable:!1,configurable:!0}),e}(),_=function(){function e(){this.events={},this.transport=new E(this.events)}return e.prototype.send=function(e){this.transport.send(e)},e.prototype.connect=function(e){this.transport.connect(e)},e.prototype.close=function(e,t){this.transport.close(e,t)},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.transport.isOpen},enumerable:!1,configurable:!0}),e}();function A(e,t){for(var n=e[t++],r="",o=0,i=t,s=t+n;i<s;i++){var a=e[i];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&a)<<6|63&e[++i]);else r+=String.fromCharCode(a)}return r}function O(e){void 0===e&&(e="");for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n+1}e.Protocol=void 0,function(e){e[e.HANDSHAKE=9]="HANDSHAKE",e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.ERROR=11]="ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",e[e.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",e[e.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(e.Protocol||(e.Protocol={})),e.ErrorCode=void 0,(b=e.ErrorCode||(e.ErrorCode={}))[b.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",b[b.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",b[b.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",b[b.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",b[b.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",b[b.AUTH_FAILED=4215]="AUTH_FAILED",b[b.APPLICATION_ERROR=4216]="APPLICATION_ERROR";var I={};function k(e,t){I[e]=t}function T(e){var t=I[e];if(!t)throw new Error("missing serializer: "+e);return t}var C=function(){return{emit:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=this.events[e]||[],o=0,i=r.length;o<i;o++)r[o].apply(r,t)},events:{},on:function(e,t){var n,r=this;return(null===(n=this.events[e])||void 0===n?void 0:n.push(t))||(this.events[e]=[t]),function(){var n;r.events[e]=null===(n=r.events[e])||void 0===n?void 0:n.filter((function(e){return t!==e}))}}}},R=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.handlers.forEach((function(n){return n.apply(e,t)}))},e.prototype.invokeAsync=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Promise.all(this.handlers.map((function(n){return n.apply(e,t)})))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();function S(){var e=new R;function t(t){return e.register(t,null===this)}return t.once=function(t){var n=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(this,r),e.remove(n)};e.register(n)},t.remove=function(t){return e.remove(t)},t.invoke=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invoke.apply(e,t)},t.invokeAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invokeAsync.apply(e,t)},t.clear=function(){return e.clear()},t}function P(e){var t={exports:{}};return e(t,t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ve||"undefined"!=typeof self&&self;var M=P((function(e,t){!function(e,n){n(t)}(0,(function(e){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function o(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var i,s=255,a=213;e.OPERATION=void 0,(i=e.OPERATION||(e.OPERATION={}))[i.ADD=128]="ADD",i[i.REPLACE=0]="REPLACE",i[i.DELETE=64]="DELETE",i[i.DELETE_AND_ADD=192]="DELETE_AND_ADD",i[i.TOUCH=1]="TOUCH",i[i.CLEAR=10]="CLEAR";var c=function(){function t(e,t,n){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,n)}return t.prototype.setParent=function(e,t,n){var r=this;if(this.indexes||(this.indexes=this.ref instanceof Te?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=n,t)if(this.root=t,this.ref instanceof Te){var o=this.ref._definition;for(var i in o.schema){var s=this.ref[i];if(s&&s.$changes){var a=o.indexes[i];s.$changes.setParent(this.ref,t,a)}}}else"object"==typeof this.ref&&this.ref.forEach((function(e,t){if(e instanceof Te){var n=e.$changes,o=r.ref.$changes.indexes[t];n.setParent(r.ref,r.root,o)}}))},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,n){void 0===n&&(n=e.OPERATION.ADD);var r="number"==typeof t?t:this.indexes[t];this.assertValidIndex(r,t);var o=this.changes.get(r);o&&o.op!==e.OPERATION.DELETE&&o.op!==e.OPERATION.TOUCH||this.changes.set(r,{op:o&&o.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:n,index:r}),this.allChanges.add(r),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t),this.changes.has(n)||this.changes.set(n,{op:e.OPERATION.TOUCH,index:n}),this.allChanges.add(n),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition)return(t=this.ref._definition).schema[t.fieldsByIndex[e]];var t,n=(t=this.parent._definition).schema[t.fieldsByIndex[this.parentIndex]];return Object.values(n)[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var n="number"==typeof t?t:this.indexes[t];if(void 0!==n){var r=this.getValue(n);this.changes.set(n,{op:e.OPERATION.DELETE,index:n}),this.allChanges.delete(n),delete this.caches[n],r&&r.$changes&&(r.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(n,")"))},t.prototype.discard=function(t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.ref instanceof Te||this.changes.forEach((function(t){if(t.op===e.OPERATION.DELETE){var n=r.ref.getIndex(t.index);delete r.indexes[n]}})),this.changes.clear(),this.changed=t,n&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach((function(t){var n=e.getValue(t.index);n&&n.$changes&&n.$changes.discardAll()})),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw new Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function l(e,t,n,r){return e[t]||(e[t]=[]),e[t].push(n),null==r||r.forEach((function(e,t){return n(e,t)})),function(){return f(e[t],e[t].indexOf(n))}}function u(t){var n=this,r="string"!=typeof this.$changes.getType();this.$items.forEach((function(o,i){t.push({refId:n.$changes.refId,op:e.OPERATION.DELETE,field:i,value:void 0,previousValue:o}),r&&n.$changes.root.removeRef(o.$changes.refId)}))}function f(e,t){if(-1===t||t>=e.length)return!1;for(var n=e.length-1,r=t;r<n;r++)e[r]=e[r+1];return e.length=n,!0}var d=function(e,t){var n=e.toString(),r=t.toString();return n<r?-1:n>r?1:0};function h(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,n){if("symbol"==typeof t||isNaN(t))e[t]=n;else{var r=Array.from(e.$items.keys()),o=parseInt(r[t]||t);null==n?e.deleteAt(o):e.setAt(o,n)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0}}),e}var p=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){e=t.$refId++,t.setAt(e,n)})),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.setAt=function(t,n){var r,o;void 0!==n.$changes&&n.$changes.setParent(this,this.$changes.root,t);var i=null!==(o=null===(r=this.$changes.indexes[t])||void 0===r?void 0:r.op)&&void 0!==o?o:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,n),this.$changes.change(t,i)},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(t.bind.apply(t,o([void 0],(e=Array.from(this.$items.values())).concat.apply(e,n),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach((function(n,r){e.setAt(t[r],n)})),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,n){var r=new t;return r.push.apply(r,Array.from(this.$items.values()).slice(e,n)),r},t.prototype.sort=function(e){var t=this;void 0===e&&(e=d);var n=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach((function(e,r){t.setAt(n[r],e)})),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var n=Array.from(this.$items.keys()),r=[],o=e;o<e+t;o++)r.push(this.$items.get(n[o])),this.$deleteAt(n[o]);return r},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.length,o=t.length,i=Array.from(this.$items.values());return t.forEach((function(t,n){e.setAt(n,t)})),i.forEach((function(t,n){e.setAt(o+n,t)})),r+o},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,n){throw new Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,n){throw new Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw new Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw new Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map((function(e){return"function"==typeof e.toJSON?e.toJSON():e}))},t.prototype.clone=function(e){return e?new(t.bind.apply(t,o([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,o([void 0],this.map((function(e){return e.$changes?e.clone():e})),!1)))},t}();function g(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,n){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,n):e[t]=n,!0},deleteProperty:function(e,t){return e.delete(t),!0}}),e}var m=function(){function t(e){var n=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e)if(e instanceof Map||e instanceof t)e.forEach((function(e,t){return n.set(t,e)}));else for(var r in e)this.set(r,e[r])}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),t.prototype.set=function(t,n){if(null==n)throw new Error("MapSchema#set('".concat(t,"', ").concat(n,"): trying to set ").concat(n," value on '").concat(t,"'."));var r=void 0!==this.$changes.indexes[t],o=r?this.$changes.indexes[t]:this.$refId++,i=r?e.OPERATION.REPLACE:e.OPERATION.ADD,s=void 0!==n.$changes;return s&&n.$changes.setParent(this,this.$changes.root,o),r?s&&this.$items.get(t)!==n&&(i=e.OPERATION.ADD):(this.$changes.indexes[t]=o,this.$indexes.set(o,t)),this.$items.set(t,n),this.$changes.change(t,i),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach((function(t,n){e[n]="function"==typeof t.toJSON?t.toJSON():t})),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach((function(e,t){e.$changes?n.set(t,e.clone()):n.set(t,e)}))),n},t}(),$={};function y(e,t){$[e]=t}function v(e){return $[e]}var b=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var n=new e;return n.schema=Object.assign({},t&&t.schema||{}),n.indexes=Object.assign({},t&&t.indexes||{}),n.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),n.descriptors=Object.assign({},t&&t.descriptors||{}),n.deprecated=Object.assign({},t&&t.deprecated||{}),n},e.prototype.addField=function(e,t){var n=this.getNextFieldIndex();this.fieldsByIndex[n]=e,this.indexes[e]=n,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var n=this.indexes[e],r=this.schema[e];if(v(Object.keys(r)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[n]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}();function w(e){return e._context&&e._context.useFilters}var x=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=b.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(n){return t.context||(t.context=new e),_(n,t)}},e}(),E=new x;function _(e,t){return void 0===t&&(t={}),function(n,r){var i=t.context||E,s=n.constructor;if(s._context=i,!e)throw new Error("".concat(s.name,': @type() reference provided for "').concat(r,"\" is undefined. Make sure you don't have any circular dependencies."));i.has(s)||i.add(s);var a=s._definition;if(a.addField(r,e),a.descriptors[r]){if(a.deprecated[r])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(r,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(e){var c=e.stack.split("\n")[4].trim();throw new Error("".concat(e.message," ").concat(c))}}var l=p.is(e),u=!l&&m.is(e);if("string"!=typeof e&&!Te.is(e)){var f=Object.values(e)[0];"string"==typeof f||i.has(f)||i.add(f)}if(t.manual)a.descriptors[r]={enumerable:!0,configurable:!0,writable:!0};else{var d="_".concat(r);a.descriptors[d]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[r]={get:function(){return this[d]},set:function(e){e!==this[d]&&(null!=e?(!l||e instanceof p||(e=new(p.bind.apply(p,o([void 0],e,!1)))),!u||e instanceof m||(e=new m(e)),void 0===e.$proxy&&(u?e=g(e):l&&(e=h(e))),this.$changes.change(r),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[r])):this[d]&&this.$changes.delete(r),this[d]=e)},enumerable:!0,configurable:!0}}}}function A(e){return function(t,n){var r=t.constructor;r._definition.addFilter(n,e)&&(r._context.useFilters=!0)}}function O(e){return function(t,n){var r=t.constructor;r._definition.addChildrenFilter(n,e)&&(r._context.useFilters=!0)}}function I(e){return void 0===e&&(e=!0),function(t,n){var r=t.constructor._definition;r.deprecated[n]=!0,e&&(r.descriptors[n]={get:function(){throw new Error("".concat(n," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}}function k(e,t,n){for(var r in void 0===n&&(n={}),n.context||(n.context=e._context||n.context||E),t)_(t[r],n)(e.prototype,r);return e}function T(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function C(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function R(e,t){e.push(255&t)}function S(e,t){e.push(255&t)}function P(e,t){e.push(255&t),e.push(t>>8&255)}function M(e,t){e.push(255&t),e.push(t>>8&255)}function N(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function D(e,t){var n=t>>24,r=t>>16,o=t>>8,i=t;e.push(255&i),e.push(255&o),e.push(255&r),e.push(255&n)}function L(e,t){var n=Math.floor(t/Math.pow(2,32));D(e,t>>>0),D(e,n)}function q(e,t){var n=t/Math.pow(2,32)>>0;D(e,t>>>0),D(e,n)}function U(e,t){V(e,t)}function j(e,t){F(e,t)}var B=new Int32Array(2),H=new Float32Array(B.buffer),z=new Float64Array(B.buffer);function V(e,t){H[0]=t,N(e,B[0])}function F(e,t){z[0]=t,N(e,B[0]),N(e,B[1])}function W(e,t){return S(e,t?1:0)}function J(e,t){t||(t="");var n=T(t),r=0;if(n<32)e.push(160|n),r=1;else if(n<256)e.push(217),S(e,n),r=2;else if(n<65536)e.push(218),M(e,n),r=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),D(e,n),r=5}return C(e,e.length,t),r+n}function G(e,t){return isNaN(t)?G(e,0):isFinite(t)?t!==(0|t)?(e.push(203),F(e,t),9):t>=0?t<128?(S(e,t),1):t<256?(e.push(204),S(e,t),2):t<65536?(e.push(205),M(e,t),3):t<4294967296?(e.push(206),D(e,t),5):(e.push(207),q(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),R(e,t),2):t>=-32768?(e.push(209),P(e,t),3):t>=-2147483648?(e.push(210),N(e,t),5):(e.push(211),L(e,t),9):G(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var K=Object.freeze({__proto__:null,utf8Write:C,int8:R,uint8:S,int16:P,uint16:M,int32:N,uint32:D,int64:L,uint64:q,float32:U,float64:j,writeFloat32:V,writeFloat64:F,boolean:W,string:J,number:G});function Q(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e[i];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(o=(7&a)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o):r+=String.fromCharCode((15&a)<<12|(63&e[++i])<<6|(63&e[++i])<<0):r+=String.fromCharCode((31&a)<<6|63&e[++i]):r+=String.fromCharCode(a)}return r}function X(e,t){return Y(e,t)<<24>>24}function Y(e,t){return e[t.offset++]}function Z(e,t){return ee(e,t)<<16>>16}function ee(e,t){return e[t.offset++]|e[t.offset++]<<8}function te(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function ne(e,t){return te(e,t)>>>0}function re(e,t){return ue(e,t)}function oe(e,t){return fe(e,t)}function ie(e,t){var n=ne(e,t);return te(e,t)*Math.pow(2,32)+n}function se(e,t){var n=ne(e,t);return ne(e,t)*Math.pow(2,32)+n}var ae=new Int32Array(2),ce=new Float32Array(ae.buffer),le=new Float64Array(ae.buffer);function ue(e,t){return ae[0]=te(e,t),ce[0]}function fe(e,t){return ae[0]=te(e,t),ae[1]=te(e,t),le[0]}function de(e,t){return Y(e,t)>0}function he(e,t){var n,r=e[t.offset++];r<192?n=31&r:217===r?n=Y(e,t):218===r?n=ee(e,t):219===r&&(n=ne(e,t));var o=Q(e,t.offset,n);return t.offset+=n,o}function pe(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n}function ge(e,t){var n=e[t.offset++];return n<128?n:202===n?ue(e,t):203===n?fe(e,t):204===n?Y(e,t):205===n?ee(e,t):206===n?ne(e,t):207===n?se(e,t):208===n?X(e,t):209===n?Z(e,t):210===n?te(e,t):211===n?ie(e,t):n>223?-1*(255-n+1):void 0}function me(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211}function $e(e,t){return e[t.offset]<160}function ye(e,t){return e[t.offset-1]===s&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var ve=Object.freeze({__proto__:null,int8:X,uint8:Y,int16:Z,uint16:ee,int32:te,uint32:ne,float32:re,float64:oe,int64:ie,uint64:se,readFloat32:ue,readFloat64:fe,boolean:de,string:he,stringCheck:pe,number:ge,numberCheck:me,arrayCheck:$e,switchStructureCheck:ye}),be=function(){function t(e){var t=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach((function(e){return t.add(e)}))}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some((function(t){return t===e}))},t.prototype.forEach=function(e){var t=this;this.$items.forEach((function(n,r,o){return e(n,r,t)}))},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach((function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)})),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach((function(e){e.$changes?n.add(e.clone()):n.add(e)}))),n},t}(),we=function(){function t(e){var t=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach((function(e){return t.add(e)}))}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){var n,r;if(this.has(t))return!1;var o=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,o);var i=null!==(r=null===(n=this.$changes.indexes[o])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;return this.$changes.indexes[o]=o,this.$indexes.set(o,o),this.$items.set(o,t),this.$changes.change(o,i),o},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,n=this.$items.values(),r=!1;(t=n.next())&&!t.done;)if(e===t.value){r=!0;break}return r},t.prototype.forEach=function(e){var t=this;this.$items.forEach((function(n,r,o){return e(n,r,t)}))},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach((function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)})),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach((function(e){e.$changes?n.add(e.clone()):n.add(e)}))),n},t}(),xe=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),Ee=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,n){void 0===n&&(n=!0),this.refs.set(e,t),n&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){this.refCounts[e]=this.refCounts[e]-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach((function(t){if(!(e.refCounts[t]>0)){var n=e.refs.get(t);if(n instanceof Te)for(var r in n._definition.schema)"string"!=typeof n._definition.schema[r]&&n[r]&&n[r].$changes&&e.removeRef(n[r].$changes.refId);else{var o=n.$changes.parent._definition,i=o.schema[o.fieldsByIndex[n.$changes.parentIndex]];"function"==typeof Object.values(i)[0]&&Array.from(n.values()).forEach((function(t){return e.removeRef(t.$changes.refId)}))}e.refs.delete(t),delete e.refCounts[t]}})),this.deletedRefs.clear()},e}(),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);function Ae(e,t,n,r){var o,i=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":o="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(n.constructor.name,"#").concat(r));break;case"string":o="string",i=!0;break;case"boolean":return}if(typeof e!==o&&(!i||i&&null!==e)){var s="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new _e("a '".concat(o,"' was expected, but ").concat(s," was provided in ").concat(n.constructor.name,"#").concat(r))}}function Oe(e,t,n,r){if(!(e instanceof t))throw new _e("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(n.constructor.name,"#").concat(r))}function Ie(e,t,n,r,o){Ae(n,e,r,o);var i=K[e];if(!i)throw new _e("a '".concat(e,"' was expected, but ").concat(n," was provided in ").concat(r.constructor.name,"#").concat(o));i(t,n)}function ke(e,t,n){return ve[e](t,n)}var Te=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new Ee),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var n=this._definition.descriptors;n&&Object.defineProperties(this,n),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,n){var r=this;return void 0===n&&(n=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),n&&void 0!==this[e]&&t(this[e],void 0),function(){return f(r.$callbacks[e],r.$callbacks[e].indexOf(t))}},t.prototype.decode=function(n,r,o){var i;void 0===r&&(r={offset:0}),void 0===o&&(o=this);var a=[],c=this.$changes.root,l=n.length,u=0;for(c.refs.set(u,this);r.offset<l;){var f=n[r.offset++];if(f!=s){var d=o.$changes,h=void 0!==o._definition,g=h?f>>6<<6:f;if(g!==e.OPERATION.CLEAR){var $=h?f%(g||255):ge(n,r),y=h?o._definition.fieldsByIndex[$]:"",b=d.getType($),w=void 0,x=void 0,E=void 0;if(h?x=o["_".concat(y)]:(x=o.getByIndex($),(g&e.OPERATION.ADD)===e.OPERATION.ADD?(E=o instanceof m?he(n,r):$,o.setIndex($,E)):E=o.getIndex($)),(g&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(g!==e.OPERATION.DELETE_AND_ADD&&o.deleteByIndex($),x&&x.$changes&&c.removeRef(x.$changes.refId),w=null),void 0!==y){if(g===e.OPERATION.DELETE);else if(t.is(b)){var _=ge(n,r);if(w=c.refs.get(_),g!==e.OPERATION.REPLACE){var A=this.getSchemaType(n,r,b);w||((w=this.createTypeInstance(A)).$changes.refId=_,x&&(w.$callbacks=x.$callbacks,x.$changes.refId&&_!==x.$changes.refId&&c.removeRef(x.$changes.refId))),c.addRef(_,w,w!==x)}}else if("string"==typeof b)w=ke(b,n,r);else{var O=v(Object.keys(b)[0]),I=ge(n,r),k=c.refs.has(I)?x||c.refs.get(I):new O.constructor;if((w=k.clone(!0)).$changes.refId=I,x&&(w.$callbacks=x.$callbacks,x.$changes.refId&&I!==x.$changes.refId)){c.removeRef(x.$changes.refId);for(var T=x.entries(),C=void 0;(C=T.next())&&!C.done;){var R=(i=C.value)[0],S=i[1];a.push({refId:I,op:e.OPERATION.DELETE,field:R,value:void 0,previousValue:S})}}c.addRef(I,w,k!==x)}if(null!=w)if(w.$changes&&w.$changes.setParent(d.ref,d.root,$),o instanceof t)o[y]=w;else if(o instanceof m)R=E,o.$items.set(R,w),o.$changes.allChanges.add($);else if(o instanceof p)o.setAt($,w);else if(o instanceof be){var P=o.add(w);o.setIndex($,P)}else o instanceof we&&!1!==(P=o.add(w))&&o.setIndex($,P);x!==w&&a.push({refId:u,op:g,field:y,dynamicIndex:E,value:w,previousValue:x})}else{console.warn("@colyseus/schema: definition mismatch");for(var M={offset:r.offset};r.offset<l&&(!ye(n,r)||(M.offset=r.offset+1,!c.refs.has(ge(n,M))));)r.offset++}}else o.clear(a)}else{u=ge(n,r);var N=c.refs.get(u);if(!N)throw new Error('"refId" not found: '.concat(u));o=N}}return this._triggerChanges(a),c.garbageCollectDeletedRefs(),a},t.prototype.encode=function(n,r,o){void 0===n&&(n=!1),void 0===r&&(r=[]),void 0===o&&(o=!1);for(var i=this.$changes,a=new WeakSet,c=[i],l=1,u=0;u<l;u++){var f=c[u],d=f.ref,h=d instanceof t;f.ensureRefId(),a.add(f),f!==i&&(f.changed||n)&&(S(r,s),G(r,f.refId));for(var p=n?Array.from(f.allChanges):Array.from(f.changes.values()),g=0,$=p.length;g<$;g++){var y=n?{op:e.OPERATION.ADD,index:p[g]}:p[g],b=y.index,w=h?d._definition.fieldsByIndex&&d._definition.fieldsByIndex[b]:b,x=r.length;if(y.op!==e.OPERATION.TOUCH)if(h)S(r,b|y.op);else{if(S(r,y.op),y.op===e.OPERATION.CLEAR)continue;G(r,b)}if(h||(y.op&e.OPERATION.ADD)!=e.OPERATION.ADD||d instanceof m&&J(r,f.ref.$indexes.get(b)),y.op!==e.OPERATION.DELETE){var E=f.getType(b),_=f.getValue(b);if(_&&_.$changes&&!a.has(_.$changes)&&(c.push(_.$changes),_.$changes.ensureRefId(),l++),y.op!==e.OPERATION.TOUCH){if(t.is(E))Oe(_,E,d,w),G(r,_.$changes.refId),(y.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(r,E,_.constructor);else if("string"==typeof E)Ie(E,r,_,d,w);else{var A=v(Object.keys(E)[0]);Oe(d["_".concat(w)],A.constructor,d,w),G(r,_.$changes.refId)}o&&f.cache(b,r.slice(x))}}}n||o||f.discard()}return r},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(n,r){var o,i;void 0===r&&(r=!1);for(var a=this,c=new Set,l=xe.get(n),u=[this.$changes],f=1,d=[],h=function(h){var p=u[h];if(c.has(p.refId))return"continue";var g=p.ref,$=g instanceof t;S(d,s),G(d,p.refId);var y=l.refIds.has(p),v=r||!y;l.addRefId(p);var b=l.containerIndexes.get(p),w=v?Array.from(p.allChanges):Array.from(p.changes.values());!r&&$&&g._definition.indexesWithFilters&&g._definition.indexesWithFilters.forEach((function(t){!b.has(t)&&p.allChanges.has(t)&&(v?w.push(t):w.push({op:e.OPERATION.ADD,index:t}))}));for(var x=0,E=w.length;x<E;x++){var _=v?{op:e.OPERATION.ADD,index:w[x]}:w[x];if(_.op!==e.OPERATION.CLEAR){var A=_.index;if(_.op!==e.OPERATION.DELETE){var O=p.getValue(A),I=p.getType(A);if($){if((k=g._definition.filters&&g._definition.filters[A])&&!k.call(g,n,O,a)){O&&O.$changes&&c.add(O.$changes.refId);continue}}else{var k,T=p.parent;if((k=p.getChildrenFilter())&&!k.call(T,n,g.$indexes.get(A),O,a)){O&&O.$changes&&c.add(O.$changes.refId);continue}}if(O.$changes&&(u.push(O.$changes),f++),_.op!==e.OPERATION.TOUCH)if(_.op===e.OPERATION.ADD||$)d.push.apply(d,null!==(o=p.caches[A])&&void 0!==o?o:[]),b.add(A);else if(b.has(A))d.push.apply(d,null!==(i=p.caches[A])&&void 0!==i?i:[]);else{if(b.add(A),S(d,e.OPERATION.ADD),G(d,A),g instanceof m){var C=p.ref.$indexes.get(A);J(d,C)}O.$changes?G(d,O.$changes.refId):K[I](d,O)}else O.$changes&&!$&&(S(d,e.OPERATION.ADD),G(d,A),g instanceof m&&(C=p.ref.$indexes.get(A),J(d,C)),G(d,O.$changes.refId))}else $?S(d,_.op|A):(S(d,_.op),G(d,A))}else S(d,_.op)}},p=0;p<f;p++)h(p);return d},t.prototype.clone=function(){var e,t=new this.constructor,n=this._definition.schema;for(var r in n)"object"==typeof this[r]&&"function"==typeof(null===(e=this[r])||void 0===e?void 0:e.clone)?t[r]=this[r].clone():t[r]=this[r];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_".concat(r)]);return n},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(S(e,a),G(e,n._typeid))},t.prototype.getSchemaType=function(e,t,n){var r;return e[t.offset]===a&&(t.offset++,r=this.constructor._context.get(ge(e,t))),r||n},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(n){for(var r,o,i,s,a,c,l,u,f,d=new Set,h=this.$changes.root.refs,p=function(p){var g=n[p],m=g.refId,$=h.get(m),y=$.$callbacks;if((g.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&g.previousValue instanceof t&&(null===(o=null===(r=g.previousValue.$callbacks)||void 0===r?void 0:r[e.OPERATION.DELETE])||void 0===o||o.forEach((function(e){return e()}))),!y)return"continue";if($ instanceof t){if(!d.has(m))try{null===(i=null==y?void 0:y[e.OPERATION.REPLACE])||void 0===i||i.forEach((function(e){return e(n)}))}catch(e){t.onError(e)}try{y.hasOwnProperty(g.field)&&(null===(s=y[g.field])||void 0===s||s.forEach((function(e){return e(g.value,g.previousValue)})))}catch(e){t.onError(e)}}else g.op===e.OPERATION.ADD&&void 0===g.previousValue?null===(a=y[e.OPERATION.ADD])||void 0===a||a.forEach((function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})):g.op===e.OPERATION.DELETE?void 0!==g.previousValue&&(null===(c=y[e.OPERATION.DELETE])||void 0===c||c.forEach((function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}))):g.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==g.previousValue&&(null===(l=y[e.OPERATION.DELETE])||void 0===l||l.forEach((function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}))),null===(u=y[e.OPERATION.ADD])||void 0===u||u.forEach((function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}))),g.value!==g.previousValue&&(null===(f=y[e.OPERATION.REPLACE])||void 0===f||f.forEach((function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})));d.add(m)},g=0;g<n.length;g++)p(g)},t._definition=b.create(),t}();function Ce(e){for(var t=[e.$changes],n=1,r={},o=r,i=function(e){var n=t[e];n.changes.forEach((function(e){var t=n.ref,r=e.index,i=t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r);o[i]=n.getValue(r)}))},s=0;s<n;s++)i(s);return r}var Re={context:new x},Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([_("string",Re)],t.prototype,"name",void 0),r([_("string",Re)],t.prototype,"type",void 0),r([_("number",Re)],t.prototype,"referencedType",void 0),t}(Te),Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new p,t}return n(t,e),r([_("number",Re)],t.prototype,"id",void 0),r([_([Se],Re)],t.prototype,"fields",void 0),t}(Te),Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new p,t}return n(t,e),t.encode=function(e){var n=e.constructor,r=new t;r.rootType=n._typeid;var o=function(e,t){for(var n in t){var o=new Se;o.name=n;var i=void 0;if("string"==typeof t[n])i=t[n];else{var s=t[n],a=void 0;Te.is(s)?(i="ref",a=t[n]):"string"==typeof s[i=Object.keys(s)[0]]?i+=":"+s[i]:a=s[i],o.referencedType=a?a._typeid:-1}o.type=i,e.fields.push(o)}r.types.push(e)},i=n._context.types;for(var s in i){var a=new Pe;a.id=Number(s),o(a,i[s]._definition.schema)}return r.encodeAll()},t.decode=function(e,r){var o=new x,i=new t;i.decode(e,r);var s=i.types.reduce((function(e,t){var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Te),i=t.id;return e[i]=r,o.add(r,i),e}),{});i.types.forEach((function(e){var t=s[e.id];e.fields.forEach((function(e){var n;if(void 0!==e.referencedType){var r=e.type,i=s[e.referencedType];if(!i){var a=e.type.split(":");r=a[0],i=a[1]}"ref"===r?_(i,{context:o})(t.prototype,e.name):_(((n={})[r]=i,n),{context:o})(t.prototype,e.name)}else _(e.type,{context:o})(t.prototype,e.name)}))}));var a=s[i.rootType],c=new a;for(var l in a._definition.schema){var u=a._definition.schema[l];"string"!=typeof u&&(c[l]="function"==typeof u?new u:new(v(Object.keys(u)[0]).constructor))}return c},r([_([Pe],Re)],t.prototype,"types",void 0),r([_("number",Re)],t.prototype,"rootType",void 0),t}(Te);y("map",{constructor:m}),y("array",{constructor:p}),y("set",{constructor:we}),y("collection",{constructor:be}),e.ArraySchema=p,e.CollectionSchema=be,e.Context=x,e.MapSchema=m,e.Reflection=Me,e.ReflectionField=Se,e.ReflectionType=Pe,e.Schema=Te,e.SchemaDefinition=b,e.SetSchema=we,e.decode=ve,e.defineTypes=k,e.deprecated=I,e.dumpChanges=Ce,e.encode=K,e.filter=A,e.filterChildren=O,e.hasFilter=w,e.registerType=y,e.type=_,Object.defineProperty(e,"__esModule",{value:!0})}))})),N=function(){function t(e,t){var n=this;this.onStateChange=S(),this.onError=S(),this.onLeave=S(),this.onJoin=S(),this.hasJoined=!1,this.onMessageHandlers=C(),this.roomId=null,this.name=e,t&&(this.serializer=new(T("schema")),this.rootSchema=t,this.serializer.state=new t),this.onError((function(e,t){var n;return null===(n=console.warn)||void 0===n?void 0:n.call(console,"colyseus.js - onError => (".concat(e,") ").concat(t))})),this.onLeave((function(){return n.removeAllListeners()}))}return Object.defineProperty(t.prototype,"id",{get:function(){return this.roomId},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,n,r){void 0===r&&(r=this);var i=new _;r.connection=i,i.events.onmessage=t.prototype.onMessageCallback.bind(r),i.events.onclose=function(e){var t;if(!r.hasJoined)return null===(t=console.warn)||void 0===t||t.call(console,"Room connection was closed unexpectedly (".concat(e.code,"): ").concat(e.reason)),void r.onError.invoke(e.code,e.reason);e.code===o.DEVMODE_RESTART&&n?n():(r.onLeave.invoke(e.code),r.destroy())},i.events.onerror=function(e){var t;null===(t=console.warn)||void 0===t||t.call(console,"Room, onError (".concat(e.code,"): ").concat(e.reason)),r.onError.invoke(e.code,e.reason)},i.connect(e)},t.prototype.leave=function(t){var n=this;return void 0===t&&(t=!0),new Promise((function(r){n.onLeave((function(e){return r(e)})),n.connection?t?n.connection.send([e.Protocol.LEAVE_ROOM]):n.connection.close():n.onLeave.invoke(o.CONSENTED)}))},t.prototype.onMessage=function(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)},t.prototype.send=function(t,n){var r,o=[e.Protocol.ROOM_DATA];if("string"==typeof t?M.encode.string(o,t):M.encode.number(o,t),void 0!==n){var i=v(n);(r=new Uint8Array(o.length+i.byteLength)).set(new Uint8Array(o),0),r.set(new Uint8Array(i),o.length)}else r=new Uint8Array(o);this.connection.send(r.buffer)},t.prototype.sendBytes=function(t,n){var r,o=[e.Protocol.ROOM_DATA_BYTES];"string"==typeof t?M.encode.string(o,t):M.encode.number(o,t),(r=new Uint8Array(o.length+(n.byteLength||n.length))).set(new Uint8Array(o),0),r.set(new Uint8Array(n),o.length),this.connection.send(r.buffer)},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),t.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},t.prototype.onMessageCallback=function(t){var n=Array.from(new Uint8Array(t.data)),r=n[0];if(r===e.Protocol.JOIN_ROOM){var o=1,i=A(n,o);if(o+=O(i),this.serializerId=A(n,o),o+=O(this.serializerId),!this.serializer){var s=T(this.serializerId);this.serializer=new s}n.length>o&&this.serializer.handshake&&this.serializer.handshake(n,{offset:o}),this.reconnectionToken="".concat(this.roomId,":").concat(i),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([e.Protocol.JOIN_ROOM])}else if(r===e.Protocol.ERROR){var a={offset:1},c=M.decode.number(n,a),l=M.decode.string(n,a);this.onError.invoke(c,l)}else if(r===e.Protocol.LEAVE_ROOM)this.leave();else if(r===e.Protocol.ROOM_DATA_SCHEMA){var u={offset:1};(l=new(d=this.serializer.getState().constructor._context.get(M.decode.number(n,u)))).decode(n,u),this.dispatchMessage(d,l)}else if(r===e.Protocol.ROOM_STATE)n.shift(),this.setState(n);else if(r===e.Protocol.ROOM_STATE_PATCH)n.shift(),this.patch(n);else if(r===e.Protocol.ROOM_DATA){var f={offset:1},d=M.decode.stringCheck(n,f)?M.decode.string(n,f):M.decode.number(n,f);l=n.length>f.offset?h(t.data,f.offset):void 0,this.dispatchMessage(d,l)}else if(r===e.Protocol.ROOM_DATA_BYTES){var p={offset:1};d=M.decode.stringCheck(n,p)?M.decode.string(n,p):M.decode.number(n,p),this.dispatchMessage(d,new Uint8Array(n.slice(p.offset)))}},t.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.dispatchMessage=function(e,t){var n,r=this.getMessageHandlerKey(e);this.onMessageHandlers.events[r]?this.onMessageHandlers.emit(r,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):null===(n=console.warn)||void 0===n||n.call(console,"colyseus.js: onMessage() not registered for type '".concat(e,"'."))},t.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},t.prototype.getMessageHandlerKey=function(e){switch(typeof e){case"function":return"$".concat(e._typeid);case"string":return e;case"number":return"i".concat(e);default:throw new Error("invalid message type.")}},t}();function D(e,t){t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.body}function L(e,t,n){var r,o,i=(n=n||{}).body;return n.method=e,n.headers=n.headers||{},i instanceof FormData||i&&"object"==typeof i&&(n.headers["content-type"]="application/json",n.body=JSON.stringify(i)),n.withCredentials&&(n.credentials="include"),n.timeout&&(o=new AbortController,n.signal=o.signal,r=setTimeout(o.abort,n.timeout)),new Promise(((e,s)=>{fetch(t,n).then(((t,o)=>{clearTimeout(r),D(t,t),o=t.status>=400?s:e,(i=t.headers.get("content-type"))&&~i.indexOf("application/json")?t.text().then((e=>{try{t.data=JSON.parse(e,n.reviver),o(t)}catch(e){e.headers=t.headers,D(t,e),s(e)}})):o(t)})).catch((e=>{e.timeout=o&&o.signal.aborted,s(e)}))}))}var q,U,j,B,H,z=L.bind(L,"GET"),V=L.bind(L,"POST"),F=L.bind(L,"PATCH"),W=L.bind(L,"DELETE"),J=L.bind(L,"PUT"),G={del:W,get:z,patch:F,post:V,put:J,send:L},K=t({__proto__:null,default:G,del:W,get:z,patch:F,post:V,put:J,send:L},[G]),Q=function(){function e(e){this.client=e}return e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("get",e,t)},e.prototype.post=function(e,t){return void 0===t&&(t={}),this.request("post",e,t)},e.prototype.del=function(e,t){return void 0===t&&(t={}),this.request("del",e,t)},e.prototype.put=function(e,t){return void 0===t&&(t={}),this.request("put",e,t)},e.prototype.request=function(e,t,n){return void 0===n&&(n={}),K[e](this.client.getHttpEndpoint(t),this.getOptions(n)).catch((function(e){var t;throw new u(e.statusCode||-1,(null===(t=e.data)||void 0===t?void 0:t.error)||e.statusMessage||e.message||"offline")}))},e.prototype.getOptions=function(e){return this.authToken&&(e.headers||(e.headers={}),e.headers.Authorization="Bearer ".concat(this.authToken),e.withCredentials=!0),e},e}();function X(){return q||(q="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),q}function Y(e,t){X().setItem(e,t)}function Z(e){X().removeItem(e)}function ee(e,t){var n=X().getItem(e);"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return t(e)})):t(n)}var te,ne=function(){function e(e){var t=this;this.http=e,this.settings={path:"/auth",key:"colyseus-auth-token"},U.set(this,!1),j.set(this,void 0),B.set(this,void 0),H.set(this,C()),ee(this.settings.key,(function(e){return t.token=e}))}return Object.defineProperty(e.prototype,"token",{get:function(){return this.http.authToken},set:function(e){this.http.authToken=e},enumerable:!1,configurable:!0}),e.prototype.onChange=function(e){var t=this,n=c(this,H,"f").on("change",e);return c(this,U,"f")||l(this,j,new Promise((function(e,n){t.getUserData().then((function(e){t.emitChange(i(i({},e),{token:t.token}))})).catch((function(e){t.emitChange({user:null,token:void 0})})).finally((function(){e()}))})),"f"),l(this,U,!0,"f"),n},e.prototype.getUserData=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.token?[4,this.http.get("".concat(this.settings.path,"/userdata"))]:[3,2];case 1:return[2,e.sent().data];case 2:throw new Error("missing auth.token")}}))}))},e.prototype.registerWithEmailAndPassword=function(e,t,n){return s(this,void 0,void 0,(function(){var r;return a(this,(function(o){switch(o.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/register"),{body:{email:e,password:t,options:n}})];case 1:return r=o.sent().data,this.emitChange(r),[2,r]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/login"),{body:{email:e,password:t}})];case 1:return n=r.sent().data,this.emitChange(n),[2,n]}}))}))},e.prototype.signInAnonymously=function(e){return s(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/anonymous"),{body:{options:e}})];case 1:return t=n.sent().data,this.emitChange(t),[2,t]}}))}))},e.prototype.sendPasswordResetEmail=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.http.post("".concat(this.settings.path,"/forgot-password"),{body:{email:e}})];case 1:return[2,t.sent().data]}}))}))},e.prototype.signInWithProvider=function(e,t){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){var n=this;return a(this,(function(r){return[2,new Promise((function(r,o){var i=t.width||480,s=t.height||768,a=n.token?"?token=".concat(n.token):"",u="Login with ".concat(e[0].toUpperCase()+e.substring(1)),f=n.http.client.getHttpEndpoint("".concat(t.prefix||"".concat(n.settings.path,"/provider"),"/").concat(e).concat(a)),d=screen.width/2-i/2,h=screen.height/2-s/2;l(n,B,window.open(f,u,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+s+", top="+h+", left="+d),"f");var p=function(e){void 0===e.data.user&&void 0===e.data.token||(clearInterval(g),c(n,B,"f").close(),l(n,B,void 0,"f"),window.removeEventListener("message",p),void 0!==e.data.error?o(e.data.error):(r(e.data),n.emitChange(e.data)))},g=setInterval((function(){c(n,B,"f")&&!c(n,B,"f").closed||(l(n,B,void 0,"f"),o("cancelled"),window.removeEventListener("message",p))}),200);window.addEventListener("message",p)}))]}))}))},e.prototype.signOut=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return this.emitChange({user:null,token:null}),[2]}))}))},e.prototype.emitChange=function(e){void 0!==e.token&&(this.token=e.token,null===e.token?Z(this.settings.key):Y(this.settings.key,e.token)),c(this,H,"f").emit("change",e)},e}();U=new WeakMap,j=new WeakMap,B=new WeakMap,H=new WeakMap;var re=function(e){function t(n,r){var o=e.call(this,n)||this;return o.code=r,Object.setPrototypeOf(o,t.prototype),o}return r(t,e),t}(Error),oe="undefined"!=typeof window&&void 0!==(null===(te=null===window||void 0===window?void 0:window.location)||void 0===te?void 0:te.hostname)?"".concat(window.location.protocol.replace("http","ws"),"//").concat(window.location.hostname).concat(window.location.port&&":".concat(window.location.port)):"ws://127.0.0.1:2567",ie=function(){function e(e){if(void 0===e&&(e=oe),"string"==typeof e){var t=new URL(e),n="https:"===t.protocol||"wss:"===t.protocol,r=Number(t.port||(n?443:80));this.settings={hostname:t.hostname,pathname:t.pathname,port:r,secure:n}}else void 0===e.port&&(e.port=e.secure?443:80),void 0===e.pathname&&(e.pathname=""),this.settings=e;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new Q(this),this.auth=new ne(this.http)}return e.prototype.joinOrCreate=function(e,t,n){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.create=function(e,t,n){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.join=function(e,t,n){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.joinById=function(e,t,n){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,n)];case 1:return[2,r.sent()]}}))}))},e.prototype.reconnect=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:if("string"==typeof e&&"string"==typeof t)throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");if(n=e.split(":"),r=n[0],o=n[1],!r||!o)throw new Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return[4,this.createMatchMakeRequest("reconnect",r,{reconnectionToken:o},t)];case 1:return[2,i.sent()]}}))}))},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.http.get("matchmake/".concat(e),{headers:{Accept:"application/json"}})];case 1:return[2,t.sent().data]}}))}))},e.prototype.consumeSeatReservation=function(e,t,n){return s(this,void 0,void 0,(function(){var r,o,i,c=this;return a(this,(function(l){return(r=this.createRoom(e.room.name,t)).roomId=e.room.roomId,r.sessionId=e.sessionId,o={sessionId:r.sessionId},e.reconnectionToken&&(o.reconnectionToken=e.reconnectionToken),i=n||r,r.connect(this.buildEndpoint(e.room,o),e.devMode&&function(){return s(c,void 0,void 0,(function(){var n,o,c,l=this;return a(this,(function(u){return console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260)," Re-establishing connection with room id '").concat(r.roomId,"'...")),n=0,o=8,c=function(){return s(l,void 0,void 0,(function(){return a(this,(function(s){switch(s.label){case 0:n++,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.consumeSeatReservation(e,t,i)];case 2:return s.sent(),console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(9989)," Successfully re-established connection with room '").concat(r.roomId,"'")),[3,4];case 3:return s.sent(),n<o?(console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(128260)," retrying... (").concat(n," out of ").concat(o,")")),setTimeout(c,2e3)):console.info("[Colyseus devMode]: ".concat(String.fromCodePoint(10060)," Failed to reconnect. Is your server running? Please check server logs.")),[3,4];case 4:return[2]}}))}))},setTimeout(c,2e3),[2]}))}))},i),[2,new Promise((function(e,t){var n=function(e,n){return t(new u(e,n))};i.onError.once(n),i.onJoin.once((function(){i.onError.remove(n),e(i)}))}))]}))}))},e.prototype.createMatchMakeRequest=function(e,t,n,r,o){return void 0===n&&(n={}),s(this,void 0,void 0,(function(){var i;return a(this,(function(s){switch(s.label){case 0:return[4,this.http.post("matchmake/".concat(e,"/").concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if((i=s.sent().data).error)throw new re(i.error,i.code);return"reconnect"===e&&(i.reconnectionToken=n.reconnectionToken),[4,this.consumeSeatReservation(i,r,o)];case 2:return[2,s.sent()]}}))}))},e.prototype.createRoom=function(e,t){return new N(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push("".concat(r,"=").concat(t[r]));var o=this.settings.secure?"wss://":"ws://";return e.publicAddress?o+="".concat(e.publicAddress):o+="".concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname),"".concat(o,"/").concat(e.processId,"/").concat(e.roomId,"?").concat(n.join("&"))},e.prototype.getHttpEndpoint=function(e){void 0===e&&(e="");var t=e.startsWith("/")?e:"/".concat(e);return"".concat(this.settings.secure?"https":"http","://").concat(this.settings.hostname).concat(this.getEndpointPort()).concat(this.settings.pathname).concat(t)},e.prototype.getEndpointPort=function(){return 80!==this.settings.port&&443!==this.settings.port?":".concat(this.settings.port):""},e}(),se=function(){function e(){}return e.prototype.setState=function(e){return this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){return this.state.decode(e)},e.prototype.teardown=function(){var e,t;null===(t=null===(e=this.state)||void 0===e?void 0:e.$changes)||void 0===t||t.root.clearRefs()},e.prototype.handshake=function(e,t){this.state?(new M.Reflection).decode(e,t):this.state=M.Reflection.decode(e,t)},e}(),ae=function(){function e(){}return e.prototype.setState=function(e){},e.prototype.getState=function(){return null},e.prototype.patch=function(e){},e.prototype.teardown=function(){},e.prototype.handshake=function(e){},e}();k("schema",se),k("none",ae),e.Auth=ne,e.Client=ie,e.Room=N,e.SchemaSerializer=se,e.registerSerializer=k,Object.defineProperty(e,"__esModule",{value:!0})})(Ze.exports);var et=Ze.exports,tt={exports:{}};!function(e,t){!function(e){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function o(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var i,s=255,a=213;e.OPERATION=void 0,(i=e.OPERATION||(e.OPERATION={}))[i.ADD=128]="ADD",i[i.REPLACE=0]="REPLACE",i[i.DELETE=64]="DELETE",i[i.DELETE_AND_ADD=192]="DELETE_AND_ADD",i[i.TOUCH=1]="TOUCH",i[i.CLEAR=10]="CLEAR";var c=function(){function t(e,t,n){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,n)}return t.prototype.setParent=function(e,t,n){var r=this;if(this.indexes||(this.indexes=this.ref instanceof Te?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=n,t)if(this.root=t,this.ref instanceof Te){var o=this.ref._definition;for(var i in o.schema){var s=this.ref[i];if(s&&s.$changes){var a=o.indexes[i];s.$changes.setParent(this.ref,t,a)}}}else"object"==typeof this.ref&&this.ref.forEach((function(e,t){if(e instanceof Te){var n=e.$changes,o=r.ref.$changes.indexes[t];n.setParent(r.ref,r.root,o)}}))},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,n){void 0===n&&(n=e.OPERATION.ADD);var r="number"==typeof t?t:this.indexes[t];this.assertValidIndex(r,t);var o=this.changes.get(r);o&&o.op!==e.OPERATION.DELETE&&o.op!==e.OPERATION.TOUCH||this.changes.set(r,{op:o&&o.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:n,index:r}),this.allChanges.add(r),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t),this.changes.has(n)||this.changes.set(n,{op:e.OPERATION.TOUCH,index:n}),this.allChanges.add(n),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition)return(t=this.ref._definition).schema[t.fieldsByIndex[e]];var t,n=(t=this.parent._definition).schema[t.fieldsByIndex[this.parentIndex]];return Object.values(n)[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var n="number"==typeof t?t:this.indexes[t];if(void 0!==n){var r=this.getValue(n);this.changes.set(n,{op:e.OPERATION.DELETE,index:n}),this.allChanges.delete(n),delete this.caches[n],r&&r.$changes&&(r.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(n,")"))},t.prototype.discard=function(t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.ref instanceof Te||this.changes.forEach((function(t){if(t.op===e.OPERATION.DELETE){var n=r.ref.getIndex(t.index);delete r.indexes[n]}})),this.changes.clear(),this.changed=t,n&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach((function(t){var n=e.getValue(t.index);n&&n.$changes&&n.$changes.discardAll()})),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw new Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function l(e,t,n,r){return e[t]||(e[t]=[]),e[t].push(n),null==r||r.forEach((function(e,t){return n(e,t)})),function(){return f(e[t],e[t].indexOf(n))}}function u(t){var n=this,r="string"!=typeof this.$changes.getType();this.$items.forEach((function(o,i){t.push({refId:n.$changes.refId,op:e.OPERATION.DELETE,field:i,value:void 0,previousValue:o}),r&&n.$changes.root.removeRef(o.$changes.refId)}))}function f(e,t){if(-1===t||t>=e.length)return!1;for(var n=e.length-1,r=t;r<n;r++)e[r]=e[r+1];return e.length=n,!0}var d=function(e,t){var n=e.toString(),r=t.toString();return n<r?-1:n>r?1:0};function h(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,n){if("symbol"==typeof t||isNaN(t))e[t]=n;else{var r=Array.from(e.$items.keys()),o=parseInt(r[t]||t);null==n?e.deleteAt(o):e.setAt(o,n)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0},has:function(e,t){return"symbol"==typeof t||isNaN(Number(t))?Reflect.has(e,t):e.$items.has(Number(t))}}),e}var p=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){e=t.$refId++,t.setAt(e,n)})),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.setAt=function(t,n){var r,o;if(null!=n){if(this.$items.get(t)!==n){void 0!==n.$changes&&n.$changes.setParent(this,this.$changes.root,t);var i=null!==(o=null===(r=this.$changes.indexes[t])||void 0===r?void 0:r.op)&&void 0!==o?o:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,n),this.$changes.change(t,i)}}else console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.")},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(t.bind.apply(t,o([void 0],(e=Array.from(this.$items.values())).concat.apply(e,n),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach((function(n,r){e.setAt(t[r],n)})),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,n){var r=new t;return r.push.apply(r,Array.from(this.$items.values()).slice(e,n)),r},t.prototype.sort=function(e){var t=this;void 0===e&&(e=d);var n=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach((function(e,r){t.setAt(n[r],e)})),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var o=Array.from(this.$items.keys()),i=[],s=e;s<e+t;s++)i.push(this.$items.get(o[s])),this.$deleteAt(o[s]);for(s=0;s<n.length;s++)this.setAt(e+s,n[s]);return i},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.length,o=t.length,i=Array.from(this.$items.values());return t.forEach((function(t,n){e.setAt(n,t)})),i.forEach((function(t,n){e.setAt(o+n,t)})),r+o},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,n){throw new Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,n){throw new Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw new Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw new Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.with=function(e,n){var r=Array.from(this.$items.values());return r[e]=n,new(t.bind.apply(t,o([void 0],r,!1)))},t.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},t.prototype.toSorted=function(e){return Array.from(this.$items.values()).sort(e)},t.prototype.toSpliced=function(e,t){var n=Array.from(this.$items.values());return n.toSpliced.apply(n,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map((function(e){return"function"==typeof e.toJSON?e.toJSON():e}))},t.prototype.clone=function(e){return e?new(t.bind.apply(t,o([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,o([void 0],this.map((function(e){return e.$changes?e.clone():e})),!1)))},t}();function g(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,n){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,n):e[t]=n,!0},deleteProperty:function(e,t){return e.delete(t),!0}}),e}var m=function(){function t(e){var n=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e)if(e instanceof Map||e instanceof t)e.forEach((function(e,t){return n.set(t,e)}));else for(var r in e)this.set(r,e[r])}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.set=function(t,n){if(null==n)throw new Error("MapSchema#set('".concat(t,"', ").concat(n,"): trying to set ").concat(n," value on '").concat(t,"'."));t=t.toString();var r=void 0!==this.$changes.indexes[t],o=r?this.$changes.indexes[t]:this.$refId++,i=r?e.OPERATION.REPLACE:e.OPERATION.ADD,s=void 0!==n.$changes;if(s&&n.$changes.setParent(this,this.$changes.root,o),r){if(!s&&this.$items.get(t)===n)return;s&&this.$items.get(t)!==n&&(i=e.OPERATION.ADD)}else this.$changes.indexes[t]=o,this.$indexes.set(o,t);return this.$items.set(t,n),this.$changes.change(t,i),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e.toString()),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach((function(t,n){e[n]="function"==typeof t.toJSON?t.toJSON():t})),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach((function(e,t){e.$changes?n.set(t,e.clone()):n.set(t,e)}))),n},t}(),$={};function y(e,t){$[e]=t}function v(e){return $[e]}var b=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var n=new e;return n.schema=Object.assign({},t&&t.schema||{}),n.indexes=Object.assign({},t&&t.indexes||{}),n.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),n.descriptors=Object.assign({},t&&t.descriptors||{}),n.deprecated=Object.assign({},t&&t.deprecated||{}),n},e.prototype.addField=function(e,t){var n=this.getNextFieldIndex();this.fieldsByIndex[n]=e,this.indexes[e]=n,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var n=this.indexes[e],r=this.schema[e];if(v(Object.keys(r)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[n]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}();function w(e){return e._context&&e._context.useFilters}var x=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=b.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(n){return t.context||(t.context=new e),_(n,t)}},e}(),E=new x;function _(e,t){return void 0===t&&(t={}),function(n,r){var i=t.context||E,s=n.constructor;if(s._context=i,!e)throw new Error("".concat(s.name,': @type() reference provided for "').concat(r,"\" is undefined. Make sure you don't have any circular dependencies."));i.has(s)||i.add(s);var a=s._definition;if(a.addField(r,e),a.descriptors[r]){if(a.deprecated[r])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(r,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(e){var c=e.stack.split("\n")[4].trim();throw new Error("".concat(e.message," ").concat(c))}}var l=p.is(e),u=!l&&m.is(e);if("string"!=typeof e&&!Te.is(e)){var f=Object.values(e)[0];"string"==typeof f||i.has(f)||i.add(f)}if(t.manual)a.descriptors[r]={enumerable:!0,configurable:!0,writable:!0};else{var d="_".concat(r);a.descriptors[d]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[r]={get:function(){return this[d]},set:function(e){e!==this[d]&&(null!=e?(!l||e instanceof p||(e=new(p.bind.apply(p,o([void 0],e,!1)))),!u||e instanceof m||(e=new m(e)),void 0===e.$proxy&&(u?e=g(e):l&&(e=h(e))),this.$changes.change(r),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[r])):this[d]&&this.$changes.delete(r),this[d]=e)},enumerable:!0,configurable:!0}}}}function A(e){return function(t,n){var r=t.constructor;r._definition.addFilter(n,e)&&(r._context.useFilters=!0)}}function O(e){return function(t,n){var r=t.constructor;r._definition.addChildrenFilter(n,e)&&(r._context.useFilters=!0)}}function I(e){return void 0===e&&(e=!0),function(t,n){var r=t.constructor._definition;r.deprecated[n]=!0,e&&(r.descriptors[n]={get:function(){throw new Error("".concat(n," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}}function k(e,t,n){for(var r in void 0===n&&(n={}),n.context||(n.context=e._context||n.context||E),t)_(t[r],n)(e.prototype,r);return e}function T(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function C(e,t,n){for(var r=0,o=0,i=n.length;o<i;o++)(r=n.charCodeAt(o))<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function R(e,t){e.push(255&t)}function S(e,t){e.push(255&t)}function P(e,t){e.push(255&t),e.push(t>>8&255)}function M(e,t){e.push(255&t),e.push(t>>8&255)}function N(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function D(e,t){var n=t>>24,r=t>>16,o=t>>8,i=t;e.push(255&i),e.push(255&o),e.push(255&r),e.push(255&n)}function L(e,t){var n=Math.floor(t/Math.pow(2,32));D(e,t>>>0),D(e,n)}function q(e,t){var n=t/Math.pow(2,32)>>0;D(e,t>>>0),D(e,n)}function U(e,t){V(e,t)}function j(e,t){F(e,t)}var B=new Int32Array(2),H=new Float32Array(B.buffer),z=new Float64Array(B.buffer);function V(e,t){H[0]=t,N(e,B[0])}function F(e,t){z[0]=t,N(e,B[0]),N(e,B[1])}function W(e,t){return S(e,t?1:0)}function J(e,t){t||(t="");var n=T(t),r=0;if(n<32)e.push(160|n),r=1;else if(n<256)e.push(217),S(e,n),r=2;else if(n<65536)e.push(218),M(e,n),r=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),D(e,n),r=5}return C(e,e.length,t),r+n}function G(e,t){return isNaN(t)?G(e,0):isFinite(t)?t!==(0|t)?(e.push(203),F(e,t),9):t>=0?t<128?(S(e,t),1):t<256?(e.push(204),S(e,t),2):t<65536?(e.push(205),M(e,t),3):t<4294967296?(e.push(206),D(e,t),5):(e.push(207),q(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),R(e,t),2):t>=-32768?(e.push(209),P(e,t),3):t>=-2147483648?(e.push(210),N(e,t),5):(e.push(211),L(e,t),9):G(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var K=Object.freeze({__proto__:null,utf8Write:C,int8:R,uint8:S,int16:P,uint16:M,int32:N,uint32:D,int64:L,uint64:q,float32:U,float64:j,writeFloat32:V,writeFloat64:F,boolean:W,string:J,number:G});function Q(e,t,n){for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e[i];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(o=(7&a)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o):r+=String.fromCharCode((15&a)<<12|(63&e[++i])<<6|(63&e[++i])<<0):r+=String.fromCharCode((31&a)<<6|63&e[++i]):r+=String.fromCharCode(a)}return r}function X(e,t){return Y(e,t)<<24>>24}function Y(e,t){return e[t.offset++]}function Z(e,t){return ee(e,t)<<16>>16}function ee(e,t){return e[t.offset++]|e[t.offset++]<<8}function te(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function ne(e,t){return te(e,t)>>>0}function re(e,t){return ue(e,t)}function oe(e,t){return fe(e,t)}function ie(e,t){var n=ne(e,t);return te(e,t)*Math.pow(2,32)+n}function se(e,t){var n=ne(e,t);return ne(e,t)*Math.pow(2,32)+n}var ae=new Int32Array(2),ce=new Float32Array(ae.buffer),le=new Float64Array(ae.buffer);function ue(e,t){return ae[0]=te(e,t),ce[0]}function fe(e,t){return ae[0]=te(e,t),ae[1]=te(e,t),le[0]}function de(e,t){return Y(e,t)>0}function he(e,t){var n,r=e[t.offset++];r<192?n=31&r:217===r?n=Y(e,t):218===r?n=ee(e,t):219===r&&(n=ne(e,t));var o=Q(e,t.offset,n);return t.offset+=n,o}function pe(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n}function ge(e,t){var n=e[t.offset++];return n<128?n:202===n?ue(e,t):203===n?fe(e,t):204===n?Y(e,t):205===n?ee(e,t):206===n?ne(e,t):207===n?se(e,t):208===n?X(e,t):209===n?Z(e,t):210===n?te(e,t):211===n?ie(e,t):n>223?-1*(255-n+1):void 0}function me(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211}function $e(e,t){return e[t.offset]<160}function ye(e,t){return e[t.offset-1]===s&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var ve=Object.freeze({__proto__:null,int8:X,uint8:Y,int16:Z,uint16:ee,int32:te,uint32:ne,float32:re,float64:oe,int64:ie,uint64:se,readFloat32:ue,readFloat64:fe,boolean:de,string:he,stringCheck:pe,number:ge,numberCheck:me,arrayCheck:$e,switchStructureCheck:ye}),be=function(){function t(e){var t=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach((function(e){return t.add(e)}))}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some((function(t){return t===e}))},t.prototype.forEach=function(e){var t=this;this.$items.forEach((function(n,r,o){return e(n,r,t)}))},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach((function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)})),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach((function(e){e.$changes?n.add(e.clone()):n.add(e)}))),n},t}(),we=function(){function t(e){var t=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach((function(e){return t.add(e)}))}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){var n,r;if(this.has(t))return!1;var o=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,o);var i=null!==(r=null===(n=this.$changes.indexes[o])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;return this.$changes.indexes[o]=o,this.$indexes.set(o,o),this.$items.set(o,t),this.$changes.change(o,i),o},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&u.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,n=this.$items.values(),r=!1;(t=n.next())&&!t.done;)if(e===t.value){r=!0;break}return r},t.prototype.forEach=function(e){var t=this;this.$items.forEach((function(n,r,o){return e(n,r,t)}))},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach((function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)})),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach((function(e){e.$changes?n.add(e.clone()):n.add(e)}))),n},t}(),xe=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),Ee=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,n){void 0===n&&(n=!0),this.refs.set(e,t),n&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){var t=this.refCounts[e];void 0!==t?0!==t?(this.refCounts[e]=t-1,this.deletedRefs.add(e)):console.warn("trying to remove reference ".concat(e," with 0 refCount")):console.warn("trying to remove reference ".concat(e," that doesn't exist"))},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach((function(t){if(!(e.refCounts[t]>0)){var n=e.refs.get(t);if(n instanceof Te)for(var r in n._definition.schema)"string"!=typeof n._definition.schema[r]&&n[r]&&n[r].$changes&&e.removeRef(n[r].$changes.refId);else{var o=n.$changes.parent._definition,i=o.schema[o.fieldsByIndex[n.$changes.parentIndex]];"function"==typeof Object.values(i)[0]&&Array.from(n.values()).forEach((function(t){return e.removeRef(t.$changes.refId)}))}e.refs.delete(t),delete e.refCounts[t]}})),this.deletedRefs.clear()},e}(),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);function Ae(e,t,n,r){var o,i=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":o="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(n.constructor.name,"#").concat(r));break;case"string":o="string",i=!0;break;case"boolean":return}if(typeof e!==o&&(!i||i&&null!==e)){var s="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new _e("a '".concat(o,"' was expected, but ").concat(s," was provided in ").concat(n.constructor.name,"#").concat(r))}}function Oe(e,t,n,r){if(!(e instanceof t))throw new _e("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(n.constructor.name,"#").concat(r))}function Ie(e,t,n,r,o){Ae(n,e,r,o);var i=K[e];if(!i)throw new _e("a '".concat(e,"' was expected, but ").concat(n," was provided in ").concat(r.constructor.name,"#").concat(o));i(t,n)}function ke(e,t,n){return ve[e](t,n)}var Te=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new Ee),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var n=this._definition.descriptors;n&&Object.defineProperties(this,n),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return l(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return l(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,n){var r=this;return void 0===n&&(n=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),n&&void 0!==this[e]&&t(this[e],void 0),function(){return f(r.$callbacks[e],r.$callbacks[e].indexOf(t))}},t.prototype.decode=function(n,r,o){void 0===r&&(r={offset:0}),void 0===o&&(o=this);var i=[],a=this.$changes.root,c=n.length,l=0;for(a.refs.set(l,this);r.offset<c;){var u=n[r.offset++];if(u!=s){var f=o.$changes,d=void 0!==o._definition,h=d?u>>6<<6:u;if(h!==e.OPERATION.CLEAR){var g=d?u%(h||255):ge(n,r),$=d?o._definition.fieldsByIndex[g]:"",y=f.getType(g),b=void 0,w=void 0,x=void 0;if(d?w=o["_".concat($)]:(w=o.getByIndex(g),(h&e.OPERATION.ADD)===e.OPERATION.ADD?(x=o instanceof m?he(n,r):g,o.setIndex(g,x)):x=o.getIndex(g)),(h&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(h!==e.OPERATION.DELETE_AND_ADD&&o.deleteByIndex(g),w&&w.$changes&&a.removeRef(w.$changes.refId),b=null),void 0!==$){if(h===e.OPERATION.DELETE);else if(t.is(y)){var E=ge(n,r);if(b=a.refs.get(E),h!==e.OPERATION.REPLACE){var _=this.getSchemaType(n,r,y);b||((b=this.createTypeInstance(_)).$changes.refId=E,w&&(b.$callbacks=w.$callbacks,w.$changes.refId&&E!==w.$changes.refId&&a.removeRef(w.$changes.refId))),a.addRef(E,b,b!==w)}}else if("string"==typeof y)b=ke(y,n,r);else{var A=v(Object.keys(y)[0]),O=ge(n,r),I=a.refs.has(O)?w||a.refs.get(O):new A.constructor;if((b=I.clone(!0)).$changes.refId=O,w&&(b.$callbacks=w.$callbacks,w.$changes.refId&&O!==w.$changes.refId)){a.removeRef(w.$changes.refId);for(var k=w.entries(),T=void 0;(T=k.next())&&!T.done;){var C=T.value,R=C[0],S=C[1];i.push({refId:O,op:e.OPERATION.DELETE,field:R,value:void 0,previousValue:S})}}a.addRef(O,b,I!==w)}if(null!=b)if(b.$changes&&b.$changes.setParent(f.ref,f.root,g),o instanceof t)o[$]=b;else if(o instanceof m)R=x,o.$items.set(R,b),o.$changes.allChanges.add(g);else if(o instanceof p)o.setAt(g,b);else if(o instanceof be){var P=o.add(b);o.setIndex(g,P)}else o instanceof we&&!1!==(P=o.add(b))&&o.setIndex(g,P);w!==b&&i.push({refId:l,op:h,field:$,dynamicIndex:x,value:b,previousValue:w})}else{console.warn("@colyseus/schema: definition mismatch");for(var M={offset:r.offset};r.offset<c&&(!ye(n,r)||(M.offset=r.offset+1,!a.refs.has(ge(n,M))));)r.offset++}}else o.clear(i)}else{l=ge(n,r);var N=a.refs.get(l);if(!N)throw new Error('"refId" not found: '.concat(l));o=N}}return this._triggerChanges(i),a.garbageCollectDeletedRefs(),i},t.prototype.encode=function(n,r,o){void 0===n&&(n=!1),void 0===r&&(r=[]),void 0===o&&(o=!1);for(var i=this.$changes,a=new WeakSet,c=[i],l=1,u=0;u<l;u++){var f=c[u],d=f.ref,h=d instanceof t;f.ensureRefId(),a.add(f),f!==i&&(f.changed||n)&&(S(r,s),G(r,f.refId));for(var p=n?Array.from(f.allChanges):Array.from(f.changes.values()),g=0,$=p.length;g<$;g++){var y=n?{op:e.OPERATION.ADD,index:p[g]}:p[g],b=y.index,w=h?d._definition.fieldsByIndex&&d._definition.fieldsByIndex[b]:b,x=r.length;if(y.op!==e.OPERATION.TOUCH)if(h)S(r,b|y.op);else{if(S(r,y.op),y.op===e.OPERATION.CLEAR)continue;G(r,b)}if(h||(y.op&e.OPERATION.ADD)!=e.OPERATION.ADD||d instanceof m&&J(r,f.ref.$indexes.get(b)),y.op!==e.OPERATION.DELETE){var E=f.getType(b),_=f.getValue(b);if(_&&_.$changes&&!a.has(_.$changes)&&(c.push(_.$changes),_.$changes.ensureRefId(),l++),y.op!==e.OPERATION.TOUCH){if(t.is(E))Oe(_,E,d,w),G(r,_.$changes.refId),(y.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(r,E,_.constructor);else if("string"==typeof E)Ie(E,r,_,d,w);else{var A=v(Object.keys(E)[0]);Oe(d["_".concat(w)],A.constructor,d,w),G(r,_.$changes.refId)}o&&f.cache(b,r.slice(x))}}}n||o||f.discard()}return r},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(n,r){var o,i;void 0===r&&(r=!1);for(var a=this,c=new Set,l=xe.get(n),u=[this.$changes],f=1,d=[],h=function(h){var p=u[h];if(c.has(p.refId))return"continue";var g=p.ref,$=g instanceof t;S(d,s),G(d,p.refId);var y=l.refIds.has(p),v=r||!y;l.addRefId(p);var b=l.containerIndexes.get(p),w=v?Array.from(p.allChanges):Array.from(p.changes.values());!r&&$&&g._definition.indexesWithFilters&&g._definition.indexesWithFilters.forEach((function(t){!b.has(t)&&p.allChanges.has(t)&&(v?w.push(t):w.push({op:e.OPERATION.ADD,index:t}))}));for(var x=0,E=w.length;x<E;x++){var _=v?{op:e.OPERATION.ADD,index:w[x]}:w[x];if(_.op!==e.OPERATION.CLEAR){var A=_.index;if(_.op!==e.OPERATION.DELETE){var O=p.getValue(A),I=p.getType(A);if($){if((k=g._definition.filters&&g._definition.filters[A])&&!k.call(g,n,O,a)){O&&O.$changes&&c.add(O.$changes.refId);continue}}else{var k,T=p.parent;if((k=p.getChildrenFilter())&&!k.call(T,n,g.$indexes.get(A),O,a)){O&&O.$changes&&c.add(O.$changes.refId);continue}}if(O.$changes&&(u.push(O.$changes),f++),_.op!==e.OPERATION.TOUCH)if(_.op===e.OPERATION.ADD||$)d.push.apply(d,null!==(o=p.caches[A])&&void 0!==o?o:[]),b.add(A);else if(b.has(A))d.push.apply(d,null!==(i=p.caches[A])&&void 0!==i?i:[]);else{if(b.add(A),S(d,e.OPERATION.ADD),G(d,A),g instanceof m){var C=p.ref.$indexes.get(A);J(d,C)}O.$changes?G(d,O.$changes.refId):K[I](d,O)}else O.$changes&&!$&&(S(d,e.OPERATION.ADD),G(d,A),g instanceof m&&(C=p.ref.$indexes.get(A),J(d,C)),G(d,O.$changes.refId))}else $?S(d,_.op|A):(S(d,_.op),G(d,A))}else S(d,_.op)}},p=0;p<f;p++)h(p);return d},t.prototype.clone=function(){var e,t=new this.constructor,n=this._definition.schema;for(var r in n)"object"==typeof this[r]&&"function"==typeof(null===(e=this[r])||void 0===e?void 0:e.clone)?t[r]=this[r].clone():t[r]=this[r];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_".concat(r)]);return n},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(S(e,a),G(e,n._typeid))},t.prototype.getSchemaType=function(e,t,n){var r;return e[t.offset]===a&&(t.offset++,r=this.constructor._context.get(ge(e,t))),r||n},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(n){for(var r,o,i,s,a,c,l,u,f,d=new Set,h=this.$changes.root.refs,p=function(p){var g=n[p],m=g.refId,$=h.get(m),y=$.$callbacks;if((g.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&g.previousValue instanceof t&&(null===(o=null===(r=g.previousValue.$callbacks)||void 0===r?void 0:r[e.OPERATION.DELETE])||void 0===o||o.forEach((function(e){return e()}))),!y)return"continue";if($ instanceof t){if(!d.has(m))try{null===(i=null==y?void 0:y[e.OPERATION.REPLACE])||void 0===i||i.forEach((function(e){return e()}))}catch(e){t.onError(e)}try{y.hasOwnProperty(g.field)&&(null===(s=y[g.field])||void 0===s||s.forEach((function(e){return e(g.value,g.previousValue)})))}catch(e){t.onError(e)}}else g.op===e.OPERATION.ADD&&void 0===g.previousValue?null===(a=y[e.OPERATION.ADD])||void 0===a||a.forEach((function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})):g.op===e.OPERATION.DELETE?void 0!==g.previousValue&&(null===(c=y[e.OPERATION.DELETE])||void 0===c||c.forEach((function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}))):g.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==g.previousValue&&(null===(l=y[e.OPERATION.DELETE])||void 0===l||l.forEach((function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}))),null===(u=y[e.OPERATION.ADD])||void 0===u||u.forEach((function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}))),g.value!==g.previousValue&&(null===(f=y[e.OPERATION.REPLACE])||void 0===f||f.forEach((function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})));d.add(m)},g=0;g<n.length;g++)p(g)},t._definition=b.create(),t}();function Ce(e){for(var t=[e.$changes],n=1,r={},o=r,i=function(e){var n=t[e];n.changes.forEach((function(e){var t=n.ref,r=e.index,i=t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r);o[i]=n.getValue(r)}))},s=0;s<n;s++)i(s);return r}var Re={context:new x},Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([_("string",Re)],t.prototype,"name",void 0),r([_("string",Re)],t.prototype,"type",void 0),r([_("number",Re)],t.prototype,"referencedType",void 0),t}(Te),Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new p,t}return n(t,e),r([_("number",Re)],t.prototype,"id",void 0),r([_([Se],Re)],t.prototype,"fields",void 0),t}(Te),Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new p,t}return n(t,e),t.encode=function(e){var n,r=e.constructor,o=new t;o.rootType=r._typeid;var i=function(e,t){for(var n in t){var r=new Se;r.name=n;var i=void 0;if("string"==typeof t[n])i=t[n];else{var s=t[n],a=void 0;Te.is(s)?(i="ref",a=t[n]):"string"==typeof s[i=Object.keys(s)[0]]?i+=":"+s[i]:a=s[i],r.referencedType=a?a._typeid:-1}r.type=i,e.fields.push(r)}o.types.push(e)},s=null===(n=r._context)||void 0===n?void 0:n.types;for(var a in s){var c=new Pe;c.id=Number(a),i(c,s[a]._definition.schema)}return o.encodeAll()},t.decode=function(e,r){var o=new x,i=new t;i.decode(e,r);var s=i.types.reduce((function(e,t){var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Te),i=t.id;return e[i]=r,o.add(r,i),e}),{});i.types.forEach((function(e){var t=s[e.id];e.fields.forEach((function(e){var n;if(void 0!==e.referencedType){var r=e.type,i=s[e.referencedType];if(!i){var a=e.type.split(":");r=a[0],i=a[1]}"ref"===r?_(i,{context:o})(t.prototype,e.name):_(((n={})[r]=i,n),{context:o})(t.prototype,e.name)}else _(e.type,{context:o})(t.prototype,e.name)}))}));var a=s[i.rootType],c=new a;for(var l in a._definition.schema){var u=a._definition.schema[l];"string"!=typeof u&&(c[l]="function"==typeof u?new u:new(v(Object.keys(u)[0]).constructor))}return c},r([_([Pe],Re)],t.prototype,"types",void 0),r([_("number",Re)],t.prototype,"rootType",void 0),t}(Te);y("map",{constructor:m}),y("array",{constructor:p}),y("set",{constructor:we}),y("collection",{constructor:be}),e.ArraySchema=p,e.CollectionSchema=be,e.Context=x,e.MapSchema=m,e.Reflection=Me,e.ReflectionField=Se,e.ReflectionType=Pe,e.Schema=Te,e.SchemaDefinition=b,e.SetSchema=we,e.decode=ve,e.defineTypes=k,e.deprecated=I,e.dumpChanges=Ce,e.encode=K,e.filter=A,e.filterChildren=O,e.hasFilter=w,e.registerType=y,e.type=_,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,tt.exports);var nt=tt.exports,rt={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.utf8Length=e.utf8Read=e.ErrorCode=e.Protocol=void 0,function(e){e[e.HANDSHAKE=9]="HANDSHAKE",e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.ERROR=11]="ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",e[e.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",e[e.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(e.Protocol||(e.Protocol={})),(t=e.ErrorCode||(e.ErrorCode={}))[t.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",t[t.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",t[t.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",t[t.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",t[t.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",t[t.AUTH_FAILED=4215]="AUTH_FAILED",t[t.APPLICATION_ERROR=4216]="APPLICATION_ERROR",e.utf8Read=function(e,t){const n=e[t++];for(var r="",o=0,i=t,s=t+n;i<s;i++){var a=e[i];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&e[++i])<<12|(63&e[++i])<<6|(63&e[++i])<<0)>=65536?(o-=65536,r+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):r+=String.fromCharCode(o)}else r+=String.fromCharCode((15&a)<<12|(63&e[++i])<<6|(63&e[++i])<<0);else r+=String.fromCharCode((31&a)<<6|63&e[++i]);else r+=String.fromCharCode(a)}return r},e.utf8Length=function(e=""){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n+1}}(rt);class ot extends EventTarget{state;setState(e){this.state.decode(e),this.dispatchEvent(new CustomEvent("patch",{detail:null})),this.dispatchEvent(new Event("load"))}getState(){return this.state}patch(e){let t=this.state.decode(e);for(let e of t)if("gameTime"!=e.field){this.dispatchEvent(new CustomEvent("patch",{detail:t}));break}}teardown(){this.state?.$changes?.root.clearRefs()}handshake(e,t){if(this.state){(new nt.Reflection).decode(e,t)}else this.state=nt.Reflection.decode(e,t);this.dispatchEvent(new CustomEvent("patch",{detail:null}))}}const it=new ot;class st extends EventTarget{socket=null;transportType=Ae("unknown");blueboatRoomId=null;setup(){let e=this;class t extends WebSocket{constructor(t,n){super(t,n),e.socket||e.registerSocket(this)}send(t){e.onSend(t),super.send(t)}}let n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){this.addEventListener("load",(()=>{if(!this.responseURL.endsWith("/matchmaker/join"))return;let t=JSON.parse(this.responseText);e.blueboatRoomId=t.roomId,console.log("Got Blueboat Room Id: "+e.blueboatRoomId)})),n.apply(this,arguments)},He().WebSocket=t}registerSocket(e){this.socket=e,"Phaser"in He()?(this.transportType.set("colyseus"),this.addEventListener("colyseusMessage",(e=>{if("DEVICES_STATES_CHANGES"!=e.detail.type)return;let t=function(e){let t=[];for(let n of e.changes){let r={},o=n[1].map((t=>e.values[t]));for(let e=0;e<o.length;e++)r[o[e]]=n[2][e];t.push({id:n[0],data:r})}return t}(e.detail.message);this.dispatchEvent(new CustomEvent("deviceChanges",{detail:t}))}))):this.transportType.set("blueboat"),e.addEventListener("message",(e=>{let t;if("colyseus"==a(this.transportType)){if(t=function(e){const t=Array.from(new Uint8Array(e.data)),n=t[0];if(n===et.Protocol.JOIN_ROOM){let e=1;const n=rt.utf8Read(t,e);e+=rt.utf8Length(n);const r=rt.utf8Read(t,e);e+=rt.utf8Length(r),console.log(n,r,e),t.length>e&&it.handshake(t,{offset:e})}else if(n===et.Protocol.ROOM_DATA_SCHEMA);else if(n===et.Protocol.ROOM_STATE)t.shift(),it.setState(t);else if(n===et.Protocol.ROOM_STATE_PATCH)t.shift(),it.patch(t);else{if(n===et.Protocol.ROOM_DATA){const n={offset:1};return{type:nt.decode.stringCheck(t,n)?nt.decode.string(t,n):nt.decode.number(t,n),message:t.length>n.offset?We(e.data,n.offset):void 0}}if(n===et.Protocol.ROOM_DATA_BYTES){const e={offset:1};return{type:nt.decode.stringCheck(t,e)?nt.decode.string(t,e):nt.decode.number(t,e),message:new Uint8Array(t.slice(e.offset))}}}return null}(e),!t)return;this.dispatchEvent(new CustomEvent("colyseusMessage",{detail:t}))}else{if(t=Ve.decode(e.data),!t)return;this.dispatchEvent(new CustomEvent("blueboatMessage",{detail:t}))}}))}onSend(e){if("blueboat"==a(this.transportType)&&!this.blueboatRoomId){let t=Ve.decode(e);t.roomId&&(this.blueboatRoomId=t.roomId),t.room&&(this.blueboatRoomId=t.room),this.blueboatRoomId&&console.log("Got Blueboat Room Id: "+this.blueboatRoomId)}}sendMessage(e,t){if(!this.socket)return;if(!this.blueboatRoomId&&"blueboat"==a(this.transportType))return;let n;if("colyseus"==a(this.transportType)){let r=[et.Protocol.ROOM_DATA],o=Ye(e),i=Ye(t);n=new Uint8Array(o.byteLength+i.byteLength+r.length),n.set(r),n.set(new Uint8Array(o),r.length),n.set(new Uint8Array(i),r.length+o.byteLength)}else n=Ve.encode(e,t,this.blueboatRoomId);this.socket.send(n)}}const at=new st,ct=Ae(!0),lt=Ae(!1);He().storesLoaded=lt;const ut=Ae(null);at.addEventListener("colyseusMessage",(e=>{"AUTH_ID"===e.detail.type&&(ut.set(e.detail.message),console.log("[GC] Got player id: "+e.detail.message))}));const ft=Ae(!1);at.addEventListener("colyseusMessage",(e=>{if("DEVICES_STATES_CHANGES"===e.detail.type){let t=setInterval((()=>{let n=He()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices;n&&n.length>=e.detail.message.changes.length&&(clearInterval(t),ft.set(!0))}),100)}}));const{window:dt}=b;function ht(e){x(e,"svelte-4jfbq8",".menu.svelte-4jfbq8{position:absolute;background-color:var(--menuBackgroundColor);resize:both;overflow:hidden;min-width:150px;border-radius:5px;user-select:none;pointer-events:all;outline-width:3px;outline-style:solid;outline-color:var(--menuOutlineColor)}.children.svelte-4jfbq8{position:relative;height:calc(100% - 21px);overflow-x:hidden;overflow-y:auto}.groupContent{position:absolute;top:0;left:0;display:flex;flex-direction:column;width:100%}.groupContent.svelte-4jfbq8{transform:translateX(0);opacity:1;pointer-events:all}.menu.minimized.svelte-4jfbq8{overflow:hidden;resize:horizontal;height:21px !important}.header.svelte-4jfbq8{background-color:var(--menuHeaderBackgroundColor);position:relative;color:var(--menuHeaderTextColor);width:100%;text-align:center;font-size:14px;height:21px}.minimize.svelte-4jfbq8{background-color:transparent;border:none;align-items:center;position:absolute;right:5px;top:0;cursor:pointer}")}function pt(e){let t,n,o,i,s,a,c,u,p,g,m,$,y=e[2]?"+":"-";const v=e[11].default,b=l(v,e,e[10],null);return{c(){t=O("div"),n=O("div"),o=k(e[0]),i=T(),s=O("button"),a=k(y),c=T(),u=O("div"),p=O("div"),b&&b.c(),M(s,"class","minimize svelte-4jfbq8"),M(n,"class","header svelte-4jfbq8"),M(p,"class","groupContent open svelte-4jfbq8"),M(u,"class","children svelte-4jfbq8"),M(t,"class","menu svelte-4jfbq8"),q(t,"left",e[3].x+"px"),q(t,"top",e[3].y+"px"),U(t,"minimized",e[2])},m(r,l){E(r,t,l),w(t,n),w(n,o),w(n,i),w(n,s),w(s,a),w(t,c),w(t,u),w(u,p),b&&b.m(p,null),e[12](t),g=!0,m||($=[R(dt,"mouseup",e[8]),R(dt,"mousemove",e[7]),R(dt,"resize",e[5]),R(s,"click",e[9]),R(t,"mousedown",e[6])],m=!0)},p(e,n){(!g||1&n[0])&&D(o,e[0]),(!g||4&n[0])&&y!==(y=e[2]?"+":"-")&&D(a,y),b&&b.p&&(!g||1024&n[0])&&d(b,v,e,e[10],g?f(v,e[10],n,null):h(e[10]),null),(!g||8&n[0])&&q(t,"left",e[3].x+"px"),(!g||8&n[0])&&q(t,"top",e[3].y+"px"),(!g||4&n[0])&&U(t,"minimized",e[2])},i(e){g||(le(b,e),g=!0)},o(e){ue(b,e),g=!1},d(n){n&&_(t),b&&b.d(n),e[12](null),m=!1,r($)}}}function gt(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{name:s}=t,l=Le[s];let u=l?.x??50,f=l?.y??50,d=l?.width??200,h=l?.height??200,p=d,g=h,m=ke(b(u,f),{stiffness:.1,damping:.5});c(e,m,(e=>n(3,r=e)));let $=a(m),y=$.x,v=$.y;function b(e,t){return e<0&&(e=0),t<0&&(t=0),e+p>window.innerWidth&&(e=window.innerWidth-p),t+g>window.innerHeight&&(t=window.innerHeight-g),{x:e,y:t}}let w,x=!1;ct.subscribe((e=>{if(e)m.set(b(y,v)),x=!1;else{x=!0;let e=a(m),t=e.x+p/2,n=e.y+g/2,r=t<window.innerWidth/2?-p:window.innerWidth,o=n<window.innerHeight/2?-g:window.innerHeight;Math.abs(r-e.x)<Math.abs(o-e.y)?m.set({x:r,y:e.y}):m.set({x:e.x,y:o})}}));let E,_,A,O=l?.minimized??!1,I="waiting";const k=Ee((function(){if(x)return;let e=a(m);!function(e,t){Le[e]=t,Ce("menuTransforms",JSON.stringify(Le))}(s,{x:e.x,y:e.y,width:p,height:g,minimized:O})}),100);m.subscribe((()=>k()));let T=new ResizeObserver((e=>{I="waiting";let t=e[0];O||(g=t.contentRect.height),p=t.contentRect.width,k()}));return z((()=>{T.observe(w),n(1,w.style.height=`${Math.max(h,21)}px`,w),n(1,w.style.width=`${Math.max(d,150)}px`,w)})),V((()=>{T.disconnect()})),e.$$set=e=>{"name"in e&&n(0,s=e.name),"$$scope"in e&&n(10,i=e.$$scope)},[s,w,O,r,m,function(){let e=a(m);m.set(b(e.x,e.y))},function(e){I="checking";const t=a(m);E=e.clientX-t.x,_=e.clientY-t.y,A=0},function(e){if("waiting"!=I)if(A+=Math.abs(e.movementX)+Math.abs(e.movementY),"checking"==I&&A>5)I="dragging";else if("dragging"==I){let t=e.clientX-E,n=e.clientY-_;y=t,v=n,m.set(b(t,n)),k()}},function(){I="waiting"},function(){n(2,O=!O),k()},i,o,function(e){G[e?"unshift":"push"]((()=>{w=e,n(1,w)}))}]}class mt extends ye{constructor(e){super(),$e(this,e,gt,pt,i,{name:0},ht,[-1,-1])}}function $t(e){let t,n;return{c(){t=I("desc"),n=k(e[7])},m(e,r){E(e,t,r),w(t,n)},p(e,t){128&t&&D(n,e[7])},d(e){e&&_(t)}}}function yt(e){let t,n;return{c(){t=I("title"),n=k(e[6])},m(e,r){E(e,t,r),w(t,n)},p(e,t){64&t&&D(n,e[6])},d(e){e&&_(t)}}}function vt(t){let n,r,o,i=t[7]&&$t(t),s=t[6]&&yt(t);return{c(){n=I("svg"),i&&i.c(),r=C(),s&&s.c(),o=I("path"),M(o,"d","M4,5A2,2 0 0,0 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7A2,2 0 0,0 20,5H4M4,7H20V17H4V7M5,8V10H7V8H5M8,8V10H10V8H8M11,8V10H13V8H11M14,8V10H16V8H14M17,8V10H19V8H17M5,11V13H7V11H5M8,11V13H10V11H8M11,11V13H13V11H11M14,11V13H16V11H14M17,11V13H19V11H17M8,14V16H16V14H8Z"),M(o,"fill",t[2]),M(n,"viewBox",t[3]),M(n,"width",t[0]),M(n,"height",t[1]),M(n,"class",t[8]),M(n,"aria-label",t[4]),M(n,"aria-hidden",t[5])},m(e,t){E(e,n,t),i&&i.m(n,null),w(n,r),s&&s.m(n,null),w(n,o)},p(e,[t]){e[7]?i?i.p(e,t):(i=$t(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),e[6]?s?s.p(e,t):(s=yt(e),s.c(),s.m(n,o)):s&&(s.d(1),s=null),4&t&&M(o,"fill",e[2]),8&t&&M(n,"viewBox",e[3]),1&t&&M(n,"width",e[0]),2&t&&M(n,"height",e[1]),256&t&&M(n,"class",e[8]),16&t&&M(n,"aria-label",e[4]),32&t&&M(n,"aria-hidden",e[5])},i:e,o:e,d(e){e&&_(n),i&&i.d(),s&&s.d()}}}function bt(e,t,n){let{size:r="1em"}=t,{width:o=r}=t,{height:i=r}=t,{color:s="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:c}=t,{ariaHidden:l}=t,{title:u}=t,{desc:f}=t,{class:d}=t;return e.$$set=e=>{"size"in e&&n(9,r=e.size),"width"in e&&n(0,o=e.width),"height"in e&&n(1,i=e.height),"color"in e&&n(2,s=e.color),"viewBox"in e&&n(3,a=e.viewBox),"ariaLabel"in e&&n(4,c=e.ariaLabel),"ariaHidden"in e&&n(5,l=e.ariaHidden),"title"in e&&n(6,u=e.title),"desc"in e&&n(7,f=e.desc),"class"in e&&n(8,d=e.class)},[o,i,s,a,c,l,u,f,d,r]}class wt extends ye{constructor(e){super(),$e(this,e,bt,vt,i,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}const xt=new class{keysPressed=new Set;keybinds=new Map;constructor(){window.addEventListener("keydown",(e=>{this.keysPressed.add(e.key.toLowerCase());e:for(const[e,t]of this.keybinds)if(0!=e.size){for(const t of e)if(!this.keysPressed.has(t))continue e;t()}})),window.addEventListener("keyup",(e=>{this.keysPressed.delete(e.key.toLowerCase())}))}addKeybind(e,t){this.keybinds.set(e,t)}removeKeybind(e){this.keybinds.delete(e)}};function Et(e){x(e,"svelte-1j00okq","dialog.svelte-1j00okq{width:400px;height:300px;border-radius:15px;background-color:white;border:3px solid black;display:flex;flex-direction:column}h2.svelte-1j00okq{width:100%;text-align:center}button[disabled].svelte-1j00okq{opacity:0.5;cursor:not-allowed}.recordBtn.svelte-1j00okq{width:100%;height:50px;border:none;background-color:#f0f0f0;cursor:pointer;border-radius:10px}.hotkeyDisplay.svelte-1j00okq{width:100%;text-align:center;height:80px;overflow-y:auto;margin-top:20px}.completeContainer.svelte-1j00okq{display:flex;justify-content:space-between;margin-top:20px}.confirm.svelte-1j00okq,.cancel.svelte-1j00okq{width:40%;border:none;border-radius:3px}.confirm.svelte-1j00okq{background-color:lightgreen}.cancel.svelte-1j00okq{background-color:lightcoral}")}function _t(e){let t;return{c(){t=k("Re-record")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function At(e){let t;return{c(){t=k("Start recording")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function Ot(e){let t;return{c(){t=k("Stop recording")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function It(e){let t,n=Array.from(e[0]).map(St).join(" + ")+"";return{c(){t=k(n)},m(e,n){E(e,t,n)},p(e,r){1&r&&n!==(n=Array.from(e[0]).map(St).join(" + ")+"")&&D(t,n)},d(e){e&&_(t)}}}function kt(e){let t;function n(e,t){return e[1]?Ct:Tt}let r=n(e),o=r(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),E(e,t,n)},p(e,i){r!==(r=n(e))&&(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&_(t),o.d(e)}}}function Tt(e){let t;return{c(){t=k("No hotkey set")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function Ct(e){let t;return{c(){t=k("Press any keys")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function Rt(t){let n,o,i,s,a,c,l,u,f,d,h,p,g,m,$;function y(e,t){return e[1]?Ot:0===e[0].size?At:_t}let v=y(t),b=v(t);function x(e,t){return 0===e[0].size?kt:It}let A=x(t),I=A(t);return{c(){n=O("dialog"),o=O("h2"),o.textContent="Create Hotkey",i=T(),s=O("button"),b.c(),a=T(),c=O("div"),I.c(),l=T(),u=O("div"),f=O("button"),d=k("Confirm"),p=T(),g=O("button"),g.textContent="No hotkey",M(o,"class","svelte-1j00okq"),M(s,"class","recordBtn svelte-1j00okq"),M(c,"class","hotkeyDisplay svelte-1j00okq"),f.disabled=h=0===t[0].size,M(f,"class","confirm svelte-1j00okq"),M(g,"class","cancel svelte-1j00okq"),M(u,"class","completeContainer svelte-1j00okq"),M(n,"class","svelte-1j00okq")},m(e,r){E(e,n,r),w(n,o),w(n,i),w(n,s),b.m(s,null),w(n,a),w(n,c),I.m(c,null),w(n,l),w(n,u),w(u,f),w(f,d),w(u,p),w(u,g),t[10](n),m||($=[R(window,"keydown",t[3]),R(s,"click",t[4]),R(s,"keydown",S(t[9])),R(f,"click",t[5]),R(g,"click",t[6]),R(n,"mousedown",P(t[8]))],m=!0)},p(e,[t]){v!==(v=y(e))&&(b.d(1),b=v(e),b&&(b.c(),b.m(s,null))),A===(A=x(e))&&I?I.p(e,t):(I.d(1),I=A(e),I&&(I.c(),I.m(c,null))),1&t&&h!==(h=0===e[0].size)&&(f.disabled=h)},i:e,o:e,d(e){e&&_(n),b.d(),I.d(),t[10](null),m=!1,r($)}}}const St=e=>" "===e?"Space":e;function Pt(e,t,n){let r,{keys:o=new Set}=t,i=new Set(o),s=!1,a=F();return z((()=>{r.showModal(),r.addEventListener("close",(()=>{a("close",new Set)}))})),e.$$set=e=>{"keys"in e&&n(7,o=e.keys)},[i,s,r,function(e){s&&("Escape"!==e.key?(i.add(e.key.toLowerCase()),n(0,i)):n(1,s=!1))},function(){n(1,s=!s),s&&(i.clear(),n(0,i))},function(){a("close",i)},function(){a("close",new Set)},o,function(t){W.call(this,e,t)},function(t){W.call(this,e,t)},function(e){G[e?"unshift":"push"]((()=>{r=e,n(2,r)}))}]}class Mt extends ye{constructor(e){super(),$e(this,e,Pt,Rt,i,{keys:7},Et)}}function Nt(e){x(e,"svelte-1tsrn0k","button.svelte-1tsrn0k{background-color:transparent;border:none;height:30px;margin:0px;padding-right:0px}")}function Dt(t){let n,r;return n=new Mt({props:{keys:t[1]}}),n.$on("close",t[2]),{c(){he(n.$$.fragment)},m(e,t){pe(n,e,t),r=!0},p:e,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){ge(n,e)}}}function Lt(e){let t,n,r,o,i,s,a=e[0]&&Dt(e);return r=new wt({props:{width:30,height:30}}),{c(){a&&a.c(),t=T(),n=O("button"),he(r.$$.fragment),M(n,"class","svelte-1tsrn0k")},m(c,l){a&&a.m(c,l),E(c,t,l),E(c,n,l),pe(r,n,null),o=!0,i||(s=R(n,"click",e[4]),i=!0)},p(e,[n]){e[0]?a?(a.p(e,n),1&n&&le(a,1)):(a=Dt(e),a.c(),le(a,1),a.m(t.parentNode,t)):a&&(ae(),ue(a,1,1,(()=>{a=null})),ce())},i(e){o||(le(a),le(r.$$.fragment,e),o=!0)},o(e){ue(a),ue(r.$$.fragment,e),o=!1},d(e){e&&(_(t),_(n)),a&&a.d(e),ge(r),i=!1,s()}}}function qt(e,t,n){let{hotkeyId:r}=t,o=F(),i=!1,s=new Set(Ue[r]??[]);z((()=>{xt.addKeybind(s,(()=>{o("trigger")}))}));return e.$$set=e=>{"hotkeyId"in e&&n(3,r=e.hotkeyId)},[i,s,function(e){if(n(0,i=!1),e.detail){s.clear();for(let t of e.detail)s.add(t);!function(e,t){Ue[e]=t,Ce("hotkeys",JSON.stringify(Ue))}(r,Array.from(s))}},r,()=>n(0,i=!i)]}class Ut extends ye{constructor(e){super(),$e(this,e,qt,Lt,i,{hotkeyId:3},Nt)}}function jt(e){x(e,"svelte-o69qzc",".wrap.svelte-o69qzc{display:flex;flex-wrap:nowrap;align-items:center;justify-content:space-between;margin:5px 10px}button.svelte-o69qzc{background-color:var(--buttonBackgroundColor);border:1px solid var(--buttonBorderColor);border-radius:5px;transition:transform 0.1s;flex-grow:1}button.svelte-o69qzc:disabled{opacity:0.5;cursor:not-allowed}button.svelte-o69qzc:active,button.active.svelte-o69qzc{transform:scale(0.95)}")}function Bt(e){let t,n;return t=new Ut({props:{hotkeyId:e[2]}}),t.$on("trigger",e[6]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.hotkeyId=e[2]),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Ht(e){let t,n,o,i,s,a,c,u;const p=e[8].default,g=l(p,e,e[7],null);let m=e[2]&&Bt(e);return{c(){t=O("div"),n=O("button"),g&&g.c(),s=T(),m&&m.c(),n.disabled=o=!0===e[0]||void 0===e[0],M(n,"title",i=e[0]?e[1]:void 0),M(n,"class","svelte-o69qzc"),U(n,"active",e[4]),M(t,"class","wrap svelte-o69qzc")},m(r,o){E(r,t,o),w(t,n),g&&g.m(n,null),e[10](n),w(t,s),m&&m.m(t,null),a=!0,c||(u=[R(n,"click",e[5]),R(n,"keydown",S(e[9]))],c=!0)},p(e,[r]){g&&g.p&&(!a||128&r)&&d(g,p,e,e[7],a?f(p,e[7],r,null):h(e[7]),null),(!a||1&r&&o!==(o=!0===e[0]||void 0===e[0]))&&(n.disabled=o),(!a||3&r&&i!==(i=e[0]?e[1]:void 0))&&M(n,"title",i),(!a||16&r)&&U(n,"active",e[4]),e[2]?m?(m.p(e,r),4&r&&le(m,1)):(m=Bt(e),m.c(),le(m,1),m.m(t,null)):m&&(ae(),ue(m,1,1,(()=>{m=null})),ce())},i(e){a||(le(g,e),le(m),a=!0)},o(e){ue(g,e),ue(m),a=!1},d(n){n&&_(t),g&&g.d(n),e[10](null),m&&m.d(),c=!1,r(u)}}}function zt(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{disabled:s=null}=t,{disabledMsg:a}=t,{hotkeyId:c}=t,l=F(),u=!1;return e.$$set=e=>{"disabled"in e&&n(0,s=e.disabled),"disabledMsg"in e&&n(1,a=e.disabledMsg),"hotkeyId"in e&&n(2,c=e.hotkeyId),"$$scope"in e&&n(7,i=e.$$scope)},[s,a,c,r,u,function(){l("click")},function(){l("click"),n(4,u=!0),setTimeout((()=>n(4,u=!1)),100)},i,o,function(t){W.call(this,e,t)},function(e){G[e?"unshift":"push"]((()=>{r=e,n(3,r)}))}]}class Vt extends ye{constructor(e){super(),$e(this,e,zt,Ht,i,{disabled:0,disabledMsg:1,hotkeyId:2},jt)}}function Ft(e){x(e,"svelte-151a7uw",".groupContent.svelte-151a7uw{transform:translateX(100%);opacity:0;pointer-events:none;display:none}@keyframes slide-in-left{0%{transform:translateX(-100%);opacity:0;pointer-events:none}100%{transform:translateX(0%);opacity:1;pointer-events:all}}@keyframes slide-out-left{0%{transform:translateX(0%);opacity:1;pointer-events:all}100%{transform:translateX(-100%);opacity:0;pointer-events:none}}@keyframes slide-in-right{0%{transform:translateX(100%);opacity:0;pointer-events:none}100%{transform:translateX(0%);opacity:1;pointer-events:all}}@keyframes slide-out-right{0%{transform:translateX(0%);opacity:1;pointer-events:all}100%{transform:translateX(100%);opacity:0;pointer-events:none}}")}function Wt(e){let t;return{c(){t=k(e[0])},m(e,n){E(e,t,n)},p(e,n){1&n&&D(t,e[0])},d(e){e&&_(t)}}}function Jt(e){let t;return{c(){t=k("Close")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function Gt(e){let t,n,r,o,i,s;t=new Vt({props:{$$slots:{default:[Wt]},$$scope:{ctx:e}}}),t.$on("click",e[2]),o=new Vt({props:{$$slots:{default:[Jt]},$$scope:{ctx:e}}}),o.$on("click",e[3]);const a=e[4].default,c=l(a,e,e[6],null);return{c(){he(t.$$.fragment),n=T(),r=O("div"),he(o.$$.fragment),i=T(),c&&c.c(),M(r,"class","groupContent svelte-151a7uw")},m(a,l){pe(t,a,l),E(a,n,l),E(a,r,l),pe(o,r,null),w(r,i),c&&c.m(r,null),e[5](r),s=!0},p(e,[n]){const r={};65&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const i={};64&n&&(i.$$scope={dirty:n,ctx:e}),o.$set(i),c&&c.p&&(!s||64&n)&&d(c,a,e,e[6],s?f(a,e[6],n,null):h(e[6]),null)},i(e){s||(le(t.$$.fragment,e),le(o.$$.fragment,e),le(c,e),s=!0)},o(e){ue(t.$$.fragment,e),ue(o.$$.fragment,e),ue(c,e),s=!1},d(i){i&&(_(n),_(r)),ge(t,i),ge(o),c&&c.d(i),e[5](null)}}}function Kt(e,t,n){e.style.animation=`slide-${t}-${n} 0.2s ease-in-out forwards`,"out"==t?(e.classList.remove("open"),setTimeout((()=>{e.style.display="none"}),200)):(e.style.display="flex",e.classList.add("open"))}function Qt(e,t,n){let r,o,i,{$$slots:s={},$$scope:a}=t,{name:c}=t;return z((()=>{i=je(r,".menu .children"),i.appendChild(r)})),e.$$set=e=>{"name"in e&&n(0,c=e.name),"$$scope"in e&&n(6,a=e.$$scope)},[c,r,function(){o=i.querySelector(".groupContent.open"),o&&Kt(o,"out","left"),Kt(r,"in","right")},function(){Kt(r,"out","right"),o&&Kt(o,"in","left")},s,function(e){G[e?"unshift":"push"]((()=>{r=e,n(1,r)}))},a]}class Xt extends ye{constructor(e){super(),$e(this,e,Qt,Gt,i,{name:0},Ft)}}function Yt(e){x(e,"svelte-qar3ci",".colorPicker.svelte-qar3ci{width:100%;display:flex;flex-direction:column;align-items:center}.inputs.svelte-qar3ci{display:flex;align-items:center;justify-content:space-around;width:100%;max-width:100%}.opacityBlock.svelte-qar3ci{display:flex;flex-direction:column;align-items:center}.alphaInput.svelte-qar3ci{flex-shrink:1;min-width:0;width:100%}.colorInput.svelte-qar3ci{flex-shrink:0}.preview.svelte-qar3ci{width:50px;height:50px;border-radius:10px;flex-shrink:0;border:2px solid black}")}function Zt(e){let t,n,o,i,s,a;return{c(){t=O("div"),n=O("div"),n.textContent="Opacity",o=T(),i=O("input"),M(i,"type","range"),M(i,"min",e[2]),M(i,"max","1"),M(i,"step","0.01"),M(i,"class","alphaInput svelte-qar3ci"),M(t,"class","opacityBlock svelte-qar3ci")},m(r,c){E(r,t,c),w(t,n),w(t,o),w(t,i),L(i,e[4]),s||(a=[R(i,"change",e[11]),R(i,"input",e[11]),R(i,"input",e[6]),R(i,"mousedown",P(e[10]))],s=!0)},p(e,t){4&t&&M(i,"min",e[2]),16&t&&L(i,e[4])},d(e){e&&_(t),s=!1,r(a)}}}function en(t){let n,o,i,s,a,c,l,u,f,d,h,p=t[1]&&Zt(t);return{c(){n=O("div"),o=O("div"),i=k(t[0]),s=T(),a=O("div"),p&&p.c(),c=T(),l=O("input"),u=T(),f=O("div"),M(l,"type","color"),M(l,"class","colorInput svelte-qar3ci"),M(f,"class","preview svelte-qar3ci"),q(f,"background-color",t[5]),M(a,"class","inputs svelte-qar3ci"),M(n,"class","colorPicker svelte-qar3ci")},m(e,r){E(e,n,r),w(n,o),w(o,i),w(n,s),w(n,a),p&&p.m(a,null),w(a,c),w(a,l),L(l,t[3]),w(a,u),w(a,f),d||(h=[R(l,"input",t[12]),R(l,"input",t[6]),R(l,"mousedown",P(t[9]))],d=!0)},p(e,[t]){1&t&&D(i,e[0]),e[1]?p?p.p(e,t):(p=Zt(e),p.c(),p.m(a,c)):p&&(p.d(1),p=null),8&t&&L(l,e[3]),32&t&&q(f,"background-color",e[5])},i:e,o:e,d(e){e&&_(n),p&&p.d(),d=!1,r(h)}}}function tn(e,t,n){let{text:r}=t,{color:o}=t,{bindValue:i}=t,{allowOpacity:s=!0}=t,{minOpactiy:a=0}=t,c=o??Ne[i]??"rgba(255, 255, 255, 1)";let l=function(e){let[t,n,r,o]=e.replace("rgba(","").replace(")","").split(",").map((e=>parseFloat(e.trim())));return{r:t,g:n,b:r,a:o}}(c),u=(f=l.r,d=l.g,h=l.b,"#"+Be(f)+Be(d)+Be(h));var f,d,h;let p=l.a,g=c;const m=Ee((function(e){!function(e,t){Ne[e]=t,Ce("cssVars",JSON.stringify(Ne))}(i,e)}),100);return e.$$set=e=>{"text"in e&&n(0,r=e.text),"color"in e&&n(7,o=e.color),"bindValue"in e&&n(8,i=e.bindValue),"allowOpacity"in e&&n(1,s=e.allowOpacity),"minOpactiy"in e&&n(2,a=e.minOpactiy)},[r,s,a,u,p,g,function(){let e=function(e){let[t,n,r]=e.replace("#","").match(/.{1,2}/g).map((e=>parseInt(e,16)));return{r:t,g:n,b:r}}(u),t=`rgba(${e.r}, ${e.g}, ${e.b}, ${p})`;i&&(m(t),document.documentElement.style.setProperty(`--${i}`,t)),n(5,g=t),o&&n(7,o=t)},o,i,function(t){W.call(this,e,t)},function(t){W.call(this,e,t)},function(){p=N(this.value),n(4,p)},function(){u=this.value,n(3,u)}]}class nn extends ye{constructor(e){super(),$e(this,e,tn,en,i,{text:0,color:7,bindValue:8,allowOpacity:1,minOpactiy:2},Yt)}}function rn(e){let t;return{c(){t=k("Reset All Styles")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function on(e){let t,n;return t=new Vt({props:{$$slots:{default:[rn]},$$scope:{ctx:e}}}),t.$on("click",e[0]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function sn(e){return[function(){if(confirm("Are you sure you want to reset all styles?")){for(let e in Se)document.documentElement.style.setProperty(`--${e}`,Se[e]);var e;e=Se,Ne=Object.assign({},Ne,e),Ce("cssVars",JSON.stringify(Ne))}}]}class an extends ye{constructor(e){super(),$e(this,e,sn,on,i,{})}}function cn(e){let t;return{c(){t=k(e[2])},m(e,n){E(e,t,n)},p(e,n){4&n&&D(t,e[2])},d(e){e&&_(t)}}}function ln(e){let t;return{c(){t=k(e[1])},m(e,n){E(e,t,n)},p(e,n){2&n&&D(t,e[1])},d(e){e&&_(t)}}}function un(e){let t;function n(e,t){return e[0]?ln:cn}let r=n(e),o=r(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),E(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&_(t),o.d(e)}}}function fn(e){let t,n;return t=new Vt({props:{disabled:e[3],disabledMsg:e[4],hotkeyId:e[5],$$slots:{default:[un]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.disabled=e[3]),16&n&&(r.disabledMsg=e[4]),32&n&&(r.hotkeyId=e[5]),263&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function dn(e,t,n){let{onText:r}=t,{offText:o}=t,{enabled:i=!1}=t,{disabled:s=null}=t,{disabledMsg:a}=t,{hotkeyId:c}=t,l=F();return e.$$set=e=>{"onText"in e&&n(1,r=e.onText),"offText"in e&&n(2,o=e.offText),"enabled"in e&&n(0,i=e.enabled),"disabled"in e&&n(3,s=e.disabled),"disabledMsg"in e&&n(4,a=e.disabledMsg),"hotkeyId"in e&&n(5,c=e.hotkeyId)},[i,r,o,s,a,c,function(){n(0,i=!i),l("click",i)}]}class hn extends ye{constructor(e){super(),$e(this,e,dn,fn,i,{onText:1,offText:2,enabled:0,disabled:3,disabledMsg:4,hotkeyId:5})}}function pn(e){let t,n;return t=new hn({props:{disabled:!e[0],disabledMsg:"Questions haven't loaded yet",onText:"Stop auto answering",offText:"Start auto answering",enabled:!1,hotkeyId:"autoAnswer"}}),t.$on("click",e[2]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=!e[0]),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function gn(e,t,n){let r,o,i;c(e,ut,(e=>n(10,o=e)));let{transportType:s}=at;c(e,s,(e=>n(8,i=e)));let a,l=[],u=null,f=null,d=[],h=-1;function p(){if("colyseus"===i){if(null==f)return;let e=l.find((e=>e._id==f));if(!e)return;let t={key:"answered",deviceId:u,data:{}};if("text"==e.type)t.data.answer=e.answers[0].text;else{let n=e.answers.find((e=>e.correct))._id;t.data.answer=n}at.sendMessage("MESSAGE_FOR_DEVICE",t)}else{let e,t=d[h],n=l.find((e=>e._id==t));if(!n)return;e="mc"==n.type?n.answers.find((e=>e.correct))._id:n.answers[0].text,at.sendMessage("QUESTION_ANSWERED",{answer:e,questionId:t})}}return at.addEventListener("deviceChanges",(e=>{for(let{id:t,data:r}of e.detail)for(let e in r)"GLOBAL_questions"==e&&(n(3,l=JSON.parse(r[e])),console.log("Got questions",l),n(4,u=t)),e==`PLAYER_${o}_currentQuestionId`&&n(5,f=r[e])})),at.addEventListener("blueboatMessage",(e=>{if("STATE_UPDATE"==e.detail?.key)switch(e.detail.data.type){case"GAME_QUESTIONS":n(3,l=e.detail.data.value);break;case"PLAYER_QUESTION_LIST":n(6,d=e.detail.data.value.questionList),n(7,h=e.detail.data.value.questionIndex);break;case"PLAYER_QUESTION_LIST_INDEX":n(7,h=e.detail.data.value)}})),e.$$.update=()=>{504&e.$$.dirty&&n(0,r="colyseus"==i?l.length>0&&null!=f&&null!=u:d.length>0&&l.length>0&&-1!=h)},[r,s,function(e){e.detail?a=setInterval(p,1e3):clearInterval(a)},l,u,f,d,h,i]}class mn extends ye{constructor(e){super(),$e(this,e,gn,pn,i,{})}}function $n(e){let t,n,r;function o(t){e[1](t)}let i={onText:"Stop instant use",offText:"Enable instant use",hotkeyId:"instantUse"};return void 0!==e[0]&&(i.enabled=e[0]),t=new hn({props:i}),G.push((()=>de(t,"enabled",o))),{c(){he(t.$$.fragment)},m(e,n){pe(t,e,n),r=!0},p(e,[r]){const o={};!n&&1&r&&(n=!0,o.enabled=e[0],ee((()=>n=!1))),t.$set(o)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ge(t,e)}}}function yn(e,t,n){let r=!0;return xt.addKeybind(new Set(["enter"]),(function(){if(!r)return;let e=He(),t=e?.stores?.phaser?.scene?.worldManager?.devices?.devicesInView,n=e?.stores?.phaser?.mainCharacter?.body;if(!t||!n)return;let o=null,i=1/0;for(let e of t){if(0==e.interactiveZones.zones.length)continue;let t=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));t<i&&(o=e,i=t)}if(!o)return;o?.interactiveZones?.onInteraction?.()})),[r,function(e){r=e,n(0,r)}]}class vn extends ye{constructor(e){super(),$e(this,e,yn,$n,i,{})}}const bn=["dayOne","echoAgent","stripeDoubleGreen","mustache","vortexAgent","grayGradient","redNinja","sprinklesRed","redDeliciousApple","sunny","fadedBlueGradient","glassHalfFull","whiteAndBlueVerticalStripes","polkaDotBlueAndYellow","pinkPaste","volcanoCracks","mustachePink","mountainAndSun","camoTan","redDinoCostume","stripeDoubleRed","coolRedBlueGradient","pencilPack","glyphsYellowBrown","camoBlue","purplePaste","galaxy","luchador","fox","pumpkin","rockyWest","mummy","ghostCostume","fifthBirthday","corn","feast","pumpkinPie","frostBuddy","polkaDotWhiteAndRed","festiveOnesieBlue","festiveOnesieRed","festiveOnesieGreen","festiveOnesieTan","gift","hotChocolate","snowman","snowglobe","mustacheSanta","firework","polkaDotFestiveReverse","polkaDotFestive","puzzleYellowPurple","puzzleGreenBlue","puzzleOrangeBlue","puzzleGrayWhite","puzzleRedGreen","roses","heart","hamster","leprechaun","cellGold","pirate","constellationPurpleYellow","constellationBlackGreen","constellationBlackWhite","constellationPinkGreen","constellationYellowPink","detective","sketch","astroHelmet","mustacheBrown","yinYang","fisher","coffee","partyPineapple","construction","graduate","graduateBlue","stripeDoublePurple","bananaSplit","rainbowWave","rockstar","mountain","tent","goat","daisy","climber","cookie","zebra","diamondRainbow","circuitGreen","circuitBlue","circuitGray","clock","squiggles","autumnTree","crashTestDummy","stripeDoubleYellow","witch","skeleton","spiderWeb","trickTreat","calacaOne","turkey","farmer","knight","yellowCracksPurple","arcticFox","whistle","penguinBlue","goldenHotChocolate","blastball","blastballGimchester","blastballKitcelona","pufferJacket","christmasTree","rudolph","snowball","santaClaus","causticWaterBlue","causticWaterRed","causticWaterGreen","causticWaterCaribe","causticWaterOcean","causticWaterPurple","taco","gimKing","sketchBlue","clown","camoGreen","cellBlue","burger","sprinklesChocolate","glyphsOrangeBlue","frozenMummy","evilPlantGreen","evilPlantPink","gamerGreen","gamerPink","gamerPurple","gamerYellow","sentryRobot","8bit","redDino","calacaTwo","calacaThree","yarn","racoon","pilot","shark","redPanda","marshmallow","discoBall","incognito","dragon","golden","valenTime","referee","pilot","sprinklesChocolate","miningCart","rainCloud","watermelon","terrainBlock","floatingTube","miner","sproutingFlower","luckyClover","shark","axolotlPink","axolotlBlue","axolotlYellow","astroCaptain","tuxedo","blacksmith"],wn=["origin_token","fire_notes","banana_peel","rainbow_dots","dust_particles","bubble","flowers","metal_spring","candy","day_of_the_dead","autumn_leaves","corn","hearts","stars","yin_yang","puzzle_pieces","taco","blastball_phrases","penguin_footprints","blastball","cupid_arrow","birds","mining_terrains","beachball","clovers","easter_eggs"];function xn(e){x(e,"svelte-bgasye",".container.svelte-bgasye{display:flex;padding:5px 10px;width:100%;justify-items:center;align-self:center}input.svelte-bgasye{flex-grow:1;color:black}select.svelte-bgasye{width:20px;color:black}")}function En(e,t,n){const r=e.slice();return r[4]=t[n],r}function _n(e){let t,n,r,o=e[4]+"";return{c(){t=O("option"),n=k(o),t.__value=r=e[4],L(t,t.__value)},m(e,r){E(e,t,r),w(t,n)},p(e,i){2&i&&o!==(o=e[4]+"")&&D(n,o),2&i&&r!==(r=e[4])&&(t.__value=r,L(t,t.__value))},d(e){e&&_(t)}}}function An(t){let n,o,i,s,a,c,l=fe(t[1]),u=[];for(let e=0;e<l.length;e+=1)u[e]=_n(En(t,l,e));return{c(){n=O("div"),o=O("input"),i=T(),s=O("select");for(let e=0;e<u.length;e+=1)u[e].c();M(o,"spellcheck","false"),M(o,"class","svelte-bgasye"),M(s,"class","svelte-bgasye"),M(n,"class","container svelte-bgasye")},m(e,r){E(e,n,r),w(n,o),L(o,t[0]),w(n,i),w(n,s);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(s,null);a||(c=[R(o,"input",t[3]),R(s,"change",t[2])],a=!0)},p(e,[t]){if(1&t&&o.value!==e[0]&&L(o,e[0]),2&t){let n;for(l=fe(e[1]),n=0;n<l.length;n+=1){const r=En(e,l,n);u[n]?u[n].p(r,t):(u[n]=_n(r),u[n].c(),u[n].m(s,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=l.length}},i:e,o:e,d(e){e&&_(n),A(u,e),a=!1,r(c)}}}function On(e,t,n){let{selectOptions:r=[]}=t,{value:o=""}=t;return e.$$set=e=>{"selectOptions"in e&&n(1,r=e.selectOptions),"value"in e&&n(0,o=e.value)},[o,r,function(e){n(0,o=e.target.value)},function(){o=this.value,n(0,o)}]}class In extends ye{constructor(e){super(),$e(this,e,On,An,i,{selectOptions:1,value:0},xn)}}function kn(e){x(e,"svelte-1ychv30",".disclaimer.svelte-1ychv30{margin-left:5px;margin-right:5px;text-align:center}.description.svelte-1ychv30{width:100%;text-align:center}")}function Tn(e){let t;return{c(){t=k("Apply")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function Cn(e){let t,n,r,o,i,s,a,c,l,u,f,d,h,p;function g(t){e[4](t)}let m={selectOptions:bn};function $(t){e[5](t)}void 0!==e[0]&&(m.value=e[0]),i=new In({props:m}),G.push((()=>de(i,"value",g)));let y={selectOptions:wn};return void 0!==e[1]&&(y.value=e[1]),u=new In({props:y}),G.push((()=>de(u,"value",$))),h=new Vt({props:{disabled:!e[2],disabledMsg:"Character hasn't loaded",$$slots:{default:[Tn]},$$scope:{ctx:e}}}),h.$on("click",e[3]),{c(){t=O("div"),t.textContent="These only work client-side. Nobody else can see these cosmetics.",n=T(),r=O("div"),r.textContent="Skin ID",o=T(),he(i.$$.fragment),a=T(),c=O("div"),c.textContent="Trail ID",l=T(),he(u.$$.fragment),d=T(),he(h.$$.fragment),M(t,"class","disclaimer svelte-1ychv30"),M(r,"class","description svelte-1ychv30"),M(c,"class","description svelte-1ychv30")},m(e,s){E(e,t,s),E(e,n,s),E(e,r,s),E(e,o,s),pe(i,e,s),E(e,a,s),E(e,c,s),E(e,l,s),pe(u,e,s),E(e,d,s),pe(h,e,s),p=!0},p(e,t){const n={};!s&&1&t&&(s=!0,n.value=e[0],ee((()=>s=!1))),i.$set(n);const r={};!f&&2&t&&(f=!0,r.value=e[1],ee((()=>f=!1))),u.$set(r);const o={};4&t&&(o.disabled=!e[2]),256&t&&(o.$$scope={dirty:t,ctx:e}),h.$set(o)},i(e){p||(le(i.$$.fragment,e),le(u.$$.fragment,e),le(h.$$.fragment,e),p=!0)},o(e){ue(i.$$.fragment,e),ue(u.$$.fragment,e),ue(h.$$.fragment,e),p=!1},d(e){e&&(_(t),_(n),_(r),_(o),_(a),_(c),_(l),_(d)),ge(i,e),ge(u,e),ge(h,e)}}}function Rn(e){let t,n;return t=new Xt({props:{name:"Cosmetic Picker",$$slots:{default:[Cn]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};263&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Sn(e,t,n){let r;c(e,ut,(e=>n(6,r=e)));let o="",i="",s=!1,a=setInterval((()=>{let e=He()?.stores?.phaser?.scene?.characterManager?.characters?.get(r);e&&(n(0,o=e.skin.skinId),n(1,i=e.characterTrail.currentAppearanceId),n(2,s=!0),clearInterval(a))}),500);return V((()=>{clearInterval(a)})),[o,i,s,function(){let e=He()?.stores?.phaser?.scene?.characterManager?.characters?.get(r);if(e){if(""!=o){let t=o;t.startsWith("character_")||(t="character_"+t),e.skin.updateSkin({id:t})}if(""!=i){let t=i;t.startsWith("trail_")||(t="trail_"+t),e.characterTrail.updateAppearance(t)}}},function(e){o=e,n(0,o)},function(e){i=e,n(1,i)}]}class Pn extends ye{constructor(e){super(),$e(this,e,Sn,Rn,i,{},kn)}}const Mn=[{question:{background:"rgba(48, 63, 159, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(119, 19, 34, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(168, 92, 21, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(13, 107, 51, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(7, 98, 150, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(108, 47, 0, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(158, 104, 42, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(181, 71, 48, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(138, 151, 72, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(241, 185, 48, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(0, 10, 18, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(38, 50, 56, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(55, 71, 79, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(69, 90, 100, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(84, 110, 122, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(13, 0, 25, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(34, 0, 68, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(51, 0, 102, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(62, 0, 124, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(79, 23, 135, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(0, 0, 99, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(40, 53, 147, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(7, 98, 150, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(2, 119, 189, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(21, 101, 192, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(76, 61, 51, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(56, 86, 69, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(66, 92, 73, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(65, 86, 65, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(76, 99, 73, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(127, 116, 150, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(244, 111, 90, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(237, 113, 45, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(122, 89, 106, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(232, 171, 60, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(255, 191, 209, 1)",text:"rgba(67, 67, 67, 1)"},palette:[{background:"rgba(255, 166, 158, 1)",text:"rgba(91, 91, 91, 1)"},{background:"rgba(252, 246, 191, 1)",text:"rgba(91, 91, 91, 1)"},{background:"rgba(208, 244, 222, 1)",text:"rgba(91, 91, 91, 1)"},{background:"rgba(147, 225, 216, 1)",text:"rgba(91, 91, 91, 1)"}]},{question:{background:"rgba(156, 0, 34, 1)",text:"rgba(255, 255, 255, 1)"},palette:[{background:"rgba(0, 29, 59, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(255, 174, 82, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(254, 89, 99, 1)",text:"rgba(255, 255, 255, 1)"},{background:"rgba(167, 28, 148, 1)",text:"rgba(255, 255, 255, 1)"}]},{question:{background:"rgba(0, 0, 0, 1)",text:"rgba(255, 205, 43, 1)"},palette:[{background:"rgba(255, 205, 43, 1)",text:"rgba(0, 0, 0, 1)"},{background:"rgba(255, 199, 33, 1)",text:"rgba(0, 0, 0, 1)"},{background:"rgba(255, 209, 71, 1)",text:"rgba(0, 0, 0, 1)"},{background:"rgba(255, 205, 56, 1)",text:"rgba(0, 0, 0, 1)"}]}];function Nn(e){let t,n;return{c(){t=I("desc"),n=k(e[7])},m(e,r){E(e,t,r),w(t,n)},p(e,t){128&t&&D(n,e[7])},d(e){e&&_(t)}}}function Dn(e){let t,n;return{c(){t=I("title"),n=k(e[6])},m(e,r){E(e,t,r),w(t,n)},p(e,t){64&t&&D(n,e[6])},d(e){e&&_(t)}}}function Ln(t){let n,r,o,i=t[7]&&Nn(t),s=t[6]&&Dn(t);return{c(){n=I("svg"),i&&i.c(),r=C(),s&&s.c(),o=I("path"),M(o,"d","M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"),M(o,"fill",t[2]),M(n,"viewBox",t[3]),M(n,"width",t[0]),M(n,"height",t[1]),M(n,"class",t[8]),M(n,"aria-label",t[4]),M(n,"aria-hidden",t[5])},m(e,t){E(e,n,t),i&&i.m(n,null),w(n,r),s&&s.m(n,null),w(n,o)},p(e,[t]){e[7]?i?i.p(e,t):(i=Nn(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),e[6]?s?s.p(e,t):(s=Dn(e),s.c(),s.m(n,o)):s&&(s.d(1),s=null),4&t&&M(o,"fill",e[2]),8&t&&M(n,"viewBox",e[3]),1&t&&M(n,"width",e[0]),2&t&&M(n,"height",e[1]),256&t&&M(n,"class",e[8]),16&t&&M(n,"aria-label",e[4]),32&t&&M(n,"aria-hidden",e[5])},i:e,o:e,d(e){e&&_(n),i&&i.d(),s&&s.d()}}}function qn(e,t,n){let{size:r="1em"}=t,{width:o=r}=t,{height:i=r}=t,{color:s="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:c}=t,{ariaHidden:l}=t,{title:u}=t,{desc:f}=t,{class:d}=t;return e.$$set=e=>{"size"in e&&n(9,r=e.size),"width"in e&&n(0,o=e.width),"height"in e&&n(1,i=e.height),"color"in e&&n(2,s=e.color),"viewBox"in e&&n(3,a=e.viewBox),"ariaLabel"in e&&n(4,c=e.ariaLabel),"ariaHidden"in e&&n(5,l=e.ariaHidden),"title"in e&&n(6,u=e.title),"desc"in e&&n(7,f=e.desc),"class"in e&&n(8,d=e.class)},[o,i,s,a,c,l,u,f,d,r]}class Un extends ye{constructor(e){super(),$e(this,e,qn,Ln,i,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function jn(e){let t,n;return{c(){t=I("desc"),n=k(e[7])},m(e,r){E(e,t,r),w(t,n)},p(e,t){128&t&&D(n,e[7])},d(e){e&&_(t)}}}function Bn(e){let t,n;return{c(){t=I("title"),n=k(e[6])},m(e,r){E(e,t,r),w(t,n)},p(e,t){64&t&&D(n,e[6])},d(e){e&&_(t)}}}function Hn(t){let n,r,o,i=t[7]&&jn(t),s=t[6]&&Bn(t);return{c(){n=I("svg"),i&&i.c(),r=C(),s&&s.c(),o=I("path"),M(o,"d","M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"),M(o,"fill",t[2]),M(n,"viewBox",t[3]),M(n,"width",t[0]),M(n,"height",t[1]),M(n,"class",t[8]),M(n,"aria-label",t[4]),M(n,"aria-hidden",t[5])},m(e,t){E(e,n,t),i&&i.m(n,null),w(n,r),s&&s.m(n,null),w(n,o)},p(e,[t]){e[7]?i?i.p(e,t):(i=jn(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),e[6]?s?s.p(e,t):(s=Bn(e),s.c(),s.m(n,o)):s&&(s.d(1),s=null),4&t&&M(o,"fill",e[2]),8&t&&M(n,"viewBox",e[3]),1&t&&M(n,"width",e[0]),2&t&&M(n,"height",e[1]),256&t&&M(n,"class",e[8]),16&t&&M(n,"aria-label",e[4]),32&t&&M(n,"aria-hidden",e[5])},i:e,o:e,d(e){e&&_(n),i&&i.d(),s&&s.d()}}}function zn(e,t,n){let{size:r="1em"}=t,{width:o=r}=t,{height:i=r}=t,{color:s="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:c}=t,{ariaHidden:l}=t,{title:u}=t,{desc:f}=t,{class:d}=t;return e.$$set=e=>{"size"in e&&n(9,r=e.size),"width"in e&&n(0,o=e.width),"height"in e&&n(1,i=e.height),"color"in e&&n(2,s=e.color),"viewBox"in e&&n(3,a=e.viewBox),"ariaLabel"in e&&n(4,c=e.ariaLabel),"ariaHidden"in e&&n(5,l=e.ariaHidden),"title"in e&&n(6,u=e.title),"desc"in e&&n(7,f=e.desc),"class"in e&&n(8,d=e.class)},[o,i,s,a,c,l,u,f,d,r]}class Vn extends ye{constructor(e){super(),$e(this,e,zn,Hn,i,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Fn(e){x(e,"svelte-v66qr8",".buttons.svelte-v66qr8{display:flex;flex-direction:row;width:100%}.submit.svelte-v66qr8,.cancel.svelte-v66qr8{padding:10px;margin:10px;font-size:20px;border:none;border-radius:5px;flex-grow:1}.submit.svelte-v66qr8{background-color:green}.cancel.svelte-v66qr8{background-color:red}dialog.svelte-v66qr8{width:80%;height:80%;display:flex}.pickers.svelte-v66qr8{width:200px;overflow-y:auto;overflow-x:hidden}.wrap.svelte-v66qr8{display:flex;flex-direction:column;height:100%;flex-grow:1}.question.svelte-v66qr8{width:100%;height:30%;font-family:'Product Sans', sans-serif;display:flex;align-items:center;justify-content:center;font-size:50px}.options.svelte-v66qr8{flex-grow:1;display:grid;grid-template-columns:repeat(2, 1fr);width:100%}.option.svelte-v66qr8{background-color:blue;display:flex;align-items:center;justify-content:center;font-family:'Product Sans', sans-serif;font-size:25px;border:6px solid rgba(0, 0, 0, 0.3)}")}function Wn(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function Jn(e){let t,n,r;return{c(){t=O("div"),n=O("div"),n.textContent=`Option ${e[18]+1}`,r=T(),M(t,"class","option svelte-v66qr8"),q(t,"background-color",e[1].palette[e[18]].background),q(t,"color",e[1].palette[e[18]].text)},m(e,o){E(e,t,o),w(t,n),w(t,r)},p(e,n){2&n&&q(t,"background-color",e[1].palette[e[18]].background),2&n&&q(t,"color",e[1].palette[e[18]].text)},d(e){e&&_(t)}}}function Gn(e){let t,n,o,i,s,a,c,l,u,f,d,h,p,g,m,$,y,v,b,x,I,k,C,S,P,N,D,L,U,j,B,H,z,V,F,W,J,K,Q,X,Y,Z,te,ne,re;function oe(t){e[4](t)}let ie={text:"Question Background",allowOpacity:!1};function se(t){e[5](t)}void 0!==e[1].question.background&&(ie.color=e[1].question.background),o=new nn({props:ie}),G.push((()=>de(o,"color",oe)));let ae={text:"Question Text",allowOpacity:!1};function ce(t){e[6](t)}void 0!==e[1].question.text&&(ae.color=e[1].question.text),a=new nn({props:ae}),G.push((()=>de(a,"color",se)));let me={text:"Option 1 Background",allowOpacity:!1};function $e(t){e[7](t)}void 0!==e[1].palette[0].background&&(me.color=e[1].palette[0].background),u=new nn({props:me}),G.push((()=>de(u,"color",ce)));let ye={text:"Option 1 Text",allowOpacity:!1};function ve(t){e[8](t)}void 0!==e[1].palette[0].text&&(ye.color=e[1].palette[0].text),h=new nn({props:ye}),G.push((()=>de(h,"color",$e)));let be={text:"Option 2 Background",allowOpacity:!1};function we(t){e[9](t)}void 0!==e[1].palette[1].background&&(be.color=e[1].palette[1].background),m=new nn({props:be}),G.push((()=>de(m,"color",ve)));let xe={text:"Option 2 Text",allowOpacity:!1};function Ee(t){e[10](t)}void 0!==e[1].palette[1].text&&(xe.color=e[1].palette[1].text),v=new nn({props:xe}),G.push((()=>de(v,"color",we)));let _e={text:"Option 3 Background",allowOpacity:!1};function Ae(t){e[11](t)}void 0!==e[1].palette[2].background&&(_e.color=e[1].palette[2].background),I=new nn({props:_e}),G.push((()=>de(I,"color",Ee)));let Oe={text:"Option 3 Text",allowOpacity:!1};function Ie(t){e[12](t)}void 0!==e[1].palette[2].text&&(Oe.color=e[1].palette[2].text),S=new nn({props:Oe}),G.push((()=>de(S,"color",Ae)));let ke={text:"Option 4 Background",allowOpacity:!1};function Te(t){e[13](t)}void 0!==e[1].palette[3].background&&(ke.color=e[1].palette[3].background),D=new nn({props:ke}),G.push((()=>de(D,"color",Ie)));let Ce={text:"Option 4 Text",allowOpacity:!1};void 0!==e[1].palette[3].text&&(Ce.color=e[1].palette[3].text),j=new nn({props:Ce}),G.push((()=>de(j,"color",Te)));let Re=fe({length:4}),Se=[];for(let t=0;t<Re.length;t+=1)Se[t]=Jn(Wn(e,Re,t));return{c(){t=O("dialog"),n=O("div"),he(o.$$.fragment),s=T(),he(a.$$.fragment),l=T(),he(u.$$.fragment),d=T(),he(h.$$.fragment),g=T(),he(m.$$.fragment),y=T(),he(v.$$.fragment),x=T(),he(I.$$.fragment),C=T(),he(S.$$.fragment),N=T(),he(D.$$.fragment),U=T(),he(j.$$.fragment),H=T(),z=O("div"),V=O("div"),F=O("div"),F.textContent="Example Question Text",W=T(),J=O("div");for(let e=0;e<Se.length;e+=1)Se[e].c();K=T(),Q=O("div"),X=O("button"),X.textContent="Create",Y=T(),Z=O("button"),Z.textContent="Cancel",M(n,"class","pickers svelte-v66qr8"),M(V,"class","question svelte-v66qr8"),q(V,"background-color",e[1].question.background),q(V,"color",e[1].question.text),M(J,"class","options svelte-v66qr8"),M(X,"class","submit svelte-v66qr8"),M(Z,"class","cancel svelte-v66qr8"),M(Q,"class","buttons svelte-v66qr8"),M(z,"class","wrap svelte-v66qr8"),M(t,"class","svelte-v66qr8")},m(r,i){E(r,t,i),w(t,n),pe(o,n,null),w(n,s),pe(a,n,null),w(n,l),pe(u,n,null),w(n,d),pe(h,n,null),w(n,g),pe(m,n,null),w(n,y),pe(v,n,null),w(n,x),pe(I,n,null),w(n,C),pe(S,n,null),w(n,N),pe(D,n,null),w(n,U),pe(j,n,null),w(t,H),w(t,z),w(z,V),w(V,F),w(z,W),w(z,J);for(let e=0;e<Se.length;e+=1)Se[e]&&Se[e].m(J,null);w(z,K),w(z,Q),w(Q,X),w(Q,Y),w(Q,Z),e[14](t),te=!0,ne||(re=[R(X,"click",e[2]),R(Z,"click",e[3]),R(t,"close",e[3])],ne=!0)},p(e,[t]){const n={};!i&&2&t&&(i=!0,n.color=e[1].question.background,ee((()=>i=!1))),o.$set(n);const r={};!c&&2&t&&(c=!0,r.color=e[1].question.text,ee((()=>c=!1))),a.$set(r);const s={};!f&&2&t&&(f=!0,s.color=e[1].palette[0].background,ee((()=>f=!1))),u.$set(s);const l={};!p&&2&t&&(p=!0,l.color=e[1].palette[0].text,ee((()=>p=!1))),h.$set(l);const d={};!$&&2&t&&($=!0,d.color=e[1].palette[1].background,ee((()=>$=!1))),m.$set(d);const g={};!b&&2&t&&(b=!0,g.color=e[1].palette[1].text,ee((()=>b=!1))),v.$set(g);const y={};!k&&2&t&&(k=!0,y.color=e[1].palette[2].background,ee((()=>k=!1))),I.$set(y);const w={};!P&&2&t&&(P=!0,w.color=e[1].palette[2].text,ee((()=>P=!1))),S.$set(w);const x={};!L&&2&t&&(L=!0,x.color=e[1].palette[3].background,ee((()=>L=!1))),D.$set(x);const E={};if(!B&&2&t&&(B=!0,E.color=e[1].palette[3].text,ee((()=>B=!1))),j.$set(E),(!te||2&t)&&q(V,"background-color",e[1].question.background),(!te||2&t)&&q(V,"color",e[1].question.text),2&t){let n;for(Re=fe({length:4}),n=0;n<Re.length;n+=1){const r=Wn(e,Re,n);Se[n]?Se[n].p(r,t):(Se[n]=Jn(r),Se[n].c(),Se[n].m(J,null))}for(;n<Se.length;n+=1)Se[n].d(1);Se.length=Re.length}},i(e){te||(le(o.$$.fragment,e),le(a.$$.fragment,e),le(u.$$.fragment,e),le(h.$$.fragment,e),le(m.$$.fragment,e),le(v.$$.fragment,e),le(I.$$.fragment,e),le(S.$$.fragment,e),le(D.$$.fragment,e),le(j.$$.fragment,e),te=!0)},o(e){ue(o.$$.fragment,e),ue(a.$$.fragment,e),ue(u.$$.fragment,e),ue(h.$$.fragment,e),ue(m.$$.fragment,e),ue(v.$$.fragment,e),ue(I.$$.fragment,e),ue(S.$$.fragment,e),ue(D.$$.fragment,e),ue(j.$$.fragment,e),te=!1},d(n){n&&_(t),ge(o),ge(a),ge(u),ge(h),ge(m),ge(v),ge(I),ge(S),ge(D),ge(j),A(Se,n),e[14](null),ne=!1,r(re)}}}function Kn(e,t,n){let r,o=structuredClone({...Mn[0],custom:!0}),i=F();return z((()=>{document.body.appendChild(r),r.showModal()})),[r,o,function(){i("submit",o)},function(){i("submit",null)},function(t){e.$$.not_equal(o.question.background,t)&&(o.question.background=t,n(1,o))},function(t){e.$$.not_equal(o.question.text,t)&&(o.question.text=t,n(1,o))},function(t){e.$$.not_equal(o.palette[0].background,t)&&(o.palette[0].background=t,n(1,o))},function(t){e.$$.not_equal(o.palette[0].text,t)&&(o.palette[0].text=t,n(1,o))},function(t){e.$$.not_equal(o.palette[1].background,t)&&(o.palette[1].background=t,n(1,o))},function(t){e.$$.not_equal(o.palette[1].text,t)&&(o.palette[1].text=t,n(1,o))},function(t){e.$$.not_equal(o.palette[2].background,t)&&(o.palette[2].background=t,n(1,o))},function(t){e.$$.not_equal(o.palette[2].text,t)&&(o.palette[2].text=t,n(1,o))},function(t){e.$$.not_equal(o.palette[3].background,t)&&(o.palette[3].background=t,n(1,o))},function(t){e.$$.not_equal(o.palette[3].text,t)&&(o.palette[3].text=t,n(1,o))},function(e){G[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Qn extends ye{constructor(e){super(),$e(this,e,Kn,Gn,i,{},Fn)}}function Xn(e){x(e,"svelte-1yznqq",".createTheme.svelte-1yznqq.svelte-1yznqq{display:flex;align-items:center;justify-content:center;gap:5px}.title.svelte-1yznqq.svelte-1yznqq{position:relative;width:100%;text-align:center;display:flex;justify-content:center}.title.svelte-1yznqq>div.svelte-1yznqq{position:absolute;right:0;top:0}.theme.svelte-1yznqq.svelte-1yznqq{display:flex;flex-direction:column;align-items:center;margin:10px}.theme.selected.svelte-1yznqq.svelte-1yznqq{border:5px solid black;outline:3px solid white}.options.svelte-1yznqq.svelte-1yznqq{display:flex;flex-direction:row;align-items:center;width:100%}.option.svelte-1yznqq.svelte-1yznqq{flex-grow:1;text-align:center;margin:5px}.themeEnabled.svelte-1yznqq.svelte-1yznqq{display:flex;align-items:center;justify-content:center;margin-left:10px;margin-right:10px}.themeEnabled.svelte-1yznqq>div.svelte-1yznqq{margin-right:10px}.themeEnabled.svelte-1yznqq>input.svelte-1yznqq{width:20px;height:20px}")}function Yn(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Zn(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function er(t){let n,r;return n=new Qn({}),n.$on("submit",t[7]),{c(){he(n.$$.fragment)},m(e,t){pe(n,e,t),r=!0},p:e,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){ge(n,e)}}}function tr(t){let n,r,o,i;return o=new Vn({props:{width:30,height:30}}),{c(){n=O("div"),r=k("New Theme\r\n            "),he(o.$$.fragment),M(n,"class","createTheme svelte-1yznqq")},m(e,t){E(e,n,t),w(n,r),pe(o,n,null),i=!0},p:e,i(e){i||(le(o.$$.fragment,e),i=!0)},o(e){ue(o.$$.fragment,e),i=!1},d(e){e&&_(n),ge(o)}}}function nr(e){let t,n,r,o,i;function s(){return e[11](e[20])}return n=new Un({props:{width:25,height:25}}),{c(){t=O("div"),he(n.$$.fragment),M(t,"class","svelte-1yznqq")},m(e,a){E(e,t,a),pe(n,t,null),r=!0,o||(i=R(t,"click",P(s)),o=!0)},p(t,n){e=t},i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){e&&_(t),ge(n),o=!1,i()}}}function rr(e){let t,n,r,o=e[25]+1+"";return{c(){t=O("div"),n=k(o),r=T(),M(t,"class","option svelte-1yznqq"),q(t,"background-color",e[23].background),q(t,"color",e[23].text)},m(e,o){E(e,t,o),w(t,n),w(t,r)},p(e,n){1&n&&q(t,"background-color",e[23].background),1&n&&q(t,"color",e[23].text)},d(e){e&&_(t)}}}function or(e){let t,n,r,o,i,s,a,c,l,u,f,d=e[22]+1+"",h=e[20].custom&&nr(e),p=fe(e[20].palette),g=[];for(let t=0;t<p.length;t+=1)g[t]=rr(Zn(e,p,t));function m(){return e[12](e[20])}return{c(){t=O("div"),n=O("div"),r=k("Theme "),o=k(d),i=T(),h&&h.c(),s=T(),a=O("div");for(let e=0;e<g.length;e+=1)g[e].c();c=T(),M(n,"class","title svelte-1yznqq"),M(a,"class","options svelte-1yznqq"),M(t,"class","theme svelte-1yznqq"),q(t,"background-color",e[20].question.background),q(t,"color",e[20].question.text),U(t,"selected",e[1]===e[20])},m(e,d){E(e,t,d),w(t,n),w(n,r),w(n,o),w(n,i),h&&h.m(n,null),w(t,s),w(t,a);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(a,null);w(t,c),l=!0,u||(f=R(t,"click",m),u=!0)},p(r,o){if((e=r)[20].custom?h?(h.p(e,o),1&o&&le(h,1)):(h=nr(e),h.c(),le(h,1),h.m(n,null)):h&&(ae(),ue(h,1,1,(()=>{h=null})),ce()),1&o){let t;for(p=fe(e[20].palette),t=0;t<p.length;t+=1){const n=Zn(e,p,t);g[t]?g[t].p(n,o):(g[t]=rr(n),g[t].c(),g[t].m(a,null))}for(;t<g.length;t+=1)g[t].d(1);g.length=p.length}(!l||1&o)&&q(t,"background-color",e[20].question.background),(!l||1&o)&&q(t,"color",e[20].question.text),(!l||3&o)&&U(t,"selected",e[1]===e[20])},i(e){l||(le(h),l=!0)},o(e){ue(h),l=!1},d(e){e&&_(t),h&&h.d(),A(g,e),u=!1,f()}}}function ir(e){let t,n,o,i,s,a,c,l,u,f,d;a=new Vt({props:{$$slots:{default:[tr]},$$scope:{ctx:e}}}),a.$on("click",e[10]);let h=fe(e[0]),p=[];for(let t=0;t<h.length;t+=1)p[t]=or(Yn(e,h,t));const g=e=>ue(p[e],1,1,(()=>{p[e]=null}));return{c(){t=O("div"),n=O("div"),n.textContent="Use Custom Theme?",o=T(),i=O("input"),s=T(),he(a.$$.fragment),c=T();for(let e=0;e<p.length;e+=1)p[e].c();l=C(),M(n,"class","svelte-1yznqq"),M(i,"type","checkbox"),M(i,"class","svelte-1yznqq"),M(t,"class","themeEnabled svelte-1yznqq")},m(r,h){E(r,t,h),w(t,n),w(t,o),w(t,i),i.checked=e[2],E(r,s,h),pe(a,r,h),E(r,c,h);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(r,h);E(r,l,h),u=!0,f||(d=[R(i,"change",e[9]),R(i,"change",e[5])],f=!0)},p(e,t){4&t&&(i.checked=e[2]);const n={};if(67108864&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n),323&t){let n;for(h=fe(e[0]),n=0;n<h.length;n+=1){const r=Yn(e,h,n);p[n]?(p[n].p(r,t),le(p[n],1)):(p[n]=or(r),p[n].c(),le(p[n],1),p[n].m(l.parentNode,l))}for(ae(),n=h.length;n<p.length;n+=1)g(n);ce()}},i(e){if(!u){le(a.$$.fragment,e);for(let e=0;e<h.length;e+=1)le(p[e]);u=!0}},o(e){ue(a.$$.fragment,e),p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)ue(p[e]);u=!1},d(e){e&&(_(t),_(s),_(c),_(l)),ge(a,e),A(p,e),f=!1,r(d)}}}function sr(e){let t,n,r,o=e[3]&&er(e);return n=new Xt({props:{name:"Custom Theme",$$slots:{default:[ir]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=T(),he(n.$$.fragment)},m(e,i){o&&o.m(e,i),E(e,t,i),pe(n,e,i),r=!0},p(e,[r]){e[3]?o?(o.p(e,r),8&r&&le(o,1)):(o=er(e),o.c(),le(o,1),o.m(t.parentNode,t)):o&&(ae(),ue(o,1,1,(()=>{o=null})),ce());const i={};67108879&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i)},i(e){r||(le(o),le(n.$$.fragment,e),r=!0)},o(e){ue(o),ue(n.$$.fragment,e),r=!1},d(e){e&&_(t),o&&o.d(e),ge(n,e)}}}const ar='[style^="opacity:"][style*="transform: translateY(0%)"]';function cr(e,t,n){let r,{transportType:o}=at;c(e,o,(e=>n(14,r=e)));let i=Re("customThemes"),s=[];s=i?JSON.parse(i):Mn.map((e=>({...e,custom:!1})));let a=null,l=new MutationObserver((e=>{for(let t of e)for(let e of t.addedNodes){if(!(e instanceof HTMLElement))continue;let t;"colyseus"===r?t=e.querySelector(ar):"blueboat"===r&&e.matches(ar)&&(t=e),t&&(a=t,p())}}));const u=()=>{l.observe(document.body,{childList:!0,subtree:!0})};document.body?u():window.addEventListener("DOMContentLoaded",u);let f=s[parseInt(Re("selectedTheme","0"))],d="true"===Re("themeEnabled");function h(e){n(1,f=e),Ce("selectedTheme",s.indexOf(e).toString()),d&&p()}function p(){if(!a||!d)return;let e=a.firstChild.firstChild.firstChild.firstChild;e.style.background=f.question.background,e.style.color=f.question.text;for(let e=0;e<a.children[1].children.length;e++){let t=a.children[1].children[e].firstChild;t.style.background=f.palette[e].background,t.style.color=f.palette[e].text}}let g=!1;function m(e){if(!confirm("Are you sure you want to delete this theme?"))return;let t=s.indexOf(e);s.splice(t,1),Ce("customThemes",JSON.stringify(s)),e===f&&(n(1,f=s[0]),Ce("selectedTheme","0"),p()),n(0,s)}return[s,f,d,g,o,function(){d?(Ce("themeEnabled","true"),h(f)):(Ce("themeEnabled","false"),function(){if(!a)return;let e=a.firstChild.firstChild.firstChild.firstChild;e.style.background="",e.style.color="";for(let e=0;e<a.children[1].children.length;e++){let t=a.children[1].children[e].firstChild;t.style.background="",t.style.color=""}}())},h,function(e){n(3,g=!1),e.detail&&(n(1,f=e.detail),n(0,s=[e.detail,...s]),Ce("selectedTheme","0"),Ce("customThemes",JSON.stringify(s)),p())},m,function(){d=this.checked,n(2,d)},()=>n(3,g=!0),e=>m(e),e=>h(e)]}class lr extends ye{constructor(e){super(),$e(this,e,cr,sr,i,{},Xn)}}const{window:ur}=b;function fr(e){x(e,"svelte-gt58ph","canvas.svelte-gt58ph{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;pointer-events:none}")}function dr(e){let t,n,r,o,i,s;function a(t){e[6](t)}let c={onText:"Stop highlighting teammates",offText:"Highlight Teammates",hotkeyId:"highlightTeammates"};function l(t){e[7](t)}void 0!==e[1]&&(c.enabled=e[1]),t=new hn({props:c}),G.push((()=>de(t,"enabled",a))),t.$on("click",e[4]);let u={onText:"Stop highlighting enemies",offText:"Highlight Enemies",hotkeyId:"highlightEnemies"};return void 0!==e[2]&&(u.enabled=e[2]),o=new hn({props:u}),G.push((()=>de(o,"enabled",l))),o.$on("click",e[4]),{c(){he(t.$$.fragment),r=T(),he(o.$$.fragment)},m(e,n){pe(t,e,n),E(e,r,n),pe(o,e,n),s=!0},p(e,r){const s={};!n&&2&r&&(n=!0,s.enabled=e[1],ee((()=>n=!1))),t.$set(s);const a={};!i&&4&r&&(i=!0,a.enabled=e[2],ee((()=>i=!1))),o.$set(a)},i(e){s||(le(t.$$.fragment,e),le(o.$$.fragment,e),s=!0)},o(e){ue(t.$$.fragment,e),ue(o.$$.fragment,e),s=!1},d(e){e&&_(r),ge(t,e),ge(o,e)}}}function hr(e){let t,n,r,o,i,s;return r=new Xt({props:{name:"Player Highlighter",$$slots:{default:[dr]},$$scope:{ctx:e}}}),{c(){t=O("canvas"),n=T(),he(r.$$.fragment),M(t,"width",window.innerWidth),M(t,"height",window.innerHeight),M(t,"class","svelte-gt58ph")},m(a,c){E(a,t,c),e[5](t),E(a,n,c),pe(r,a,c),o=!0,i||(s=R(ur,"resize",e[3]),i=!0)},p(e,[t]){const n={};1030&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(le(r.$$.fragment,e),o=!0)},o(e){ue(r.$$.fragment,e),o=!1},d(o){o&&(_(t),_(n)),e[5](null),ge(r,o),i=!1,s()}}}function pr(e,t,n){let r,o,i;c(e,ut,(e=>n(9,o=e)));let s=!1,a=!1;function l(){if(!it?.state?.characters||!r)return;if(r.clearRect(0,0,i.width,i.height),!s&&!a)return;let e=He()?.stores?.phaser?.scene?.cameras?.cameras[0],t=it.state.characters.$items.get(o);if(!t||!e)return;let n=e.midPoint.x,c=e.midPoint.y;for(let[l,u]of it.state.characters.$items){if(l===o)continue;let f=t.teamId===u.teamId;if(f&&!s)continue;if(!f&&!a)continue;let d=Math.atan2(u.y-c,u.x-n),h=Math.sqrt(Math.pow(u.x-n,2)+Math.pow(u.y-c,2))*e.zoom,p=Math.min(250,h),g=Math.cos(d)*p+i.width/2,m=Math.sin(d)*p+i.height/2,$=d+Math.PI/4*3,y=d-Math.PI/4*3;r.beginPath(),r.moveTo(g,m),r.lineTo(g+50*Math.cos($),m+50*Math.sin($)),r.moveTo(g,m),r.lineTo(g+50*Math.cos(y),m+50*Math.sin(y)),r.lineWidth=3,r.strokeStyle=f?"green":"red",r.stroke(),r.fillStyle="black",r.font="20px Verdana",r.textAlign="center",r.textBaseline="middle",r.fillText(`${u.name} (${Math.floor(h)})`,g,m)}}return z((()=>{document.body.appendChild(i)})),setInterval(l,1e3/30),e.$$.update=()=>{1&e.$$.dirty&&(r=i?.getContext("2d"))},[i,s,a,function(){n(0,i.width=window.innerWidth,i),n(0,i.height=window.innerHeight,i)},l,function(e){G[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},function(e){s=e,n(1,s)},function(e){a=e,n(2,a)}]}class gr extends ye{constructor(e){super(),$e(this,e,pr,hr,i,{},fr)}}function mr(e){x(e,"svelte-vkb13i",".sliderWrap.svelte-vkb13i{display:flex;flex-direction:column;align-items:center;margin:5px 10px}.sliderWrap.disabled.svelte-vkb13i{opacity:0.5}input.svelte-vkb13i{flex-grow:1;width:100%}input[disabled].svelte-vkb13i{cursor:not-allowed}")}function $r(t){let n,o,i,s,a,c,l,u,f;return{c(){n=O("div"),o=O("div"),i=k(t[1]),s=T(),a=O("input"),M(a,"type","range"),M(a,"min",t[2]),M(a,"max",t[3]),M(a,"step",t[4]),M(a,"title",c=t[5]?t[6]:void 0),a.disabled=l=!0===t[5]||void 0===t[5],M(a,"class","svelte-vkb13i"),M(n,"class","sliderWrap svelte-vkb13i"),U(n,"disabled",!0===t[5]||void 0===t[5])},m(e,r){E(e,n,r),w(n,o),w(o,i),w(n,s),w(n,a),L(a,t[0]),t[12](a),u||(f=[R(a,"change",t[11]),R(a,"input",t[11]),R(a,"mousedown",P(t[9])),R(a,"keydown",S(t[10])),R(a,"input",t[8])],u=!0)},p(e,[t]){2&t&&D(i,e[1]),4&t&&M(a,"min",e[2]),8&t&&M(a,"max",e[3]),16&t&&M(a,"step",e[4]),96&t&&c!==(c=e[5]?e[6]:void 0)&&M(a,"title",c),32&t&&l!==(l=!0===e[5]||void 0===e[5])&&(a.disabled=l),1&t&&L(a,e[0]),32&t&&U(n,"disabled",!0===e[5]||void 0===e[5])},i:e,o:e,d(e){e&&_(n),t[12](null),u=!1,r(f)}}}function yr(e,t,n){let r,{title:o}=t,{min:i}=t,{max:s}=t,{value:a=(i+s)/2}=t,{step:c=1}=t,{disabled:l=null}=t,{disabledMsg:u}=t,f=F();return e.$$set=e=>{"title"in e&&n(1,o=e.title),"min"in e&&n(2,i=e.min),"max"in e&&n(3,s=e.max),"value"in e&&n(0,a=e.value),"step"in e&&n(4,c=e.step),"disabled"in e&&n(5,l=e.disabled),"disabledMsg"in e&&n(6,u=e.disabledMsg)},[a,o,i,s,c,l,u,r,function(){f("input",parseFloat(r.value))},function(t){W.call(this,e,t)},function(t){W.call(this,e,t)},function(){a=N(this.value),n(0,a)},function(e){G[e?"unshift":"push"]((()=>{r=e,n(7,r)}))}]}class vr extends ye{constructor(e){super(),$e(this,e,yr,$r,i,{title:1,min:2,max:3,value:0,step:4,disabled:5,disabledMsg:6},mr)}}function br(e){x(e,"svelte-oqtmhy","select.svelte-oqtmhy{width:calc(100% - 10px);padding:5px;margin-left:5px;margin-right:5px;color:black}select[disabled].svelte-oqtmhy{cursor:not-allowed}")}function wr(e,t,n){const r=e.slice();return r[20]=t[n],r}function xr(e){let t,n,r=e[1]?"Stop":"Start";return{c(){t=k(r),n=k(" Freecam")},m(e,r){E(e,t,r),E(e,n,r)},p(e,n){2&n&&r!==(r=e[1]?"Stop":"Start")&&D(t,r)},d(e){e&&(_(t),_(n))}}}function Er(t){let n;return{c(){n=k("Stop Spectating")},m(e,t){E(e,n,t)},p:e,d(e){e&&_(n)}}}function _r(e){let t;function n(e,t){return e[4]?Er:xr}let r=n(e),o=r(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),E(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&_(t),o.d(e)}}}function Ar(e){let t,n,r,o=e[20].name+"";return{c(){t=O("option"),n=k(o),t.__value=r=e[20].id,L(t,t.__value)},m(e,r){E(e,t,r),w(t,n)},p(e,i){8&i&&o!==(o=e[20].name+"")&&D(n,o),8&i&&r!==(r=e[20].id)&&(t.__value=r,L(t,t.__value))},d(e){e&&_(t)}}}function Or(e){let t,n,o,i,s,a,c,l,u,f,d;t=new Vt({props:{disabled:!e[5],disabledMsg:"Camera hasn't loaded",$$slots:{default:[_r]},$$scope:{ctx:e}}}),t.$on("click",e[9]),o=new vr({props:{title:"Camera Zoom",min:.1,max:5,step:.1,disabled:!e[5],value:e[2],disabledMsg:"Camera hasn't loaded"}}),o.$on("input",e[8]);let h=fe(e[3]),p=[];for(let t=0;t<h.length;t+=1)p[t]=Ar(wr(e,h,t));return{c(){he(t.$$.fragment),n=T(),he(o.$$.fragment),i=T(),s=O("select"),a=O("option"),a.textContent="Pick a player to spectate";for(let e=0;e<p.length;e+=1)p[e].c();a.__value="",L(a,a.__value),a.selected=!0,s.disabled=c=0===e[3].length,M(s,"title",l=0===e[3].length?"No characters to spectate":void 0),M(s,"class","svelte-oqtmhy")},m(r,c){pe(t,r,c),E(r,n,c),pe(o,r,c),E(r,i,c),E(r,s,c),w(s,a);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(s,null);e[12](s),u=!0,f||(d=[R(s,"change",e[10]),R(s,"keydown",S(e[11]))],f=!0)},p(e,n){const r={};32&n&&(r.disabled=!e[5]),8388626&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const i={};if(32&n&&(i.disabled=!e[5]),4&n&&(i.value=e[2]),o.$set(i),8&n){let t;for(h=fe(e[3]),t=0;t<h.length;t+=1){const r=wr(e,h,t);p[t]?p[t].p(r,n):(p[t]=Ar(r),p[t].c(),p[t].m(s,null))}for(;t<p.length;t+=1)p[t].d(1);p.length=h.length}(!u||8&n&&c!==(c=0===e[3].length))&&(s.disabled=c),(!u||8&n&&l!==(l=0===e[3].length?"No characters to spectate":void 0))&&M(s,"title",l)},i(e){u||(le(t.$$.fragment,e),le(o.$$.fragment,e),u=!0)},o(e){ue(t.$$.fragment,e),ue(o.$$.fragment,e),u=!1},d(a){a&&(_(n),_(i),_(s)),ge(t,a),ge(o,a),A(p,a),e[12](null),f=!1,r(d)}}}function Ir(e){let t,n,o,i;return t=new Xt({props:{name:"Freecam",$$slots:{default:[Or]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(r,s){pe(t,r,s),n=!0,o||(i=[R(window,"keydown",e[6]),R(window,"keyup",e[7])],o=!0)},p(e,[n]){const r={};8388671&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e),o=!1,r(i)}}}function kr(e,t,n){let r,o;c(e,ut,(e=>n(15,r=e))),c(e,lt,(e=>n(5,o=e)));let i,s=new Set,a=!1;let l,u={x:0,y:0},f=1;function d(){let e=He().stores.phaser,t=e.scene.characterManager.characters.get(e.mainCharacter.id).body;e.scene.cameraHelper.startFollowingObject({object:t}),e.scene.cameras.cameras[0].useBounds=!0,clearInterval(l)}lt.subscribe((e=>{if(!e)return;let t=setInterval((()=>{let e=He()?.stores?.phaser?.scene?.cameras?.cameras[0]?.zoom;e&&(n(2,f=e),clearInterval(t))}),50)}));let h=[],p=[];ut.subscribe((e=>{n(3,h=h.filter((t=>t.id!==e)))})),it.addEventListener("load",(()=>{const e=()=>{n(3,h=[]);for(let e of p)e();for(let[t,n]of it.state.characters.$items){if(!n.isActive||t===r)continue;h.push({id:t,name:n.name});let o=n.listen("isActive",((t,n)=>{void 0!==n&&e()}));p.push(o)}};it.state.characters.onChange(e),e()}));let g=!1;return[i,a,f,h,g,o,function(e){e.key.startsWith("Arrow")&&(a&&e.stopImmediatePropagation(),s.add(e.key))},function(e){s.delete(e.key)},function(e){n(2,f=e.detail),He().stores.phaser.scene.cameras.cameras[0].setZoom(e.detail)},function(){g?(n(4,g=!1),d(),n(0,i.value="",i)):(n(1,a=!a),a?function(){let e=He().stores.phaser.scene,t=e.cameras.cameras[0];e.cameraHelper.stopFollow(),u={x:t.midPoint.x,y:t.midPoint.y},t.useBounds=!1,l=setInterval((()=>{let t=20/f*1.75;s.has("ArrowUp")&&(u.y-=t),s.has("ArrowDown")&&(u.y+=t),s.has("ArrowLeft")&&(u.x-=t),s.has("ArrowRight")&&(u.x+=t),e.cameraHelper.goTo(u)}),1e3/30)}():d())},function(){if(!i.value)return;n(4,g=!0),n(1,a=!1),d();let e=He().stores.phaser.scene.characterManager.characters.get(i.value);e&&He().stores.phaser.scene.cameraHelper.startFollowingObject({object:e.body})},function(t){W.call(this,e,t)},function(e){G[e?"unshift":"push"]((()=>{i=e,n(0,i),n(3,h)}))}]}class Tr extends ye{constructor(e){super(),$e(this,e,kr,Ir,i,{},br)}}function Cr(t){let n,r;return n=new hn({props:{onText:"Show Energy Popup",offText:"Hide Energy Popup",hotkeyId:"toggleEnergyPopup"}}),n.$on("click",t[0]),{c(){he(n.$$.fragment)},m(e,t){pe(n,e,t),r=!0},p:e,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){ge(n,e)}}}function Rr(e){let t,n=!1,r=new MutationObserver((e=>{for(let r of e)for(let e of r.addedNodes)e.nodeType==Node.ELEMENT_NODE&&e.matches(".maxAll.flex.hc")&&e.querySelector("img[src^='/assets/map/inventory/resources/']")&&(t=e,n&&(t.style.display="none"))}));const o=()=>{r.observe(document.body,{childList:!0,subtree:!0})};return document.body?o():window.addEventListener("DOMContentLoaded",o),[function(e){n=e.detail,t&&(t.style.display=n?"none":"")}]}class Sr extends ye{constructor(e){super(),$e(this,e,Rr,Cr,i,{})}}function Pr(e){let t,n;return t=new hn({props:{onText:"Stop auto purchasing",offText:"Auto Purchase Upgrades",hotkeyId:"classicAutoPurchase",disabled:null==e[0],disabledMsg:"Money hasn't loaded yet"}}),t.$on("click",e[1]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.disabled=null==e[0]),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Mr(e){let t,n;return t=new Xt({props:{name:"Classic",$$slots:{default:[Pr]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Nr(e,t,n){const r=[["Streak Bonus",2,20],["Money Per Question",3,100],["Streak Bonus",3,200],["Multiplier",3,300],["Streak Bonus",4,2e3],["Multiplier",4,2e3],["Money Per Question",5,1e4],["Streak Bonus",5,2e4],["Multiplier",5,12e3],["Money Per Question",6,75e3],["Multiplier",6,85e3],["Streak Bonus",6,2e5],["Streak Bonus",7,2e6],["Streak Bonus",8,2e7],["Multiplier",7,7e5],["Money Per Question",9,1e7],["Multiplier",8,65e5],["Streak Bonus",9,2e8],["Multiplier",9,65e6],["Streak Bonus",10,2e9],["Money Per Question",10,1e8],["Multiplier",10,1e9]];var o;!function(e){e.Insurance="insurance",e["Money Per Question"]="moneyPerQuestion",e.Multiplier="multiplier",e["Streak Bonus"]="streakBonus"}(o||(o={}));let i=null,s={},a=!1;function c(){if(!a)return;let e=r[0];var t,n;e&&(i>=e[2]&&(t=e[0],n=e[1],at.sendMessage("UPGRADE_PURCHASED",{upgradeName:t,level:n})))}return at.addEventListener("blueboatMessage",(e=>{if("UPGRADE_LEVELS"==e.detail.data?.type){s=e.detail.data.value;for(let e=0;e<r.length;e++){let t=r[e];s[o[t[0]]]>=t[1]&&(r.splice(e,1),e--)}}"BALANCE"==e.detail.data?.type&&(n(0,i=e.detail.data.value),c())})),[i,function(e){e.detail?(a=!0,c()):a=!1}]}let Dr=class extends ye{constructor(e){super(),$e(this,e,Nr,Mr,i,{})}};function Lr(e){let t,n;return t=new hn({props:{onText:"Stop auto purchasing",offText:"Auto Purchase Upgrades",hotkeyId:"richModeAutoPurchase",disabled:null==e[0],disabledMsg:"Money hasn't loaded yet"}}),t.$on("click",e[1]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.disabled=null==e[0]),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function qr(e){let t,n;return t=new Xt({props:{name:"Super Rich Mode",$$slots:{default:[Lr]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Ur(e,t,n){const r=[["Streak Bonus",2,1e4],["Money Per Question",3,5e3],["Streak Bonus",3,1e5],["Multiplier",3,15e4],["Streak Bonus",4,1e6],["Multiplier",4,1e6],["Money Per Question",5,5e6],["Streak Bonus",5,1e7],["Multiplier",5,6e6],["Money Per Question",6,375e5],["Multiplier",6,425e5],["Streak Bonus",6,1e8],["Streak Bonus",7,1e9],["Streak Bonus",8,1e10],["Multiplier",7,35e7],["Money Per Question",9,5e9],["Multiplier",8,325e7],["Streak Bonus",9,1e11],["Multiplier",9,325e8],["Streak Bonus",10,1e12],["Money Per Question",10,5e10],["Multiplier",10,5e11]];var o;!function(e){e.Insurance="insurance",e["Money Per Question"]="moneyPerQuestion",e.Multiplier="multiplier",e["Streak Bonus"]="streakBonus"}(o||(o={}));let i=null,s={},a=!1;function c(){if(!a)return;let e=r[0];var t,n;e&&(i>=e[2]&&(t=e[0],n=e[1],at.sendMessage("UPGRADE_PURCHASED",{upgradeName:t,level:n})))}return at.addEventListener("blueboatMessage",(e=>{if("UPGRADE_LEVELS"==e.detail.data?.type){s=e.detail.data.value;for(let e=0;e<r.length;e++){let t=r[e];s[o[t[0]]]>=t[1]&&(r.splice(e,1),e--)}}"BALANCE"==e.detail.data?.type&&(n(0,i=e.detail.data.value),c())})),[i,function(e){e.detail?(a=!0,c()):a=!1}]}class jr extends ye{constructor(e){super(),$e(this,e,Ur,qr,i,{})}}function Br(e){x(e,"svelte-1h3d0lh","div.svelte-1h3d0lh{padding-left:10px;padding-right:10px}")}function Hr(e){let t,n,r,o,i=(0==e[0].length?"Waiting...":e[0].join(", "))+"";return{c(){t=O("div"),n=O("p"),n.textContent="This script will only work if you don't join mid-game.",r=k("\r\n        Imposters: "),o=k(i),M(t,"class","svelte-1h3d0lh")},m(e,i){E(e,t,i),w(t,n),w(t,r),w(t,o)},p(e,t){1&t&&i!==(i=(0==e[0].length?"Waiting...":e[0].join(", "))+"")&&D(o,i)},d(e){e&&_(t)}}}function zr(e){let t,n;return t=new Xt({props:{name:"Trust No One",$$slots:{default:[Hr]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Vr(e,t,n){let r=[];return at.addEventListener("blueboatMessage",(e=>{if("IMPOSTER_MODE_PEOPLE"==e.detail.key){let t=e.detail.data.filter((e=>"imposter"==e.role));n(0,r=t.map((e=>e.name)))}})),[r]}class Fr extends ye{constructor(e){super(),$e(this,e,Vr,zr,i,{},Br)}}function Wr(e){let t,n,r,o=(e[1]??e[2][0]?.options?.amountOfRequiredItem)+"";return{c(){t=k("("),n=k(o),r=k(")")},m(e,o){E(e,t,o),E(e,n,o),E(e,r,o)},p(e,t){6&t&&o!==(o=(e[1]??e[2][0]?.options?.amountOfRequiredItem)+"")&&D(n,o)},d(e){e&&(_(t),_(n),_(r))}}}function Jr(e){let t,n,r,o,i=e[2].length>0&&(e[2][0]?.options?.amountOfRequiredItem||e[1])&&Wr(e);return{c(){t=k("Purchase "),n=k(e[0]),r=T(),i&&i.c(),o=C()},m(e,s){E(e,t,s),E(e,n,s),E(e,r,s),i&&i.m(e,s),E(e,o,s)},p(e,t){1&t&&D(n,e[0]),e[2].length>0&&(e[2][0]?.options?.amountOfRequiredItem||e[1])?i?i.p(e,t):(i=Wr(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&(_(t),_(n),_(r),_(o)),i&&i.d(e)}}}function Gr(e){let t,n;return t=new Vt({props:{disabled:!e[3]||0==e[2].length,disabledMsg:e[3]?"No matching purchase devices":"Devices haven't loaded yet",$$slots:{default:[Jr]},$$scope:{ctx:e}}}),t.$on("click",e[4]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};12&n&&(r.disabled=!e[3]||0==e[2].length),8&n&&(r.disabledMsg=e[3]?"No matching purchase devices":"Devices haven't loaded yet"),135&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Kr(e,t,n){let r;c(e,ft,(e=>n(3,r=e)));let{selector:o}=t,{displayText:i}=t,{reusable:s=!1}=t,{cost:a}=t,l=[];return ft.subscribe((e=>{if(!e)return;let t=He()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices;n(2,l=t.filter((e=>{let t=!0;for(let[n,r]of Object.entries(o))for(let[o,i]of Object.entries(r))if(i.endsWith?.("*")){if(i=i.slice(0,-1),!e?.[n]?.[o]?.startsWith(i)){t=!1;break}}else if("function"==typeof i){if(e?.[n]?.[o]!=i()){t=!1;break}}else if(e?.[n]?.[o]!=i){t=!1;break}return t}))),l.sort(((e,t)=>e?.options?.amountOfRequiredItem-t?.options?.amountOfRequiredItem))})),e.$$set=e=>{"selector"in e&&n(5,o=e.selector),"displayText"in e&&n(0,i=e.displayText),"reusable"in e&&n(6,s=e.reusable),"cost"in e&&n(1,a=e.cost)},[i,a,l,r,async function(){let e=He()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices;l[0]?.interactiveZones?.onInteraction?(l[0]?.interactiveZones?.onInteraction(),s||(await new Promise((e=>setTimeout(e,500))),l[0].state.active||(l.shift(),n(2,l)))):n(2,l=l.map((t=>e.find((e=>e.id==t.id)))))},o,s]}class Qr extends ye{constructor(e){super(),$e(this,e,Kr,Gr,i,{selector:5,displayText:0,reusable:6,cost:1})}}function Xr(t){let n,r,o,i,s,a,c,l,u,f,d,h;return n=new Qr({props:{displayText:"Speed Upgrade",selector:{options:{grantedItemName:"Speed Upgrade"}}}}),o=new Qr({props:{displayText:"Efficiency Upgrade",selector:{options:{grantedItemName:"Efficiency Upgrade"}}}}),s=new Qr({props:{displayText:"Energy Per Question Upgrade",selector:{options:{grantedItemName:"Energy Per Question Upgrade"}}}}),c=new Qr({props:{displayText:"Invisabits",reusable:!0,selector:{options:{grantedItemId:"silver-ore"}}}}),u=new Qr({props:{displayText:"Barrier",selector:{state:{active:!0},options:{grantedItemName:"Barrier*",allowedPurchaseTeam:t[0]}}}}),d=new Qr({props:{displayText:"Big Barrier",selector:{state:{active:!0},options:{grantedItemName:"Big Barrier*",allowedPurchaseTeam:t[1]}}}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment),a=T(),he(c.$$.fragment),l=T(),he(u.$$.fragment),f=T(),he(d.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),E(e,i,t),pe(s,e,t),E(e,a,t),pe(c,e,t),E(e,l,t),pe(u,e,t),E(e,f,t),pe(d,e,t),h=!0},p:e,i(e){h||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),le(c.$$.fragment,e),le(u.$$.fragment,e),le(d.$$.fragment,e),h=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),ue(c.$$.fragment,e),ue(u.$$.fragment,e),ue(d.$$.fragment,e),h=!1},d(e){e&&(_(r),_(i),_(a),_(l),_(f)),ge(n,e),ge(o,e),ge(s,e),ge(c,e),ge(u,e),ge(d,e)}}}function Yr(e){let t,n;return t=new Xt({props:{name:"Capture the Flag",$$slots:{default:[Xr]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Zr(e){return[()=>He()?.stores?.phaser?.mainCharacter?.teamId,()=>He()?.stores?.phaser?.mainCharacter?.teamId]}class eo extends ye{constructor(e){super(),$e(this,e,Zr,Yr,i,{})}}function to(t){let n,r,o,i,s,a,c,l;return n=new Qr({props:{displayText:"Speed Upgrade",selector:{options:{grantedItemName:"Speed Upgrade"}}}}),o=new Qr({props:{displayText:"Efficiency Upgrade",selector:{options:{grantedItemName:"Efficiency Upgrade"}}}}),s=new Qr({props:{displayText:"Energy Per Question Upgrade",selector:{options:{grantedItemName:"Energy Per Question Upgrade"}}}}),c=new Qr({props:{displayText:"Endurance Upgrade",selector:{options:{grantedItemName:"Endurance Upgrade"}}}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment),a=T(),he(c.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),E(e,i,t),pe(s,e,t),E(e,a,t),pe(c,e,t),l=!0},p:e,i(e){l||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),le(c.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),ue(c.$$.fragment,e),l=!1},d(e){e&&(_(r),_(i),_(a)),ge(n,e),ge(o,e),ge(s,e),ge(c,e)}}}function no(e){let t,n;return t=new Xt({props:{name:"Tag",$$slots:{default:[to]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class ro extends ye{constructor(e){super(),$e(this,e,null,no,i,{})}}function oo(t){let n,r,o,i;return n=new Qr({props:{displayText:"Med Pack",reusable:!0,selector:{options:{grantedItemId:"medpack"}}}}),o=new Qr({props:{displayText:"Shield Can",reusable:!0,selector:{options:{grantedItemId:"shield-can"}}}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),i=!0},p:e,i(e){i||(le(n.$$.fragment,e),le(o.$$.fragment,e),i=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),i=!1},d(e){e&&_(r),ge(n,e),ge(o,e)}}}function io(e){let t,n;return t=new Xt({props:{name:"One Way Out",$$slots:{default:[oo]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class so extends ye{constructor(e){super(),$e(this,e,null,io,i,{})}}function ao(e){let t,n,r;function o(t){e[4](t)}let i={onText:e[0]+": On",offText:e[0]+": Off",hotkeyId:e[1]};return void 0!==e[2]&&(i.enabled=e[2]),t=new hn({props:i}),G.push((()=>de(t,"enabled",o))),t.$on("click",e[3]),{c(){he(t.$$.fragment)},m(e,n){pe(t,e,n),r=!0},p(e,[r]){const o={};1&r&&(o.onText=e[0]+": On"),1&r&&(o.offText=e[0]+": Off"),2&r&&(o.hotkeyId=e[1]),!n&&4&r&&(n=!0,o.enabled=e[2],ee((()=>n=!1))),t.$set(o)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ge(t,e)}}}function co(e,t,n){let r,o=!1,{message:i}=t,{hotkeyId:s}=t;return e.$$set=e=>{"message"in e&&n(0,i=e.message),"hotkeyId"in e&&n(1,s=e.hotkeyId)},[i,s,o,function(){o?r=setInterval((()=>{let e=He().stores.phaser.scene.input.mousePointer,t=He().stores.phaser.mainCharacter.body;if(!e||!t||!e.isDown)return;let n=new(0,He().Phaser.Math.Vector2)(e.worldX-t.x,e.worldY-(t.y-3)).normalize(),r=He().Phaser.Math.Angle.Between(0,0,n.x,n.y);at.sendMessage("FIRE",{angle:r,x:t.x,y:t.y})}),50):clearInterval(r)},function(e){o=e,n(2,o)}]}class lo extends ye{constructor(e){super(),$e(this,e,co,ao,i,{message:0,hotkeyId:1})}}function uo(t){let n,r,o,i,s,a;return n=new Qr({props:{displayText:"Med Pack",reusable:!0,selector:{options:{grantedItemId:"medpack"}}}}),o=new Qr({props:{displayText:"Shield Can",reusable:!0,selector:{options:{grantedItemId:"shield-can"}}}}),s=new lo({props:{message:"Rapid fire",hotkeyId:"snowbrawlRapidFire"}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),E(e,i,t),pe(s,e,t),a=!0},p:e,i(e){a||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),a=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),a=!1},d(e){e&&(_(r),_(i)),ge(n,e),ge(o,e),ge(s,e)}}}function fo(e){let t,n;return t=new Xt({props:{name:"Snowbrawl",$$slots:{default:[uo]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class ho extends ye{constructor(e){super(),$e(this,e,null,fo,i,{})}}function po(e){let t,n,r;function o(t){e[2](t)}let i={offText:"Enable Auto Buy",onText:"Disable Auto Buy",hotkeyId:"floorIsLavaAutoBuy"};return void 0!==e[0]&&(i.enabled=e[0]),t=new hn({props:i}),G.push((()=>de(t,"enabled",o))),t.$on("click",e[1]),{c(){he(t.$$.fragment)},m(e,n){pe(t,e,n),r=!0},p(e,[r]){const o={};!n&&1&r&&(n=!0,o.enabled=e[0],ee((()=>n=!1))),t.$set(o)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ge(t,e)}}}function go(e,t,n){const r=[["spaceElevator",5e7],["mountain",5e6],["skyscaper",5e5],["shoppingMall",5e4],["house",5e3],["wall",500],["brick",50],["plank",5]];let o=null,i=!1,s=!1;function a(){if(!s&&i){s=!0,setTimeout((()=>{s=!1,a()}),150);for(let t of r)if(o>=t[1]){e=t[0],at.sendMessage("LAVA_PURCHASE_PIECE",{type:e});break}var e}}return at.addEventListener("blueboatMessage",(e=>{"BALANCE"==e.detail.data?.type&&(o=e.detail.data.value,i&&a())})),[i,function(e){n(0,i=e.detail),a()},function(e){i=e,n(0,i)}]}class mo extends ye{constructor(e){super(),$e(this,e,go,po,i,{})}}function $o(e){let t,n,r;function o(t){e[1](t)}let i={offText:"Hide Purchase Popups",onText:"Show Purchase Popups",hotkeyId:"floorIsLavaHidePopups"};return void 0!==e[0]&&(i.enabled=e[0]),t=new hn({props:i}),G.push((()=>de(t,"enabled",o))),t.$on("click",yo),{c(){he(t.$$.fragment)},m(e,n){pe(t,e,n),r=!0},p(e,[r]){const o={};!n&&1&r&&(n=!0,o.enabled=e[0],ee((()=>n=!1))),t.$set(o)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ge(t,e)}}}function yo(e){e.detail&&document.querySelectorAll(".Toastify__toast").forEach((e=>{e.style.display="none",e.querySelector(".Toastify__close-button")?.click()}))}function vo(e,t,n){let r=!1,o=new MutationObserver((e=>{if(r)for(let t of e)for(let e of t.addedNodes)e instanceof HTMLElement&&e.matches(".Toastify__toast")&&(e.style.display="none",e.querySelector(".Toastify__close-button")?.click())}));const i=()=>{o.observe(document.body,{childList:!0,subtree:!0})};return document.body?i():window.addEventListener("DOMContentLoaded",i),[r,function(e){r=e,n(0,r)}]}class bo extends ye{constructor(e){super(),$e(this,e,vo,$o,i,{})}}function wo(e){let t,n,r,o;return t=new mo({}),r=new bo({}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment)},m(e,i){pe(t,e,i),E(e,n,i),pe(r,e,i),o=!0},i(e){o||(le(t.$$.fragment,e),le(r.$$.fragment,e),o=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),o=!1},d(e){e&&_(n),ge(t,e),ge(r,e)}}}function xo(e){let t,n;return t=new Xt({props:{name:"The Floor is Lava",$$slots:{default:[wo]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class Eo extends ye{constructor(e){super(),$e(this,e,null,xo,i,{})}}function _o(e){let t,n;return t=new hn({props:{offText:"Start Auto Planting",onText:"Stop Auto Planting",disabled:!e[0],disabledMsg:"Farm plots not loaded",hotkeyId:"farmchainAutoPlant"}}),t.$on("click",e[1]),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=!e[0]),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Ao(e,t,n){let r;c(e,ft,(e=>n(0,r=e)));const o=["yellow-seed","tan-seed","brown-seed","purple-seed","magenta-seed","green-seed","bronze-seed","orange-seed","gold-seed","dark-green-seed","red-seed","blue-seed","teal-seed"];let i;return[r,function(e){if(e.detail){let e=He()?.stores?.phaser?.scene?.worldManager?.devices?.allDevices,t=e.filter((e=>"plant"==e.options.style)),n={};for(let t of e)o.includes(t.options?.ingredient1Item)&&(n[t.options?.ingredient1Item]=t);i=setInterval((()=>{let e,r=He()?.stores?.me?.inventory?.slots;if(!r)return;for(let t of o){let o=n[t],i=!0;for(let e=0;e<5;e++){let t=o?.options?.[`ingredient${e}Item`];if(t&&!r.get(t)?.amount>=o.options[`ingredient${e}Amount`]){i=!1;break}}if(i){e=t;break}}if(!e)return;let i=t.findLast((e=>"idle"==e.state.status));at.sendMessage("MESSAGE_FOR_DEVICE",{key:"craft",deviceId:i.id,data:{recipe:n[e].id}})}),100)}else clearInterval(i)}]}class Oo extends ye{constructor(e){super(),$e(this,e,Ao,_o,i,{})}}function Io(e){let t,n,r;function o(t){e[1](t)}let i={hotkeyId:"farmchainAutoHarvest",offText:"Start Auto Harvesting",onText:"Stop Auto Harvesting"};return void 0!==e[0]&&(i.enabled=e[0]),t=new hn({props:i}),G.push((()=>de(t,"enabled",o))),{c(){he(t.$$.fragment)},m(e,n){pe(t,e,n),r=!0},p(e,[r]){const o={};!n&&1&r&&(n=!0,o.enabled=e[0],ee((()=>n=!1))),t.$set(o)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),r=!1},d(e){ge(t,e)}}}function ko(e,t,n){let r=!1;return at.addEventListener("deviceChanges",(e=>{if(!r)return;let t=e.detail;for(let e of t)for(let t in e.data){if(!t.endsWith("status")||"availableForCollection"!=e.data[t])continue;let n={key:"collect",deviceId:e.id};at.sendMessage("MESSAGE_FOR_DEVICE",n)}})),[r,function(e){r=e,n(0,r)}]}class To extends ye{constructor(e){super(),$e(this,e,ko,Io,i,{})}}function Co(t){let n,r,o,i,s,a,c,l,u,f,d,h,p,g,m,$,y,v,b,w,x,A,O,I,k,C;return n=new Qr({props:{displayText:"Corn Seed",reusable:!0,selector:{options:{grantedItemId:"yellow-seed"}}}}),o=new Qr({props:{displayText:"Wheat Seed",reusable:!0,selector:{options:{grantedItemId:"tan-seed"}}}}),s=new Qr({props:{displayText:"Potato Seed",reusable:!0,selector:{options:{grantedItemId:"brown-seed"}}}}),c=new Qr({props:{displayText:"Grape Seed",reusable:!0,selector:{options:{grantedItemId:"purple-seed"}}}}),u=new Qr({props:{displayText:"Raspberry Seed",reusable:!0,selector:{options:{grantedItemId:"magenta-seed"}}}}),d=new Qr({props:{displayText:"Watermelon Seed",reusable:!0,selector:{options:{grantedItemId:"green-seed"}}}}),p=new Qr({props:{displayText:"Coffee Bean Seed",reusable:!0,selector:{options:{grantedItemId:"bronze-seed"}}}}),m=new Qr({props:{displayText:"Orange Seed",reusable:!0,selector:{options:{grantedItemId:"orange-seed"}}}}),y=new Qr({props:{displayText:"Gimberry Seed",reusable:!0,selector:{options:{grantedItemId:"gold-seed"}}}}),b=new Qr({props:{displayText:"Cash Berry Seed",reusable:!0,selector:{options:{grantedItemId:"dark-green-seed"}}}}),x=new Qr({props:{displayText:"Pepper Seed",reusable:!0,selector:{options:{grantedItemId:"red-seed"}}}}),O=new Qr({props:{displayText:"Energy Bar Seed",reusable:!0,selector:{options:{grantedItemId:"blue-seed"}}}}),k=new Qr({props:{displayText:"Lottery Ticket Seed",reusable:!0,selector:{options:{grantedItemId:"teal-seed"}}}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment),a=T(),he(c.$$.fragment),l=T(),he(u.$$.fragment),f=T(),he(d.$$.fragment),h=T(),he(p.$$.fragment),g=T(),he(m.$$.fragment),$=T(),he(y.$$.fragment),v=T(),he(b.$$.fragment),w=T(),he(x.$$.fragment),A=T(),he(O.$$.fragment),I=T(),he(k.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),E(e,i,t),pe(s,e,t),E(e,a,t),pe(c,e,t),E(e,l,t),pe(u,e,t),E(e,f,t),pe(d,e,t),E(e,h,t),pe(p,e,t),E(e,g,t),pe(m,e,t),E(e,$,t),pe(y,e,t),E(e,v,t),pe(b,e,t),E(e,w,t),pe(x,e,t),E(e,A,t),pe(O,e,t),E(e,I,t),pe(k,e,t),C=!0},p:e,i(e){C||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),le(c.$$.fragment,e),le(u.$$.fragment,e),le(d.$$.fragment,e),le(p.$$.fragment,e),le(m.$$.fragment,e),le(y.$$.fragment,e),le(b.$$.fragment,e),le(x.$$.fragment,e),le(O.$$.fragment,e),le(k.$$.fragment,e),C=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),ue(c.$$.fragment,e),ue(u.$$.fragment,e),ue(d.$$.fragment,e),ue(p.$$.fragment,e),ue(m.$$.fragment,e),ue(y.$$.fragment,e),ue(b.$$.fragment,e),ue(x.$$.fragment,e),ue(O.$$.fragment,e),ue(k.$$.fragment,e),C=!1},d(e){e&&(_(r),_(i),_(a),_(l),_(f),_(h),_(g),_($),_(v),_(w),_(A),_(I)),ge(n,e),ge(o,e),ge(s,e),ge(c,e),ge(u,e),ge(d,e),ge(p,e),ge(m,e),ge(y,e),ge(b,e),ge(x,e),ge(O,e),ge(k,e)}}}function Ro(t){let n,r,o,i,s,a,c,l,u,f,d,h,p,g,m,$;return n=new Qr({props:{displayText:"Unlock Wheat Seed",selector:{options:{grantedItemName:"Wheat Seed Unlock"}}}}),o=new Qr({props:{displayText:"Unlock Potato Seed",selector:{options:{grantedItemName:"Potato Seed Unlock"}}}}),s=new Qr({props:{displayText:"Unlock Grape Seed",selector:{options:{grantedItemName:"Grape Seed Unlock"}}}}),c=new Qr({props:{displayText:"Unlock Raspberry Seed",selector:{options:{grantedItemName:"Raspberry Seed Unlock"}}}}),u=new Qr({props:{displayText:"Unlock Watermelon Seed",selector:{options:{grantedItemName:"Watermelon Seed Unlock"}}}}),d=new Qr({props:{displayText:"Unlock Coffee Bean Seed",selector:{options:{grantedItemName:"Coffee Bean Seed Unlock"}}}}),p=new Qr({props:{displayText:"Unlock Orange Seed",selector:{options:{grantedItemName:"Orange Seed Unlock"}}}}),m=new Qr({props:{displayText:"Unlock Gimberry Seed",selector:{options:{grantedItemName:"Gimberry Seed Unlock"}}}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment),a=T(),he(c.$$.fragment),l=T(),he(u.$$.fragment),f=T(),he(d.$$.fragment),h=T(),he(p.$$.fragment),g=T(),he(m.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),E(e,i,t),pe(s,e,t),E(e,a,t),pe(c,e,t),E(e,l,t),pe(u,e,t),E(e,f,t),pe(d,e,t),E(e,h,t),pe(p,e,t),E(e,g,t),pe(m,e,t),$=!0},p:e,i(e){$||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),le(c.$$.fragment,e),le(u.$$.fragment,e),le(d.$$.fragment,e),le(p.$$.fragment,e),le(m.$$.fragment,e),$=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),ue(c.$$.fragment,e),ue(u.$$.fragment,e),ue(d.$$.fragment,e),ue(p.$$.fragment,e),ue(m.$$.fragment,e),$=!1},d(e){e&&(_(r),_(i),_(a),_(l),_(f),_(h),_(g)),ge(n,e),ge(o,e),ge(s,e),ge(c,e),ge(u,e),ge(d,e),ge(p,e),ge(m,e)}}}function So(e){let t,n,r,o,i,s,a,c;return t=new To({}),r=new Oo({}),i=new Xt({props:{name:"Purchase Seeds",$$slots:{default:[Co]},$$scope:{ctx:e}}}),a=new Xt({props:{name:"Unlock Seeds",$$slots:{default:[Ro]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment),o=T(),he(i.$$.fragment),s=T(),he(a.$$.fragment)},m(e,l){pe(t,e,l),E(e,n,l),pe(r,e,l),E(e,o,l),pe(i,e,l),E(e,s,l),pe(a,e,l),c=!0},p(e,t){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r)},i(e){c||(le(t.$$.fragment,e),le(r.$$.fragment,e),le(i.$$.fragment,e),le(a.$$.fragment,e),c=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(i.$$.fragment,e),ue(a.$$.fragment,e),c=!1},d(e){e&&(_(n),_(o),_(s)),ge(t,e),ge(r,e),ge(i,e),ge(a,e)}}}function Po(e){let t,n;return t=new Xt({props:{name:"Farmchain",$$slots:{default:[So]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class Mo extends ye{constructor(e){super(),$e(this,e,null,Po,i,{})}}let No=Ae(null);function Do(e){let t,n,r,o,i,s,a,c,l,u,f,d;function h(t){e[11](t)}let p={title:"Speedup Amount",min:1,max:e[6],step:.005};function g(t){e[12](t)}void 0!==e[0]&&(p.value=e[0]),t=new vr({props:p}),G.push((()=>de(t,"value",h))),t.$on("input",e[8]);let m={disabled:!e[5],onText:"Speedup: On",offText:"Speedup: Off",hotkeyId:"speedup"};function $(t){e[14](t)}void 0!==e[1]&&(m.enabled=e[1]),o=new hn({props:m}),G.push((()=>de(o,"enabled",g))),o.$on("click",e[13]);let y={title:"Jump Boost Amount",min:1,max:e[6],step:.005};function v(t){e[15](t)}void 0!==e[3]&&(y.value=e[3]),a=new vr({props:y}),G.push((()=>de(a,"value",$))),a.$on("input",e[10]);let b={disabled:!e[4],onText:"Jump Boost: On",offText:"Jump Boost: Off",hotkeyId:"jumpboost"};return void 0!==e[2]&&(b.enabled=e[2]),u=new hn({props:b}),G.push((()=>de(u,"enabled",v))),u.$on("click",e[16]),{c(){he(t.$$.fragment),r=T(),he(o.$$.fragment),s=T(),he(a.$$.fragment),l=T(),he(u.$$.fragment)},m(e,n){pe(t,e,n),E(e,r,n),pe(o,e,n),E(e,s,n),pe(a,e,n),E(e,l,n),pe(u,e,n),d=!0},p(e,r){const s={};!n&&1&r&&(n=!0,s.value=e[0],ee((()=>n=!1))),t.$set(s);const l={};32&r&&(l.disabled=!e[5]),!i&&2&r&&(i=!0,l.enabled=e[1],ee((()=>i=!1))),o.$set(l);const d={};!c&&8&r&&(c=!0,d.value=e[3],ee((()=>c=!1))),a.$set(d);const h={};16&r&&(h.disabled=!e[4]),!f&&4&r&&(f=!0,h.enabled=e[2],ee((()=>f=!1))),u.$set(h)},i(e){d||(le(t.$$.fragment,e),le(o.$$.fragment,e),le(a.$$.fragment,e),le(u.$$.fragment,e),d=!0)},o(e){ue(t.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),ue(u.$$.fragment,e),d=!1},d(e){e&&(_(r),_(s),_(l)),ge(t,e),ge(o,e),ge(a,e),ge(u,e)}}}function Lo(e){let t,n;return t=new Xt({props:{name:"Movement",$$slots:{default:[Do]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};2097215&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function qo(e,t,n){let r,o;c(e,No,(e=>n(4,r=e))),c(e,lt,(e=>n(5,o=e)));let i,s=1,a=-1,l=!1;function u(e){if(!He()?.stores?.me)return;if("platformer"==He().stores.session.mapStyle)if(e){let e=a*s;i=e,p(No,r.platformerGroundSpeed=e,r)}else p(No,r.platformerGroundSpeed=a,r);else if(e){let e=a*s;i=e,He().stores.me.movementSpeed=e}else He().stores.me.movementSpeed=a}setInterval((function(){if(!He()?.stores?.me)return;let e=He().stores.session.mapStyle;if(!e)return;if("platformer"==e){let e=r.platformerGroundSpeed;e!==i&&(a=e,l&&u(!0))}else{let e=He().stores.me.movementSpeed;e!==i&&(a=e,l&&u(!0))}}),500);let f=!1,d=1,h=-1;function g(e){if(-1==h&&(h=r.jump.height),e){let e=h*d;p(No,r.jump.height=e,r)}else p(No,r.jump.height=h,r)}return[s,l,f,d,r,o,490/357,u,function(e){if(n(0,s=e.detail),!He()?.stores?.me||!l)return;let t=He().stores.session.mapStyle;if(!t)return;let o=a*e.detail;i=o,"platformer"==t?p(No,r.platformerGroundSpeed=o,r):He().stores.me.movementSpeed=o},g,function(e){if(n(3,d=e.detail),!f||!r)return;-1==h&&(h=r.jump.height);let t=h*e.detail;p(No,r.jump.height=t,r)},function(e){s=e,n(0,s)},function(e){l=e,n(1,l)},e=>u(e.detail),function(e){d=e,n(3,d)},function(e){f=e,n(2,f)},e=>g(e.detail)]}class Uo extends ye{constructor(e){super(),$e(this,e,qo,Lo,i,{})}}function jo(e){x(e,"svelte-1a7yjpn",".notLoaded.svelte-1a7yjpn{width:100%;text-align:center}")}function Bo(e,t,n){const r=e.slice();return r[9]=t[n],r}function Ho(e,t,n){const r=e.slice();return r[9]=t[n],r}function zo(e){let t,n,r=fe(e[0]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Wo(Ho(e,r,t));const i=e=>ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=C()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);E(e,t,r),n=!0},p(e,n){if(9&n){let s;for(r=fe(e[0]),s=0;s<r.length;s+=1){const i=Ho(e,r,s);o[s]?(o[s].p(i,n),le(o[s],1)):(o[s]=Wo(i),o[s].c(),le(o[s],1),o[s].m(t.parentNode,t))}for(ae(),s=r.length;s<o.length;s+=1)i(s);ce()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)le(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ue(o[e]);n=!1},d(e){e&&_(t),A(o,e)}}}function Vo(e){let t,n,r,o;return r=new Vt({props:{$$slots:{default:[Jo]},$$scope:{ctx:e}}}),r.$on("click",e[2]),{c(){t=O("div"),t.textContent="Permits haven't loaded in yet",n=T(),he(r.$$.fragment),M(t,"class","notLoaded svelte-1a7yjpn")},m(e,i){E(e,t,i),E(e,n,i),pe(r,e,i),o=!0},p(e,t){const n={};16384&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(le(r.$$.fragment,e),o=!0)},o(e){ue(r.$$.fragment,e),o=!1},d(e){e&&(_(t),_(n)),ge(r,e)}}}function Fo(e){let t,n,r=e[9].options.text+"";return{c(){t=k(r),n=T()},m(e,r){E(e,t,r),E(e,n,r)},p(e,n){1&n&&r!==(r=e[9].options.text+"")&&D(t,r)},d(e){e&&(_(t),_(n))}}}function Wo(e){let t,n;return t=new Vt({props:{$$slots:{default:[Fo]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[5](e[9])})),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(n,r){e=n;const o={};16385&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Jo(e){let t;return{c(){t=k("Retry")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function Go(e){let t,n,r,o;const i=[Vo,zo],s=[];function a(e,t){return 0==e[0].length?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=C()},m(e,n){s[t].m(e,n),E(e,r,n),o=!0},p(e,o){let c=t;t=a(e),t===c?s[t].p(e,o):(ae(),ue(s[c],1,1,(()=>{s[c]=null})),ce(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),le(n,1),n.m(r.parentNode,r))},i(e){o||(le(n),o=!0)},o(e){ue(n),o=!1},d(e){e&&_(r),s[t].d(e)}}}function Ko(e){let t,n,r=fe(e[1]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Yo(Bo(e,r,t));const i=e=>ue(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=C()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);E(e,t,r),n=!0},p(e,n){if(18&n){let s;for(r=fe(e[1]),s=0;s<r.length;s+=1){const i=Bo(e,r,s);o[s]?(o[s].p(i,n),le(o[s],1)):(o[s]=Yo(i),o[s].c(),le(o[s],1),o[s].m(t.parentNode,t))}for(ae(),s=r.length;s<o.length;s+=1)i(s);ce()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)le(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ue(o[e]);n=!1},d(e){e&&_(t),A(o,e)}}}function Qo(e){let t,n,r,o;return r=new Vt({props:{$$slots:{default:[Zo]},$$scope:{ctx:e}}}),r.$on("click",e[2]),{c(){t=O("div"),t.textContent="Pickaxes haven't loaded in yet",n=T(),he(r.$$.fragment),M(t,"class","notLoaded svelte-1a7yjpn")},m(e,i){E(e,t,i),E(e,n,i),pe(r,e,i),o=!0},p(e,t){const n={};16384&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(le(r.$$.fragment,e),o=!0)},o(e){ue(r.$$.fragment,e),o=!1},d(e){e&&(_(t),_(n)),ge(r,e)}}}function Xo(e){let t,n,r=e[9].options.text+"";return{c(){t=k(r),n=T()},m(e,r){E(e,t,r),E(e,n,r)},p(e,n){2&n&&r!==(r=e[9].options.text+"")&&D(t,r)},d(e){e&&(_(t),_(n))}}}function Yo(e){let t,n;return t=new Vt({props:{$$slots:{default:[Xo]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[6](e[9])})),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(n,r){e=n;const o={};16386&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Zo(e){let t;return{c(){t=k("Retry")},m(e,n){E(e,t,n)},d(e){e&&_(t)}}}function ei(e){let t,n,r,o;const i=[Qo,Ko],s=[];function a(e,t){return 0==e[1].length?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=C()},m(e,n){s[t].m(e,n),E(e,r,n),o=!0},p(e,o){let c=t;t=a(e),t===c?s[t].p(e,o):(ae(),ue(s[c],1,1,(()=>{s[c]=null})),ce(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),le(n,1),n.m(r.parentNode,r))},i(e){o||(le(n),o=!0)},o(e){ue(n),o=!1},d(e){e&&_(r),s[t].d(e)}}}function ti(e){let t,n,r,o;return t=new Xt({props:{name:"Permits",$$slots:{default:[Go]},$$scope:{ctx:e}}}),r=new Xt({props:{name:"Pickaxes",$$slots:{default:[ei]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment)},m(e,i){pe(t,e,i),E(e,n,i),pe(r,e,i),o=!0},p(e,[n]){const o={};16385&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};16386&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(le(t.$$.fragment,e),le(r.$$.fragment,e),o=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),o=!1},d(e){e&&_(n),ge(t,e),ge(r,e)}}}function ni(e,t,n){let r=[],o=null,i=[],s=null;const a=()=>{let e=He().stores.phaser.scene.worldManager.devices.allDevices;n(0,r=e.filter((e=>"permit upgrade"===e.options.group))),o=r.find((e=>e.options.message)),n(0,r=r.filter((e=>e!==o))),n(1,i=e.filter((e=>"pickaxe upgrade"===e.options.group))),s=i.find((e=>e.options.message)),n(1,i=i.filter((e=>e!==s)))};function c(e){at.sendMessage("MESSAGE_FOR_DEVICE",{key:"action",deviceId:o.id,data:{action:e.id}})}function l(e){at.sendMessage("MESSAGE_FOR_DEVICE",{key:"action",deviceId:s.id,data:{action:e.id}})}ft.subscribe((e=>{e&&a()}));return[r,i,a,c,l,e=>c(e),e=>l(e)]}class ri extends ye{constructor(e){super(),$e(this,e,ni,ti,i,{},jo)}}function oi(t){let n,r,o,i;return n=new lo({props:{message:"Speedmine",hotkeyId:"speedMine"}}),o=new ri({}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),i=!0},p:e,i(e){i||(le(n.$$.fragment,e),le(o.$$.fragment,e),i=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),i=!1},d(e){e&&_(r),ge(n,e),ge(o,e)}}}function ii(e){let t,n;return t=new Xt({props:{name:"Dig it Up",$$slots:{default:[oi]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class si extends ye{constructor(e){super(),$e(this,e,null,ii,i,{})}}function ai(t){let n,r;return n=new lo({props:{message:"Rapid fire",hotkeyId:"knockbackRapidFire"}}),{c(){he(n.$$.fragment)},m(e,t){pe(n,e,t),r=!0},p:e,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){ge(n,e)}}}function ci(e){let t,n;return t=new Xt({props:{name:"Knockback",$$slots:{default:[ai]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment)},m(e,r){pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}class li extends ye{constructor(e){super(),$e(this,e,null,ci,i,{})}}function ui(e){x(e,"svelte-1byew0x","#gc-hud.svelte-1byew0x{position:absolute;top:0;left:0;z-index:9999999999;width:100vw;height:100vh;pointer-events:none;color:var(--textColor)}")}function fi(t){let n,r,o,i,s,a,c,l;return n=new nn({props:{text:"Background Color",bindValue:"menuBackgroundColor"}}),o=new nn({props:{text:"Outline Color",bindValue:"menuOutlineColor"}}),s=new nn({props:{text:"Header Color",bindValue:"menuHeaderBackgroundColor"}}),c=new nn({props:{text:"Header Text Color",bindValue:"menuHeaderTextColor"}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment),a=T(),he(c.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),E(e,i,t),pe(s,e,t),E(e,a,t),pe(c,e,t),l=!0},p:e,i(e){l||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),le(c.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),ue(c.$$.fragment,e),l=!1},d(e){e&&(_(r),_(i),_(a)),ge(n,e),ge(o,e),ge(s,e),ge(c,e)}}}function di(t){let n,r,o,i;return n=new nn({props:{text:"Background Color",bindValue:"buttonBackgroundColor"}}),o=new nn({props:{text:"Outline Color",bindValue:"buttonBorderColor"}}),{c(){he(n.$$.fragment),r=T(),he(o.$$.fragment)},m(e,t){pe(n,e,t),E(e,r,t),pe(o,e,t),i=!0},p:e,i(e){i||(le(n.$$.fragment,e),le(o.$$.fragment,e),i=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),i=!1},d(e){e&&_(r),ge(n,e),ge(o,e)}}}function hi(e){let t,n,r,o,i,s;return t=new nn({props:{text:"Text Color",bindValue:"textColor",minOpactiy:.3}}),r=new Xt({props:{name:"Menu Appearance",$$slots:{default:[fi]},$$scope:{ctx:e}}}),i=new Xt({props:{name:"Button Appearance",$$slots:{default:[di]},$$scope:{ctx:e}}}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment),o=T(),he(i.$$.fragment)},m(e,a){pe(t,e,a),E(e,n,a),pe(r,e,a),E(e,o,a),pe(i,e,a),s=!0},p(e,t){const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){s||(le(t.$$.fragment,e),le(r.$$.fragment,e),le(i.$$.fragment,e),s=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(i.$$.fragment,e),s=!1},d(e){e&&(_(n),_(o)),ge(t,e),ge(r,e),ge(i,e)}}}function pi(e){let t,n,r,o,i,s,a,c;return t=new Xt({props:{name:"HUD Appearance",$$slots:{default:[hi]},$$scope:{ctx:e}}}),r=new an({}),i=new Pn({}),a=new lr({}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment),o=T(),he(i.$$.fragment),s=T(),he(a.$$.fragment)},m(e,l){pe(t,e,l),E(e,n,l),pe(r,e,l),E(e,o,l),pe(i,e,l),E(e,s,l),pe(a,e,l),c=!0},p(e,n){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){c||(le(t.$$.fragment,e),le(r.$$.fragment,e),le(i.$$.fragment,e),le(a.$$.fragment,e),c=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(i.$$.fragment,e),ue(a.$$.fragment,e),c=!1},d(e){e&&(_(n),_(o),_(s)),ge(t,e),ge(r,e),ge(i,e),ge(a,e)}}}function gi(e){let t,n,r,o,i,s,a,c,l,u,f,d;return t=new mn({}),r=new vn({}),i=new Uo({}),a=new gr({}),l=new Tr({}),f=new Sr({}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment),o=T(),he(i.$$.fragment),s=T(),he(a.$$.fragment),c=T(),he(l.$$.fragment),u=T(),he(f.$$.fragment)},m(e,h){pe(t,e,h),E(e,n,h),pe(r,e,h),E(e,o,h),pe(i,e,h),E(e,s,h),pe(a,e,h),E(e,c,h),pe(l,e,h),E(e,u,h),pe(f,e,h),d=!0},i(e){d||(le(t.$$.fragment,e),le(r.$$.fragment,e),le(i.$$.fragment,e),le(a.$$.fragment,e),le(l.$$.fragment,e),le(f.$$.fragment,e),d=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(i.$$.fragment,e),ue(a.$$.fragment,e),ue(l.$$.fragment,e),ue(f.$$.fragment,e),d=!1},d(e){e&&(_(n),_(o),_(s),_(c),_(u)),ge(t,e),ge(r,e),ge(i,e),ge(a,e),ge(l,e),ge(f,e)}}}function mi(e){let t,n,r,o,i,s,a,c,l,u,f,d,h,p,g,m,$,y,v,b,w,x;return t=new Dr({}),r=new jr({}),i=new si({}),a=new li({}),l=new eo({}),f=new ro({}),h=new so({}),g=new ho({}),$=new Eo({}),v=new Fr({}),w=new Mo({}),{c(){he(t.$$.fragment),n=T(),he(r.$$.fragment),o=T(),he(i.$$.fragment),s=T(),he(a.$$.fragment),c=T(),he(l.$$.fragment),u=T(),he(f.$$.fragment),d=T(),he(h.$$.fragment),p=T(),he(g.$$.fragment),m=T(),he($.$$.fragment),y=T(),he(v.$$.fragment),b=T(),he(w.$$.fragment)},m(e,_){pe(t,e,_),E(e,n,_),pe(r,e,_),E(e,o,_),pe(i,e,_),E(e,s,_),pe(a,e,_),E(e,c,_),pe(l,e,_),E(e,u,_),pe(f,e,_),E(e,d,_),pe(h,e,_),E(e,p,_),pe(g,e,_),E(e,m,_),pe($,e,_),E(e,y,_),pe(v,e,_),E(e,b,_),pe(w,e,_),x=!0},i(e){x||(le(t.$$.fragment,e),le(r.$$.fragment,e),le(i.$$.fragment,e),le(a.$$.fragment,e),le(l.$$.fragment,e),le(f.$$.fragment,e),le(h.$$.fragment,e),le(g.$$.fragment,e),le($.$$.fragment,e),le(v.$$.fragment,e),le(w.$$.fragment,e),x=!0)},o(e){ue(t.$$.fragment,e),ue(r.$$.fragment,e),ue(i.$$.fragment,e),ue(a.$$.fragment,e),ue(l.$$.fragment,e),ue(f.$$.fragment,e),ue(h.$$.fragment,e),ue(g.$$.fragment,e),ue($.$$.fragment,e),ue(v.$$.fragment,e),ue(w.$$.fragment,e),x=!1},d(e){e&&(_(n),_(o),_(s),_(c),_(u),_(d),_(p),_(m),_(y),_(b)),ge(t,e),ge(r,e),ge(i,e),ge(a,e),ge(l,e),ge(f,e),ge(h,e),ge(g,e),ge($,e),ge(v,e),ge(w,e)}}}function $i(e){let t,n,r,o,i,s,a;return n=new mt({props:{name:"Customization",$$slots:{default:[pi]},$$scope:{ctx:e}}}),o=new mt({props:{name:"General Cheats",$$slots:{default:[gi]},$$scope:{ctx:e}}}),s=new mt({props:{name:"Gamemode Specific Cheats",$$slots:{default:[mi]},$$scope:{ctx:e}}}),{c(){t=O("div"),he(n.$$.fragment),r=T(),he(o.$$.fragment),i=T(),he(s.$$.fragment),M(t,"id","gc-hud"),q(t,"display",e[0]?"block":"none"),M(t,"class","svelte-1byew0x")},m(e,c){E(e,t,c),pe(n,t,null),w(t,r),pe(o,t,null),w(t,i),pe(s,t,null),a=!0},p(e,[r]){const i={};2&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i);const c={};2&r&&(c.$$scope={dirty:r,ctx:e}),o.$set(c);const l={};2&r&&(l.$$scope={dirty:r,ctx:e}),s.$set(l),(!a||1&r)&&q(t,"display",e[0]?"block":"none")},i(e){a||(le(n.$$.fragment,e),le(o.$$.fragment,e),le(s.$$.fragment,e),a=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(s.$$.fragment,e),a=!1},d(e){e&&_(t),ge(n),ge(o),ge(s)}}}function yi(e,t,n){let r;return c(e,ct,(e=>n(0,r=e))),xt.addKeybind(new Set(["\\"]),(()=>{ct.update((e=>!e))})),[r]}class vi extends ye{constructor(e){super(),$e(this,e,yi,$i,i,{},ui)}}function bi(e){console.log(e),fetch(e).then((e=>e.text())).then((e=>{const t=e.indexOf(':"App.');if(!t)return void alert("GC: Failed to find the correct script to modify. Please open an issue on GitHub.");const n=e.substring(t-7,t),r=e.lastIndexOf(").register(JSON.parse(",t),o=e.substring(r-7,r),i=new RegExp(`import\\("\\.\\/"\\+(.)\\(${o}\\)\\.resolve\\(${n}\\)\\)`,"g"),s=i.exec(e)?.[1];if(!s)return void alert("GC: Failed to find the correct script to modify. Please open an issue on GitHub.");e=(e=e.replace(i,`new Promise(async (resolve) => {\n    const src = "./"+${s}(${o}).resolve(${n})\n    console.log(src)\n    const res = await fetch(src)\n    let text = await res.text()\n    const endRegex = /assignment:new\\(0,(.)\\.default\\)\\}/\n    const endRes = endRegex.exec(text)\n    const varRegex = /(.)={network:new/\n    const varRes = varRegex.exec(text)\n    if(!endRes[1] || !varRes[1]) {\n        alert("GC: Failed to find the correct script to modify. Please open an issue on GitHub.")\n        return;\n    }\n    text = text.replace(endRegex, 'assignment:new(0,'+endRes[1]+'.default)};window.stores='+varRes[1]+';window.storesLoaded.set(true);console.log("GC: Stores loaded via intercept");')\n\n    const script = document.createElement('script');\n    try {\n        script.appendChild(document.createTextNode(text));\n        document.head.appendChild(script);\n    } catch(e) { \n        script.text = text;\n        document.head.appendChild(script);\n    }\n    setTimeout(resolve, 0)\n})`)).replace(/"\.\/"/g,'"/"');const a=document.createElement("script");a.type="module",document.querySelector("#root")?.remove();let c=document.createElement("div");c.id="root",document.body.appendChild(c);try{a.appendChild(document.createTextNode(e)),document.head.appendChild(a)}catch(t){a.text=e,document.head.appendChild(a)}}))}class wi extends EventTarget{_parcelModuleCache={};_parcelModules={};reqIntercepts=[];readyToIntercept=!0;constructor(){super();let e=document.querySelectorAll('script[src*="index"]:not([nomodule])');e.length>0?(this.readyToIntercept=!1,"complete"===document.readyState?(this.setup(),this.reloadExistingScripts(e)):window.addEventListener("load",(()=>{this.setup(),this.reloadExistingScripts(e)}))):this.setup(),He().decachedImport=this.decachedImport.bind(this)}async reloadExistingScripts(e){this.nukeDom(),this.readyToIntercept=!0,this.emptyModules(),e.forEach((e=>{console.log(e,"has already loaded, re-importing..."),this.decachedImport(e.src),e.remove()}))}nukeDom(){document.querySelector("#root")?.remove();let e=document.createElement("div");e.id="root",document.body.appendChild(e);let t=["__mobxGlobals","__mobxInstanceCount"];for(let e of t)e in window&&delete window[e]}async decachedImport(e){let t=new URL(e,location.origin).href,n=await fetch(t),r=await n.text();r=r.replaceAll("import(","window.decachedImport("),r=r.replaceAll("import.meta.url",`'${t}'`);let o=new Blob([r],{type:"application/javascript"}),i=URL.createObjectURL(o);return import(i)}emptyModules(){this._parcelModuleCache={},this._parcelModules={}}interceptRequire(e,t,n=!1){if(!e||!t)throw new Error("match and callback are required");let r={match:e,callback:t,once:n};return this.reqIntercepts.push(r),()=>{let e=this.reqIntercepts.indexOf(r);-1!==e&&this.reqIntercepts.splice(e,1)}}setup(){let e;(e=e=>{if(e in this._parcelModuleCache)return this._parcelModuleCache[e].exports;if(e in this._parcelModules){let t=this._parcelModules[e];delete this._parcelModules[e];let n={id:e,exports:{}};if(this._parcelModuleCache[e]=n,t.call(n.exports,n,n.exports),this.readyToIntercept)for(let e of this.reqIntercepts)if(e.match(n.exports)){let t=e.callback?.(n.exports);t&&(n.exports=t),e.once&&this.reqIntercepts.splice(this.reqIntercepts.indexOf(e),1)}return n.exports}throw new Error(`Cannot find module '${e}'`)}).register=(e,t)=>{this._parcelModules[e]=t,e in this._parcelModuleCache&&delete this._parcelModuleCache[e]},Object.defineProperty(He(),"parcelRequire388b",{value:e,writable:!1,enumerable:!0,configurable:!1})}}if(null!==document.querySelector('script[src*="amplitude.com"]'))alert("This script can only be run before you join the game. Please reload the page and try again.");else{!function(e){e.interceptRequire((e=>e?.default?.characters),(e=>{He().stores=e.default,lt.set(!0),console.log("GC: Stores loaded via parcel")})),e.interceptRequire((e=>e?.CharacterPhysicsConsts),(e=>{No.set(e.CharacterPhysicsConsts),console.log("GC: Physics constants loaded")}))}(new wi),function(){const e=document.querySelector('script[src^="/index"][type="module"]');if(e)return bi(e.src),void console.log("GC: Added modified script",e);let t=new MutationObserver((e=>{for(let n of e)for(let e of n.addedNodes)e instanceof HTMLScriptElement&&e.src.includes("/index")&&"module"==e.type&&(bi(e.src),console.log("GC: Added modified script",e),t.disconnect())}));const n=()=>{t.observe(document.head,{childList:!0})};document.head?n():document.addEventListener("DOMContentLoaded",n)}(),at.setup(),async function(){document.body||await new Promise((e=>window.addEventListener("DOMContentLoaded",e))),new vi({target:document.body}),async function(){document.documentElement||await new Promise((e=>window.addEventListener("DOMContentLoaded",e)));for(let[e,t]of Object.entries(Ne))document.documentElement.style.setProperty(`--${e}`,t)}()}()}}();
    } else if (host.includes('i-ready.com')) {
        function _0x143e($,x){let _=_0x88d8();return(_0x143e=function($,x){return _[$-=202]})($,x)}function _0x272269($,x,_,e,f){return _0x143e(e-555,_)}!function($,x){function _($,x,_,e,f){return _0x143e(x-922,f)}function e($,x,_,e,f){return _0x143e(x-496,e)}function f($,x,_,e,f){return _0x143e(x-189,_)}function c($,x,_,e,f){return _0x143e(x-382,_)}let n=$();function t($,x,_,e,f){return _0x143e(x- -25,_)}for(;;)try{let b=-parseInt(t(795,867,617,1090,750))/1*(-parseInt(c(1273,1096,1451,1113,1441))/2)+parseInt(c(1133,781,816,1134,1161))/3+-parseInt(c(789,676,724,323,533))/4+parseInt(_(1495,1398,1612,1648,1299))/5+parseInt(f(1278,989,1136,1392,1309))/6+-parseInt(e(844,1245,1001,953,1339))/7*(-parseInt(_(1802,1424,1801,1112,1022))/8)+-parseInt(_(1310,1290,1121,1347,1069))/9;if(687673===b)break;n.push(n.shift())}catch(d){n.push(n.shift())}}(_0x88d8,687673);const nullcheck=document[_0x902730(1044,917,957,1325,1041)+_0x902730(984,1469,1225,923,1067)+_0x902730(1721,1921,1296,1228,1547)](_0x272269(1890,1802,1282,1557,1254));function _0xfdf033($,x,_,e,f){return _0x143e($- -555,_)}function _0x88d8(){let $=["UrQie","-seri","Qtgfc","TtgEO","tch('","ter;\n","block","KlRTR","MBTJg","  bac","none;","sedow","ay: b","Iljcz","ntChi","e) {}","xfqSm","ng...","DRVNg","to__","OwYML","; lef","tive ","ofgui"," padd","butto","dth: ","KsARc","bind","s://f","urMSQ","rif;\n","stene","FWrla","/butt","OLOfH","cOBWi","JHPtN",'">\n  ',"fDesL",";\n  -","ppchu","asoBk","nPrjL","\n}\n.c","dITWc","nd-co","sson<","Z_$]["," disp","4774lMUVnD","ont-f","css2?","fhKyX","esson","MjGuT",")).th","xEfBx","ahQKf","eapis","hover","50,50","/Null","semov","nCYqA","(((.+","HKObG","yKbmu","raw.g","jciHo","wzFyJ","on:ac","eady.","XsLZq","ZvBMa","ctor(","OegVv","aYDQa","()).t","utton","dFoZQ","creat","nclic","code"," styl","623avpphO","t.com","wnptd","PSyhf","or: w","DzVCu","VqNSb","sitio","s;\n  ","GYmuA","137px","ille&","y/mai","rgb(3",'ss="c','on">T',"pen.",'id="G','r))" ',"nt-fa","MRaKU","kVNDo","yle>\n","rgin-","nktzP",'999;"',"n-hei","inner"," oncl","br>\n<","/stud","ction","ShjVA","lu/Nu","GbxbF","ing: ","/main","KqFXO","LPnJD","eElem","ent-d","LKTLL","bpNNI",";\n  t","://cd","a-zA-","-inde","; col","qeEOx","ccnPg","tpwXC","7425708kgWkfE","ExAgy"," => e","<img ","onten","XqrTt","js').","PofQt","BeDwK","nZvpp","lHWXJ","nsOAN"," (tru","    \n","lgEjC","OrEIG","der: ","lFieC","none"," auto",'))" \n',"KGiXA",": 0.4","funct","UjFnE","hIMvw","com/i","pacit","com/n","hpGSi","PPXQI",'ap");',"QKvxj","ercon","eleas","BTJQZ","nxocF","swdpk","udina","ion:a","LSytI","NxYuv","iBjDT","GcNbS","KVzPE","curso","XkaVk","dfByn",'n">Sk',"ullif","CqxiL","init","bmHeP",'"butt',"bkTjI","oKBTu","TzLDU","m/not","type","EtcwX","uUtkw","   \n ","pBkFP","<cent","icon_","ton>\n","displ","UbGqx"," tran","nppcs","tle {","RhOLJ","f; wi","tent.","Sztfo",'" cla',"tTop","WWqjG","c_sca","loadi","CGYzM"," => r",">\n   ","PjAaZ"," sans","pvkGw","fSler","LGvlZ","first","FEpwZ","\n\n.ti","-32px","140WWGEOh","r.tex","style","html5","text","nctio","SFLhu","0-9a-","<div ","webki","ady o","tion:","ks/sk"," {\n  ","er-ra","JMmiH","lass=","unk.j","SipUV","t-tra","BVAbP","ZJuDN",";\n   ","wBBrD","farm.","NXrId",'s", s',"ById","pmwHY","ing l","googl","XQFRz","backg","onmou",'tle">',"7px; ","n/Dat","on-du","TrmiV","KmPqd","BpTJW","ay=sw","table","RYBgR","WLbAj","rDJvR","hyhXn","cUHDP","ILlVp"," plac","dmNbC","dChil","Min F","eLUXC","bgfyh"," <br>","pfpOV","ezEyS","kgrou","hubus",'e="mi',"h('ht","Objec","VOUMZ","bsolu","qVPux","tLeft","bSwfk","hcalk","FPsyb","size:","UdYNQ","VAOse","GfSCz","Nulli","chain","ault","YGbsW","ip.js"," <div","eTvuA","left:","180px","  bor",".butt","mYWlS","JClqq","ks/ti","t()).","ter>\n","argin","VOpIu","Ifram","ysBrp","m/dod","Daomh","oppin","ONapR","rn th","HaMMo","qMlBs","fetch","MJVPO","y/ima","while","conte","retur","count","ify b","NMGnS","GUI","GivKr","UeaXx","ndBuK","    <","vhErC","ithub","e-ite","addEv","llify"," open","r => ","ZlvJX","qkrEJ","then","SDsKQ","JnAsM","amily","Avzjl","/notp","khkXh","text-",'ick="',"=> r.","SrZPJ","PFlEI","chunk","JhNBg","font-","qGuvR",";\n  m","lock;","Eleme","wzaKl","eCmjY","grid;","pNztZ","lute;","bQayS","CxwIW","gb(30","ashbo","pins&","aPnzH","ic/js","VeidX","XLOZo","CahOJ","Pleas","n: 0.","riwmI","tton:","PmNdi","/stat","zRWQr","y=Lib","dcboP","nt.co","NQsJy"," alre","cCGmX","isc/m","__pro","OIpHj","GuBFf","OYGSh"," bord","on>\n ","debu","azoAy","XDNdY","    c","mHKMA","-colo","; bac","fxuYE"," <but","aihOx","excep","gMHsI",");\n}\n","posit","le,w_","KqZUY","{\n  o","ructo","xtQGi","CPIvV","ABEgt","preve","nlzQp","xBmeP","wbTzq","FrqgO","call","text(","e-13.","n() ","PqLnG","https","entLi","kCVfD",'y: "P',"xnTSD",'s="ti',"/Data",'ton">',".js","fqFfJ","toStr","; hei","850456IcYnVa","ger; ","zA-Z_","s').t","n>\n  ","ans-s","erif;","onts.","TYHbD","; tra","event","val(r","state","nsfor","124px","rWPqv","vmuHU","heade","mily:","30);\n","GSmlh","uENtx","class","-size","CzkiX"," clas","s/min","mniyM","SWWUt","TtnMa","5; fo","Error","('htt","DvGLW","  <br","\\( *\\","lddjK","/h1>\n","mport","GaKDg","://ra","nsiti","w.git","githu","4.x/2","<br>\n","}\n.bu","strin","offse","r: rg","cgSnt","log","/app-","src","EgqIs","vuaPE",'"GUI"',"armer","21.ch","ratio","://re","YwaHz","scrip","5px;\n","align","lign:","inter","andkh","67107","ZVSzj","ms: c","pvvxd","hvBGc","ajqnl","25067745apkCRD","otplu","amzVY","xxmCJ","nd: r","ge/up","famil","appen","ing","1889/","ext-a","BxICc","bsXRs","white","skerv","astNS",": 0.8","rZUjq","RNKDs","); op","zzTRS","ry.co","VriXJ","</cen",'ass="',"/raw.","').th","OiMJk","RUspv","top: ",": 16p","1387341YCXtUn","wyeKn","LuQJm","plu/N","proto","load/","ntDef","vvFZw","{\n  f","gvYtd","lengt","f6pwn","div","tps:/","getEl","ns-se","QfBmA","MRGpr",'UI" c',"hite;","HyMhS","e>\n@i","fpezD",'s="im',"FwreI","xcevU","isc</","hen(r","<styl","ain/D","$]*)","HReSA","24/v1"," posi","\n</st","gsFAf","reVfs","xxHqN","eval(","n-dur","ement","FSeMs","rOukr"," Null","qwfYC","ZiJFE","tton ","dius:","ohsLW","metaK","CgUrm","userc","HGnhr","lWseX","KeWuR","then(","iJyUC","%;\n  ","\n  co",": lar","SxUTs","trace","JVmqG","lick=","dKRWl","bTwRb","n onc","ton o","qExXL","zMvJp","to;\n}","isc.j","mer.j","\n  ma","okHFJ","vuqvW","nstru","4564570vKUtmO","GfLeC","error","bbUWX","AcwMR","\\+\\+ ","info","0,30,",".com/","en(r ","{}.co","104px","iXRrp","hojgj",'"retu',"imer<","JwBNJ",'src="',"\n    ","width","re+Ba","jNGjr","y=Pop","yVEgd","acity","lor: ","66376WrppLy","tion","QPosR","round","FWxHx",'="but',"sWCjc","teX(0","TaDBc","te; z"," 30);","terva","Tdwbb","itqnP","PGhUM","   <b","4s;\n ","   cl","b(50,","/div>","*(?:[","nZeiI","XUjOh","tfrCi","t: au","YVNXE","y: 0;","wyFTV","keydo","t: 57","IXWUE","e run","Jzekk","left","er;\n ","-righ","wJIbg","ata/a",'age">',"vMUZK","hLsQl","lay: ","feqAL","er>Nu","m: tr","peOrn","top","ERBNe",'is")(',"zfJji","n (fu","ght: ",')" \n '," 20px","efore","ify/m","buser","ekcNA","s. Re","ps://",'on">M',"gudCy","warn","conso","ansla","x;\n  ","ateY(",", 30,","ion *","NfpuC","DYWaH","  <h1","/heck","BgboV","BWUuX","bSIkz","r: po","XExXF","KKRcU","=> ev","j.png","input","zNvuv",": cen","const","SwlSq","uPyBc","eQCif","body",': "Po',"cHQhY","p-21.","pXPzi","</but","KRumJ",".text","gpCiK","Nzdnw","px) t","ard/r","LwsuY","x: 99","searc","r>\n  ","QOSXZ","aQwbn",'"http',"gger","setIn","iXOpJ"," 5px;","KeyH"," abso","actio","ip Le"," url(","HTML","AkcMp","DtuBy",")+)+)","xVuVM","ation","WUbaB","FZNKs",": 100","ata/m","apply","vzgrQ"," cent","n.i-r","reloa","kFCmq","al(r)","test","BtPEr","s.clo","LyUHq","enter","yKioc","nk/ap",'k="fe'," font","seup","qiccy","gFMNA","wWLZJ","ransl","a/hec","clien","VheAJ","xuUNN","nLvwI","sSkNc","jOhvt","fy is","ppins","koapN","PUrWT","SpEbl","ent",'", sa','"fetc'];return(_0x88d8=function(){return $})()}function _0x458fc1($,x,_,e,f){return _0x143e($-900,x)}if(null==nullcheck){if(togglemin=1,toggletime=1,reload=1,void 0===window[_0x272269(1614,1490,1331,1450,1636)+_0x2cb2e1(-138,-152,-176,43,-13)+"e"]||null===window[_0x272269(1669,1189,1095,1450,1183)+_0x272269(1713,1477,1855,1539,1887)+"e"]){function dragElement($){let x={qGuvR:d(1781,1371,1384,1004,1632),PqLnG:function($,x){return $!==x},SDsKQ:f(1841,1468,1773,1594,1899),nCYqA:function($,x){return $===x},hpGSi:f(2120,1773,1893,1745,1602),ONapR:a(-11,89,497,86,400),CGYzM:d(1473,1567,1532,1772,1691),yKbmu:a(-373,-56,309,45,137),ZvBMa:function($,x){return $(x)},WLbAj:function($,x){return $+x},nktzP:function($,x){return $+x},CxwIW:s(1901,1389,1255,1480,1653)+a(-527,-142,-383,-251,-537)+s(1931,1894,1288,1450,1552)+n(-252,-325,-548,80,-445),rOukr:s(926,1541,1172,879,1141)+n(-57,-423,338,293,-314)+f(1515,2007,1641,1917,1535)+a(16,-204,-313,-108,-71)+a(91,296,448,-54,544)+d(918,1199,1264,869,1576)+" )",lFieC:s(1339,1326,1474,1948,1601),ekcNA:f(1312,1664,1643,1545,1368),dFoZQ:s(909,1163,1012,1215,1280),iJyUC:s(1445,1486,1530,1522,1384)+n(89,137,286,-35,-57)+"+$",hvBGc:function($,x){return $-x},SWWUt:function($,x){return $===x},koapN:f(768,1425,1123,1413,1139),pmwHY:function($,x){return $!==x},aQwbn:n(-299,-446,-606,-51,-514),QOSXZ:f(1508,1205,1178,1471,1371),GfSCz:function($,x){return $!==x},GfLeC:n(48,273,440,124,413),ysBrp:a(-104,-123,-346,-372,-54),NXrId:d(1554,1552,1537,1362,1730)+s(1280,1454,1069,1130,1225)+n(-203,-165,-476,-491,-133)+")",AkcMp:a(133,-213,-407,-612,-450)+s(919,1436,1536,1430,1177)+s(1803,1267,1734,1336,1449)+n(180,529,1,-198,23)+d(1209,1830,1613,1786,1614)+d(633,1393,1010,1237,669)+f(1429,1068,1331,1127,957),gsFAf:d(1875,1961,1565,1451,1304),KsARc:function($,x){return $+x},XsLZq:a(111,273,165,-83,42),PmNdi:a(21,-111,-499,33,-150),Iljcz:function($,x){return $(x)},ZVSzj:function($){return $()},fpezD:a(-234,-346,-93,23,55),GuBFf:function($,x){return $+x},hcalk:function($,x){return $+x},LuQJm:function($){return $()},BWUuX:s(1331,936,1237,758,1144),bSIkz:function($,x){return $(x)},dKRWl:function($,x){return $+x},xtQGi:s(1369,1629,1554,1061,1376),ShjVA:d(1240,1118,1436,1756,1480),aihOx:f(1208,1118,1246,876,1572),GaKDg:function($){return $()},eLUXC:function($,x){return $+x},azoAy:f(1050,1354,1153,931,1216),qiccy:f(1664,1813,1511,1737,1123),pvvxd:d(1355,803,1020,611,720)+s(2019,1348,1860,1279,1609)+"t",GSmlh:function($,x){return $===x},iBjDT:s(1176,1112,1484,944,1078),qMlBs:d(1086,1169,1447,1559,1851),xnTSD:function($,x,_){return $(x,_)},UjFnE:function($,x){return $===x},UdYNQ:n(-88,-299,125,87,-384),wJIbg:n(-302,-572,-286,-123,-239),GcNbS:function($,x){return $===x},SrZPJ:n(375,99,671,61,724),FPsyb:function($,x){return $(x)},lddjK:d(1314,1353,945,908,1297)+s(1595,972,1176,854,1188)+d(1059,1090,1156,894,1535)+d(2120,1815,1714,1506,1598)+n(24,-324,292,431,-348)+s(1622,1680,1496,1509,1667)+a(253,227,635,381,-41)+d(1561,1341,1432,1537,1815)+s(903,1414,1280,1243,1215)+n(347,171,290,683,366)+a(369,-13,12,10,-234),FEpwZ:d(677,1258,998,1243,864),hLsQl:s(1099,793,795,1402,1040),ZJuDN:n(101,72,181,234,-117),xcevU:function($,x){return $(x)},WUbaB:function($){return $()},YVNXE:function($,x){return $!==x},Avzjl:s(1311,1030,938,1446,1128),DvGLW:f(1623,1488,1549,1952,1863),Jzekk:function($,x){return $===x},XkaVk:d(1380,1530,1469,1427,1697),qExXL:d(1325,1340,1521,1194,1902),QPosR:s(1398,1421,916,1068,1104),wyFTV:function($,x){return $!==x},VeidX:n(-161,-23,103,-521,-349),vhErC:n(-187,143,-381,107,202),jNGjr:a(66,-130,-14,-343,-201),amzVY:s(1312,987,1020,1120,1137),ERBNe:f(1767,1513,1380,1058,1775),astNS:a(-446,-433,-744,-225,-366)+s(1069,1428,934,1324,1158),HGnhr:a(194,240,445,412,211),nZeiI:a(-98,-234,-116,174,-539),nsOAN:function($,x){return $<x},BVAbP:function($,x){return $!==x},qkrEJ:a(-62,93,-195,142,-16),KlRTR:s(1630,990,1188,1304,1335),gFMNA:function($,x){return $===x},OegVv:a(-532,-247,-347,-394,146),ABEgt:s(1895,1970,1391,1974,1610),wzaKl:f(1193,1050,1282,1278,882),HyMhS:function($,x){return $-x},xxHqN:function($,x){return $+x},KqZUY:function($,x){return $+x},pNztZ:function($,x){return $===x},gvYtd:d(873,1339,1129,889,1065),eQCif:f(1290,1342,1211,1541,1517),DzVCu:function($,x,_){return $(x,_)},TtnMa:function($,x,_){return $(x,_)},JwBNJ:a(-361,-383,-199,-289,-634)+"r",EtcwX:function($,x){return $+x}},_=function(){function $($,x,_,e,c){return f($-59,x-45,_- -703,e-284,$)}function _($,x,_,e,f){return d($-0,x-174,$- -1603,_,f-41)}function e($,x,_,e,f){return n($- -183,x-487,_-206,e-382,e)}function c($,x,_,e,f){return n($- -13,x-51,_-20,e-461,x)}function t($,x,_,e,f){return a($-227,e-535,_-379,e-359,f)}if(x[_(-667,-900,-775,-500,-322)],x[_(-448,-168,-140,-793,-486)],x[_(-161,141,-468,234,-88)](x[c(272,379,362,220,559)],x[$(1417,1015,1016,944,1369)])){let b=!0;return function(_,f){function n(x,_,e,f,c){return $(e,_-184,_-208,f-260,c-372)}function d($,x,_,e,f){return t($-474,x-141,_-367,_-44,e)}function a($,x,_,f,c){return e(f-358,x-97,_-226,_,c-85)}let r={qeEOx:x[a(-17,112,69,-145,-182)],bmHeP:function($,_){function e($,x,_,e,f){return a($-410,x-63,x,_- -94,f-291)}return x[e(-26,-453,-170,-557,123)]($,_)},zRWQr:x[u(778,944,1073,991,661)],RYBgR:function($,_){function e($,x,_,e,f){return a($-126,x-89,x,$- -399,f-323)}return x[e(-28,-128,-18,-91,55)]($,_)},KRumJ:x[u(590,869,215,750,566)],yVEgd:x[u(750,787,609,904,1127)],qwfYC:x[a(630,497,658,523,256)]};function u($,x,_,e,f){return t($-371,x-105,_-373,$- -80,f)}function i($,x,_,e,f){return c(x-457,$,_-292,e-19,f-51)}if(x[n(1543,1135,911,1399,753)](x[i(595,643,290,328,553)],x[d(1016,502,616,599,773)])){let o=b?function(){function $($,x,_,e,f){return i(x,$- -910,_-128,e-330,f-132)}function x($,x,_,e,f){return a($-319,x-304,_,f- -547,f-231)}function e($,x,_,e,f){return u(e-829,x-229,_-409,e-365,$)}function c($,x,_,e,f){return i(e,f-612,_-362,e-250,f-76)}function n($,x,_,e,f){return i(_,$-128,_-127,e-71,f-489)}if(r[e(1089,1076,1401,1442,1808)](r[e(478,712,446,827,1102)],r[c(1060,361,542,453,761)])){let t=_0xd61030?function(){function $($,x,_,e,f){return c($-355,x-124,_-287,e,x- -339)}if(_0x4b476b){let x=_0x27ec01[$(792,813,950,1168,509)](_0x22f87d,arguments);return _0x5a0c28=null,x}}:function(){};return _0xbed54b=!1,t}if(f){if(r[n(975,586,575,1320,1381)](r[n(636,741,961,331,772)],r[n(539,872,225,310,310)]))_0x3ecaea[e(1520,1799,1626,1484,1431)][$(-132,252,-303,-421,-275)+"ay"]=r[$(-201,-508,-569,-306,-562)];else{let b=f[e(1269,1069,957,1218,1288)](_,arguments);return f=null,b}}}:function(){};return b=!1,o}_0x37d12f[n(1283,1301,1013,1286,1573)][i(821,778,1051,871,786)+"ay"]=r[a(107,-172,-82,86,204)]}}_0x4e0bdc=CFOSqy[e(-445,-523,-129,-613,-192)](_0x597f36,CFOSqy[c(393,556,55,385,284)](CFOSqy[$(987,827,673,495,958)](CFOSqy[$(672,699,705,456,441)],CFOSqy[t(312,375,593,439,734)]),");"))()}(),e=x[d(1602,1456,1468,1331,1157)](_,this,function(){function $($,x,_,e,f){return a($-309,$-1394,_-72,e-402,f)}function _($,x,_,e,f){return a($-49,e-232,_-143,e-31,_)}function f($,x,_,e,f){return d($-297,x-42,$- -620,_,f-254)}function c($,x,_,e,f){return d($-390,x-390,e- -1066,$,f-429)}function t($,x,_,e,f){return n($- -136,x-383,_-332,e-58,f)}return!x[t(-387,-450,-345,-288,-710)](x[t(-109,-111,48,-188,81)],x[t(76,-309,88,-90,-82)])||e[_(134,-57,-473,-170,-506)+_(-408,-411,112,-86,-306)]()[_(492,341,532,142,204)+"h"](x[t(-213,-434,-497,122,153)])[c(-61,246,-299,-60,167)+$(1076,747,1193,1360,1191)]()[t(-82,316,-403,7,-131)+$(968,723,1105,816,942)+"r"](e)[c(-13,264,246,252,648)+"h"](x[f(549,437,829,855,942)])});function f($,x,_,e,f){return _0x902730(f,x-12,_-272,e-358,_-274)}x[s(1237,1109,1425,1258,1279)](e);let c=function(){function $($,x,_,e,f){return n(_-576,x-258,_-401,e-268,f)}function _($,x,_,e,f){return a($-307,x-1535,_-68,e-311,e)}function e($,x,_,e,f){return n(_-79,x-233,_-453,e-290,f)}function c($,x,_,e,c){return f($-137,x-309,e- -46,e-257,c)}function t($,x,_,e,f){return d($-360,x-179,$- -85,x,f-204)}if(x[$(1072,555,961,994,1017)],x[$(364,499,663,493,734)],x[c(901,1482,1461,1290,896)],x[e(182,-96,284,515,321)],x[t(864,722,989,1085,904)],x[$(790,447,772,599,463)](x[_(1333,1262,1243,1223,919)],x[c(1059,1275,1584,1277,1303)])){let b=!0;return function($,f){function n($,x,e,f,c){return _($-375,e- -541,e-226,f,c-147)}function t($,x,_,e,f){return c($-478,x-452,_-38,_- -1283,x)}function d($,x,_,e,f){return c($-448,x-473,_-140,e- -303,$)}let a={HKObG:function($,_){function e($,x,_,e,f){return _0x143e(_-688,f)}return x[e(1346,1264,1054,1307,684)]($,_)},vvFZw:function($,_){function e($,x,_,e,f){return _0x143e($-221,x)}return x[e(994,951,1268,730,1220)]($,_)},cOBWi:function($,_){function e($,x,_,e,f){return _0x143e($-952,_)}return x[e(1274,1578,1579,1560,1598)]($,_)},rDJvR:x[r(-5,-360,-294,-268,-214)],pXPzi:function($,_){function e($,x,_,e,f){return r($-155,x,_-25,e-442,e-1344)}return x[e(1763,1196,1795,1392,1412)]($,_)},vmuHU:x[r(-307,143,-109,-418,-265)],khkXh:x[r(-667,30,52,-585,-266)]};function r($,x,_,f,c){return e($-364,x-233,c- -419,f-41,x)}function u($,x,_,e,f){return c($-86,x-56,_-241,$- -1460,_)}if(x[d(1558,1651,1570,1518,1146)](x[r(-394,-423,-744,-237,-395)],x[d(1891,1328,1334,1538,1144)])){let i=b?function(){function x($,x,_,e,f){return u($-823,x-479,x,e-103,f-98)}let _={iXOpJ:function($,x){function _($,x,_,e,f){return _0x143e($- -230,f)}return a[_(500,748,317,811,98)]($,x)},JClqq:function($,x){function _($,x,_,e,f){return _0x143e(e-626,f)}return a[_(1174,622,1089,1032,1319)]($,x)}};function e($,x,_,e,f){return t($-332,e,_- -533,e-472,f-186)}function c($,x,_,e,f){return r($-279,_,_-208,e-254,f-412)}function b($,x,_,e,f){return u(f-242,x-450,x,e-107,f-495)}function d($,x,_,e,f){return n($-240,x-151,$- -291,e,f-111)}if(a[x(919,1180,811,933,1031)](a[x(1156,946,886,1433,1289)],a[x(1156,1440,1313,813,1039)])){if(f){if(a[x(813,961,733,1101,1139)](a[c(-315,-6,-555,-334,-150)],a[d(212,207,-124,203,115)])){let i=f[c(338,115,155,3,168)]($,arguments);return f=null,i}(_0x148e31=_0x3e60d4||_0x233610[e(-704,-403,-656,-462,-580)])[x(491,518,271,510,261)+d(414,205,113,565,368)+e(160,217,8,79,356)](),_0x27a9d4=_[x(830,817,831,1201,935)](_0x3242aa,_0x1fb13c[e(-595,-281,-310,42,-427)+"tX"]),_0xe27e32=_[b(1,536,491,142,249)](_0x5c2cd2,_0x275afb[c(-167,208,-23,532,190)+"tY"]),_0x4435cf=_0x405529[c(314,19,319,41,190)+"tX"],_0x553023=_0x4f1bcd[e(-200,-386,-310,-332,-535)+"tY"],_0x25e40f[d(903,1279,1263,1099,1040)][c(160,173,247,-103,88)]=_[b(633,515,431,441,616)](_[e(-183,-609,-349,-718,-198)](_0x632522[d(351,589,189,682,286)+b(775,272,887,844,514)],_0x18c44d),"px"),_0x37873f[b(268,172,238,653,532)][c(461,-250,-245,-319,75)]=_[d(987,1261,1264,1257,589)](_[c(8,402,439,324,151)](_0x4168e7[b(258,-43,27,-197,-20)+e(-240,-347,-2,-290,-102)],_0x54d31b),"px")}}else{let o=_0x25f08d[b(608,243,478,-9,266)](_0x9ed1e5,arguments);return _0x28c761=null,o}}:function(){};return b=!1,i}{let o=new _0x26db8a(LAsLMz[d(1101,1691,1745,1403,1200)]),l=new _0xe8208f(LAsLMz[n(607,1110,730,952,941)],"i"),s=LAsLMz[t(464,526,578,179,811)](_0x3f3c47,LAsLMz[d(974,383,445,782,528)]);o[u(31,283,195,-271,308)](LAsLMz[n(1212,1219,1223,1071,1012)](s,LAsLMz[u(-208,0,118,-473,194)]))&&l[r(-317,95,-60,116,-237)](LAsLMz[r(112,-84,-339,-284,51)](s,LAsLMz[n(677,636,649,968,617)]))?LAsLMz[r(-198,86,-188,181,-47)](_0x1c1f1e):LAsLMz[t(-360,-183,-106,-212,-245)](s,"0")}}}{let r=_0x327c08[t(1215,966,1003,1004,1151)+t(897,1141,1038,747,1284)+"r"][$(122,45,447,510,480)+c(1396,1408,1758,1714,2023)][_(1285,1533,1652,1922,1760)](_0x25ff6d),u=_0x45bdb4[_0x18fc84],i=_0x2ab231[u]||r;r[c(1344,1040,889,1101,1280)+t(1312,1121,1656,1138,1087)]=_0x50e2b4[e(382,388,239,484,416)](_0xa9e914),r[e(94,-388,-161,-334,220)+_(1064,1217,912,1487,1312)]=i[_(797,1133,1251,983,1085)+e(-311,-464,-77,-154,184)][e(67,-53,239,248,51)](i),_0x1b18e3[u]=r}}();function n($,x,_,e,f){return _0x272269($-34,x-207,f,$- -1087,f-367)}!function(){function $($,x,_,e,c){return f($-212,x-134,_- -556,e-494,e)}function _($,x,_,e,f){return n(f-649,x-87,_-291,e-471,$)}function e($,x,_,e,c){return f($-87,x-286,e- -1145,e-57,$)}function t($,x,_,e,f){return s($-314,x-181,$,e-81,e- -75)}function b($,x,_,e,f){return d($-407,x-122,_-10,$,f-17)}x[t(716,957,901,832,932)],x[t(945,1593,1282,1225,1304)],x[t(793,1279,1053,945,745)],x[t(788,1023,601,894,1180)](x[b(1858,1231,1566,1776,1879)],x[t(1955,1773,1619,1572,1944)])?_0x4ccd98[b(1397,663,1016,951,1421)+_(363,114,402,181,493)]()[b(1155,1507,1328,1244,1661)+"h"](HALnky[b(1225,883,1179,846,1526)])[_(92,214,32,417,409)+_(103,871,163,361,493)]()[e(334,-23,498,343,512)+b(993,748,992,1113,1185)+"r"](_0x58a849)[t(1434,1336,1412,1184,867)+"h"](HALnky[_(870,209,734,549,572)]):x[_(692,573,174,774,403)](c,this,function(){function $($,x,_,e,f){return t(e,x-74,_-24,_- -527,f-290)}function f($,x,e,f,c){return _(f,x-430,e-483,f-70,e- -34)}function c($,x,e,f,c){return _(e,x-245,e-226,f-155,$-863)}function n($,x,_,f,c){return e(f,x-372,_-463,$- -379,c-155)}function b($,x,_,e,f){return t(_,x-1,_-61,e- -216,f-161)}if(x[$(12,469,275,190,283)],x[$(260,605,494,94,490)],x[$(900,761,1018,901,1089)](x[c(1556,1159,1735,1614,1282)],x[$(277,344,629,877,365)]))_0x5631ed=_0x26c29b;else{let d=RegExp(x[n(295,-58,656,500,33)]),a=RegExp(x[n(-3,-114,-284,358,-329)],"i"),r=x[n(-45,166,85,-342,-370)](_0x424b29,x[c(1414,1432,1049,1617,1151)]);if(d[n(13,220,219,327,-66)](x[f(788,497,546,168,852)](r,x[b(936,827,803,1101,977)]))&&a[c(1615,1516,1438,1579,1888)](x[c(1940,1847,2182,2177,2315)](r,x[f(545,185,318,-87,360)])))x[n(-300,-473,-250,-385,-245)](x[$(1208,871,834,711,1016)],x[n(-362,-348,-457,-262,-675)])?(function(){return!1})[$(300,554,639,750,1042)+b(846,775,326,632,454)+"r"](IsxHwl[c(1370,1758,973,1745,1378)](IsxHwl[n(147,-139,124,-87,138)],IsxHwl[f(422,1037,780,1032,740)]))[n(6,273,-155,-295,-367)](IsxHwl[f(1390,1280,1077,712,1470)]):x[f(157,737,416,666,598)](_0x424b29);else if(x[b(848,690,342,645,1029)](x[n(-353,-76,-626,-529,-708)],x[f(488,265,352,448,297)])){let u=oWvMcO[$(-23,656,328,736,-56)](_0x1d8a2e,oWvMcO[b(804,967,881,1205,891)](oWvMcO[n(-379,-605,-381,-328,-344)](oWvMcO[b(1142,821,541,879,1040)],oWvMcO[n(240,348,-118,630,462)]),");"));_0x3b3959=oWvMcO[$(411,27,308,364,199)](u)}else x[$(825,1009,730,364,474)](r,"0")}})()}();let t=function(){function $($,x,_,e,f){return a($-230,f-665,_-481,e-205,$)}function _($,x,_,e,c){return f($-144,x-103,x- -599,e-4,$)}let e={xuUNN:function($,_){function e($,x,_,e,f){return _0x143e(x- -648,e)}return x[e(257,176,423,288,101)]($,_)},swdpk:x[c(1557,1738,1531,1532,2017)],XDNdY:x[b(1605,1731,1537,1294,1860)],Nzdnw:function($,_){function e($,x,_,e,f){return b($-63,$,x- -500,e-231,f-314)}return x[e(1668,1342,1426,1501,1464)]($,_)},DtuBy:x[$(296,517,107,365,178)],PGhUM:function($,_){function e($,x,_,e,f){return c($-46,$- -1134,x,e-218,f-331)}return x[e(602,862,545,273,269)]($,_)},vzgrQ:x[c(1075,1105,1410,1153,1417)],sSkNc:function($,_){function e($,x,_,e,f){return c($-279,x- -614,f,e-374,f-145)}return x[e(990,985,805,786,734)]($,_)},WWqjG:x[c(1357,1664,1990,1958,1957)]};function c($,x,_,e,c){return f($-447,x-319,x- -127,e-190,_)}function t($,x,_,e,f){return n(_-1130,x-340,_-351,e-389,x)}function b($,x,_,e,f){return n(_-1531,x-72,_-292,e-247,x)}if(x[$(665,1122,403,501,795)](x[b(1866,1248,1541,1724,1276)],x[t(1807,1533,1511,1378,1838)]))return!1;{let d=!0;return function(x,_){function f($,x,_,e,f){return b($-374,e,x- -1863,e-469,f-446)}function n(x,_,e,f,c){return $(f,_-448,e-485,f-443,e-870)}function a($,x,_,e,f){return c($-359,e- -514,f,e-373,f-133)}function r($,x,_,e,f){return t($-396,$,f- -1525,e-106,f-383)}function u($,x,_,e,f){return c($-305,$- -1043,x,e-0,f-303)}let i={LwsuY:function($,x){function _($,x,_,e,f){return _0x143e(x- -612,e)}return e[_(-67,-96,110,43,-218)]($,x)},Qtgfc:e[n(1761,1756,1470,1089,1668)]};if(e[r(-401,-327,-37,-427,-273)](e[n(1780,2075,1718,1785,1777)],e[a(753,1212,1375,1138,1408)])){let o=d?function(){function $($,x,_,e,f){return n($-9,x-270,_- -20,e,f-296)}function f($,x,_,e,f){return n($-209,x-86,e-12,f,f-32)}function c($,x,_,e,f){return n($-11,x-443,e- -895,$,f-308)}function t($,x,_,e,f){return n($-407,x-255,f- -1169,_,f-497)}function b($,x,_,e,f){return a($-39,x-31,_-46,x-431,e)}if(e[f(1207,1393,1101,1505,1418)](e[c(418,664,563,783,820)],e[f(1464,1250,1450,1106,1077)])){let d=_0x1b6583?function(){function $($,x,_,e,f){return c(f,x-86,_-362,x-707,f-368)}if(_0xd15e50){let x=_0x490dd8[$(1542,1281,1241,1423,1588)](_0x19868b,arguments);return _0xc0f486=null,x}}:function(){};return _0x34e63c=!1,d}if(_){if(e[c(297,953,929,545,673)](e[c(218,618,557,566,687)],e[t(271,261,572,114,292)])){let r=_[c(701,720,189,574,221)](x,arguments);return _=null,r}i[$(1299,1684,1423,1262,1163)](_0x25c893,i[$(1555,1585,1487,1602,1305)]),_0x26d91f[f(1171,1351,1142,1485,1831)+"d"]()}}:function(){};return d=!1,o}if(_0x105baa){let l=_0x387276[u(360,606,240,293,463)](_0x10de18,arguments);return _0x1a3c5c=null,l}}}}(),b=x[n(-209,-69,-407,-415,-391)](t,this,function(){function $($,x,_,e,f){return a($-20,x-140,_-385,e-370,e)}function _($,x,_,e,f){return s($-446,x-348,$,e-113,f- -140)}function e($,x,_,e,f){return d($-268,x-114,x- -548,$,f-30)}function c($,x,_,e,c){return f($-181,x-356,e- -1353,e-112,_)}function n($,x,_,e,f){return a($-123,e-1687,_-280,e-277,_)}if(x[$(-46,-25,-55,300,178)](x[e(637,394,82,330,452)],x[e(612,394,365,235,567)]))MtdYNi[$(716,385,65,293,694)](_0x29da45,0);else{let b=function(){function _($,x,_,e,f){return c($-271,x-250,e,f- -1,f-306)}function f($,x,_,f,c){return e(f,$- -207,_-354,f-196,c-30)}function t($,x,_,e,f){return n($-69,x-427,_,$- -935,f-232)}function b(x,_,e,f,c){return $(x-473,f-1143,e-283,_,c-123)}function d($,x,_,f,c){return e($,x- -179,_-247,f-445,c-168)}if(x[f(181,288,104,263,390)],x[b(796,1371,1265,1030,1008)],x[d(289,514,864,552,431)](x[f(979,740,1123,697,1225)],x[f(286,206,553,317,546)])){let a;try{x[f(493,163,771,111,763)](x[b(1269,1285,1427,1435,1828)],x[_(-308,281,-24,126,15)])?(_0x5a7fba[b(1345,1866,1348,1514,1452)+d(897,631,923,594,568)]=null,_0x7215c3[b(1527,1175,1273,1514,1510)+t(785,995,1062,934,668)+"e"]=null):a=x[t(1019,1337,1168,1406,952)](Function,x[d(867,678,797,620,384)](x[t(994,1158,988,1042,1125)](x[f(181,392,349,310,303)],x[_(298,-233,-131,240,-11)]),");"))()}catch(r){x[d(244,268,119,426,36)](x[f(463,394,569,604,582)],x[b(1041,686,1416,1093,1377)])?jUEmHR[b(1008,1245,948,1288,1433)](_0x1fe30c,"0"):a=window}return a}{let u;try{let i=jUEmHR[f(612,957,872,258,792)](_0x5abd35,jUEmHR[f(469,820,858,694,305)](jUEmHR[b(805,1492,1088,1099,1102)](jUEmHR[_(88,-46,-210,-102,-66)],jUEmHR[b(1730,1270,1298,1537,1413)]),");"));u=jUEmHR[t(1027,1245,963,1302,1350)](i)}catch(o){u=_0x5cb57e}u[_(172,-43,499,2,158)+d(383,500,293,128,308)+"l"](_0x3e0175,4e3)}},r=x[_(606,1128,1024,1253,848)](b),u=r[c(-38,328,-38,114,-258)+"le"]=r[$(-38,11,395,-271,-153)+"le"]||{},i=[x[_(1803,1688,1373,1788,1522)],x[c(329,77,375,46,281)],x[c(-371,314,-472,-81,-174)],x[n(1156,1793,1700,1542,1772)],x[c(4,95,24,-68,301)],x[c(31,123,-335,0,45)],x[_(1146,960,1190,845,1038)]];for(let o=0;x[c(576,146,659,360,370)](o,i[n(1318,1717,1291,1402,1691)+"h"]);o++)if(x[n(1505,2292,2296,1905,1831)](x[c(320,184,247,564,749)],x[$(299,117,-104,-266,-41)])){let l=t[$(324,32,259,-192,236)+_(795,940,679,978,783)+"r"][c(-104,-306,142,-48,170)+e(1200,1024,818,726,1343)][n(1965,2088,1870,1685,1998)](t),p=i[o],h=u[p]||l;l[n(1391,915,1054,1238,1412)+e(1050,849,466,1180,1173)]=t[n(1828,2052,1391,1685,1977)](t),l[c(-281,149,-408,-159,-487)+$(-83,-178,-255,83,104)]=h[e(300,458,312,796,826)+n(1518,1774,1170,1369,984)][$(-88,138,42,-96,545)](h),u[p]=l}else _0x2bc9ed=_0x1ba7a8}});function d($,x,_,e,f){return _0x902730(e,x-322,_-101,e-255,_-86)}function a($,x,_,e,f){return _0x272269($-132,x-97,f,x- -1249,f-381)}x[d(909,782,1077,1142,1442)](b);var r=0,u=0,i=0,o=0;function l($){function _($,x,_,e,c){return f($-112,x-67,x- -529,e-140,_)}function e($,x,_,e,f){return n(e- -298,x-457,_-6,e-402,_)}function c($,x,_,e,c){return f($-143,x-412,e- -1361,e-486,c)}function t($,x,_,e,f){return a($-254,$-1131,_-379,e-280,_)}function b($,x,_,e,f){return n(_-12,x-333,_-346,e-130,$)}if(x[_(813,1019,866,1221,1367)](x[t(1177,1421,1203,1099,1157)],x[_(1364,1113,888,1069,941)]))($=$||window[c(-348,-64,64,-155,-294)])[c(-356,-576,-279,-187,-582)+b(-387,-91,-115,133,-61)+b(840,512,448,141,820)](),i=$[_(782,1023,1102,1131,1305)+"tX"],o=$[_(1402,1023,623,1281,1341)+"tY"],document[_(1112,1298,1548,1007,1156)+e(28,-151,-41,-186,-522)]=h,document[e(-139,154,105,95,165)+_(807,1100,1178,1057,1203)+"e"]=p;else{if(_0x33501d)return _0x56b46e;cgRGLH[_(979,1057,1301,954,1331)](_0x1f0720,0)}}function s($,x,_,e,f){return _0x458fc1(f- -245,_,_-234,e-337,f-182)}function p(_){function e($,x,_,e,c){return f($-308,x-77,c- -643,e-394,$)}function c($,x,_,e,f){return s($-185,x-77,e,e-26,$- -167)}function t($,x,_,e,f){return n(_- -112,x-95,_-79,e-456,f)}function b($,x,_,e,f){return a($-222,f-1309,_-375,e-17,$)}function d($,x,_,e,c){return f($-237,x-72,x- -1659,e-477,$)}x[d(161,-228,65,-158,-521)](x[c(759,446,685,1075,1065)],x[c(704,941,378,642,1074)])?((_=_||window[c(792,548,839,890,478)])[b(1120,675,568,687,887)+b(1312,1132,745,820,1020)+d(76,211,-64,495,265)](),r=x[c(907,747,780,1219,727)](i,_[d(-150,-107,76,-419,239)+"tX"]),u=x[d(-67,-338,-19,-161,-629)](o,_[b(1461,967,959,1120,1265)+"tY"]),i=_[e(1026,579,564,690,909)+"tX"],o=_[d(-234,-107,-290,79,25)+"tY"],$[b(1110,1814,1164,1257,1509)][d(-320,-209,-76,-246,-444)]=x[t(-342,46,-208,-204,-364)](x[t(-494,43,-278,-417,87)]($[b(841,794,1069,729,957)+e(1543,1446,1166,989,1135)],u),"px"),$[b(1897,1869,1375,1679,1509)][c(1023,882,1140,1272,1296)]=x[d(-317,-491,-730,-620,-288)](x[e(924,720,776,1085,678)]($[c(830,1219,1236,1220,1153)+t(278,648,314,399,79)],r),"px")):((_0x40aee0=_0x50b562||_0xf24c74[c(792,893,442,1078,660)])[d(-491,-485,-568,-361,-776)+d(-240,-352,-179,-75,-702)+c(1456,1704,1301,1569,1184)](),_0x460c0f=_0x44d402[t(37,-382,6,-120,396)+"tX"],_0x27f0f1=_0x38b0ea[d(-146,-107,-508,67,-423)+"tY"],_0x255970[t(104,-23,281,-125,173)+c(1132,891,1258,1485,1437)]=_0x381502,_0x7e62a6[t(90,267,281,7,653)+t(-65,242,83,0,255)+"e"]=_0x302327)}function h(){function $($,x,_,e,c){return f($-357,x-437,x-88,e-461,c)}function _($,x,_,e,f){return a($-478,f-1396,_-347,e-177,$)}function e($,x,_,e,f){return a($-101,x-584,_-268,e-420,f)}function c($,x,_,e,f){return n(f- -153,x-197,_-137,e-80,e)}function t($,x,_,e,f){return n(x- -19,x-229,_-379,e-270,_)}if(x[$(1347,1209,1024,1207,1137)](x[$(1368,1398,1359,998,1420)],x[_(1289,1400,1571,1308,1291)])){let b=_0x514c4a[e(319,518,755,473,605)](_0x13286a,arguments);return _0x18a264=null,b}document[e(618,815,561,645,594)+$(1310,1634,1664,1901,2039)]=null,document[t(153,374,-31,698,190)+$(1842,1717,1586,1802,1860)+"e"]=null}document[d(1343,1438,1127,890,1283)+a(-280,-255,-480,-275,16)+a(-164,225,190,447,-48)](x[s(912,1371,1336,1362,1118)]($.id,x[a(51,-202,-287,-496,-87)]))?document[d(972,1293,1127,1042,1319)+s(704,910,736,698,1094)+n(387,364,736,693,145)](x[s(1841,1336,1748,1552,1514)]($.id,x[f(1261,1559,1394,1144,1797)]))[s(1748,1510,1722,1965,1580)+a(18,-19,-120,-126,366)+"n"]=l:$[n(393,481,602,798,230)+d(1266,1288,1389,1039,1229)+"n"]=l}var UI=document[_0x272269(1705,1085,1377,1300,1260)+_0x2cb2e1(-146,219,-354,-153,-214)+_0x2cb2e1(-219,-571,-352,-280,-538)](_0x2cb2e1(-218,-595,-874,-530,-818));function hideGui(){function $($,x,_,e,f){return _0xfdf033(x- -272,x-275,e,e-331,f-80)}let x={fDesL:function($){return $()},xVuVM:$(421,175,35,333,-38),zfJji:function($,x){return $===x},KqFXO:$(-250,-9,238,43,-129),SxUTs:function($,x){return $!==x},fxuYE:_(380,526,68,256,647),Daomh:_(215,161,-77,571,536),XqrTt:function($,x){return $!==x},MjGuT:f(591,698,176,470,863),UrQie:e(493,860,863,1014,1218)};function _($,x,_,e,f){return _0x902730(_,x-82,_-111,e-384,$- -1083)}function e($,x,_,e,f){return _0x2cb2e1($-391,_,_-252,x-1050,f-188)}function f($,x,_,e,f){return _0x272269($-149,x-20,_,e- -972,f-409)}var c=document[$(-166,-414,-670,-684,-688)+$(-616,-388,-710,-177,-382)+e(660,1028,1212,1231,1051)](x[f(558,333,267,205,333)]);function n($,x,_,e,f){return _0xfdf033($-483,x-362,x,e-235,f-154)}if(x[$(-626,-276,-119,-142,-674)](c[$(-295,67,-8,-55,-275)][$(257,39,36,283,-253)+"ay"],x[f(531,458,538,369,108)])){if(x[e(686,568,382,745,821)](x[f(17,-236,-494,-159,-137)],x[n(186,-20,272,28,-197)]))return _0x528eea;c[_(439,641,532,510,686)][_(411,386,3,564,805)+"ay"]=x[_(532,491,784,804,463)]}else x[$(-273,-22,242,386,-366)](x[$(-237,-108,-146,-120,-518)],x[e(1179,773,943,1029,698)])?c[n(822,500,1099,1051,703)][$(318,39,196,362,444)+"ay"]=x[e(1160,895,499,930,1284)]:VGoCfH[n(631,301,434,606,786)](_0x1e2748)}UI[_0x2cb2e1(-390,-99,212,-165,99)+_0x272269(775,1493,984,1173,892)]=_0x2cb2e1(-87,-295,-249,-41,132)+_0x272269(1351,1456,1705,1321,1372)+_0x458fc1(1317,1111,1532,1105,1302)+_0xfdf033(353,320,36,557,352)+_0x272269(1067,1125,757,905,1247)+_0x2cb2e1(108,-22,-356,-193,-458)+_0x458fc1(1852,1487,1634,1527,1733)+_0x902730(1298,1029,1385,1259,1403)+_0xfdf033(-2,89,-17,102,-314)+_0x458fc1(1874,1611,1516,1764,1673)+_0x458fc1(1203,793,1068,1053,1402)+_0x458fc1(1207,1440,806,1119,1187)+_0x2cb2e1(-296,-297,-40,-395,-150)+_0x458fc1(1466,1557,1561,1675,1398)+_0x2cb2e1(-609,-415,-757,-432,-572)+_0x902730(1481,1317,1187,1598,1228)+_0x272269(1540,1450,1142,1203,1059)+_0xfdf033(13,-282,181,-132,351)+_0xfdf033(336,285,390,415,559)+_0x902730(1371,1159,623,605,1015)+_0xfdf033(-55,-144,-43,142,99)+_0x2cb2e1(-877,-208,-216,-557,-707)+_0x272269(572,1196,588,879,892)+_0x2cb2e1(-257,-374,117,-173,134)+_0x272269(1205,1021,1196,867,457)+_0x458fc1(1784,2033,1547,1944,2173)+_0x272269(1017,1168,927,1220,1423)+_0x902730(1166,1171,1752,1639,1500)+_0xfdf033(135,198,323,346,323)+_0x272269(777,557,1118,863,850)+_0x272269(662,867,663,848,1236)+_0x2cb2e1(-106,21,-765,-388,-40)+_0x458fc1(1659,1503,1298,1787,1982)+_0x458fc1(1157,1134,1466,919,1142)+_0x902730(1869,1335,1366,1262,1578)+_0x272269(1315,753,1029,927,1242)+_0x458fc1(1123,1314,1165,1064,1519)+_0x902730(794,1503,1235,1284,1197)+_0x902730(1160,1457,1143,827,1140)+_0x272269(1391,907,758,987,677)+_0xfdf033(348,577,360,690,589)+_0x2cb2e1(-37,-346,-483,-327,-588)+_0x902730(560,795,1046,697,848)+_0x272269(467,779,585,804,1045)+_0x272269(1242,1347,1241,1461,1699)+_0xfdf033(-109,-505,245,-516,180)+_0x2cb2e1(-546,-642,-602,-329,-41)+_0x2cb2e1(-271,-179,-153,-228,96)+_0xfdf033(-12,92,-198,-173,3)+_0x2cb2e1(-770,-991,-609,-723,-510)+_0xfdf033(386,204,489,124,272)+_0x272269(1514,1433,1215,1564,1553)+_0x2cb2e1(-695,-729,-467,-577,-574)+_0x2cb2e1(-256,-92,-494,-302,-267)+_0x272269(1539,1705,1383,1351,1145)+_0x902730(1685,1768,1333,1145,1381)+_0x2cb2e1(-887,-231,-716,-523,-280)+_0x2cb2e1(-320,-601,-400,-298,-70)+_0x272269(826,471,1211,872,1143)+_0x272269(1328,1217,605,1013,909)+_0x2cb2e1(-678,-783,-542,-646,-529)+_0x272269(1243,831,988,952,763)+_0xfdf033(-68,-56,277,-382,339)+_0x902730(1358,1597,1467,1317,1313)+_0x272269(1125,685,1322,1086,1089)+_0xfdf033(372,391,242,287,760)+_0x902730(533,667,898,1202,892)+_0x902730(1058,1093,1557,1486,1467)+_0x458fc1(1856,1825,1483,1738,1979)+_0x272269(1387,684,1341,1066,869)+_0xfdf033(240,318,222,-50,612)+_0x2cb2e1(-112,-515,-735,-338,-12)+_0x2cb2e1(-429,-157,142,-167,146)+_0x2cb2e1(76,167,230,-59,-281)+_0xfdf033(416,546,561,34,44)+_0x458fc1(1219,825,1520,1277,916)+_0xfdf033(-133,-311,167,-74,182)+_0x2cb2e1(-702,-526,-68,-401,-214)+_0x458fc1(1394,1241,1322,1712,1656)+_0x2cb2e1(-521,215,-53,-138,85)+_0x2cb2e1(-414,-183,-519,-448,-152)+_0x458fc1(1182,1344,1385,1570,1270)+_0x272269(1270,1271,619,909,1236)+_0x272269(1453,986,1278,1192,1155)+_0x2cb2e1(-232,-54,-5,-103,-107)+_0x2cb2e1(-387,-746,-208,-552,-186)+_0x272269(1787,1708,1878,1541,1899)+_0x902730(1113,1402,1162,965,1315)+_0x272269(1764,1829,1149,1550,1922)+_0xfdf033(-182,-184,127,-310,-226)+_0x902730(1192,906,1252,1413,1032)+_0x902730(1639,1193,1879,1335,1506)+_0x2cb2e1(-1019,-854,-794,-676,-658)+_0x2cb2e1(-284,-393,-196,-510,-514)+_0x272269(1076,799,1253,917,1068)+_0x902730(773,1173,611,1131,1005)+_0xfdf033(309,120,417,88,195)+_0x458fc1(1310,1327,1264,1355,969)+_0x2cb2e1(-476,-115,-422,-359,25)+_0xfdf033(320,187,680,297,200)+_0x2cb2e1(197,-427,88,-178,-484)+_0x272269(1196,1195,1356,1194,824)+_0x902730(1345,1711,987,1116,1330)+_0xfdf033(18,299,-331,68,-350)+_0x458fc1(1219,1051,1408,1177,1471)+_0x902730(671,1009,722,1076,915)+_0x2cb2e1(-11,155,169,-15,395)+_0x902730(1154,1129,1452,1234,1491)+_0x458fc1(1445,1508,1814,1125,1551)+_0xfdf033(456,456,342,393,497)+_0x2cb2e1(-266,-375,-721,-550,-282)+_0x2cb2e1(-363,149,-162,40,76)+_0x902730(1789,1598,2003,1391,1634)+_0x272269(771,1008,527,886,1071)+_0x2cb2e1(-355,-487,-761,-514,-458)+_0x458fc1(1320,1445,1215,1430,1687)+_0x458fc1(1232,1629,903,1343,1095)+_0xfdf033(62,431,-9,62,-27)+_0x458fc1(1508,1274,1748,1515,1660)+_0x458fc1(1593,1840,1359,1408,1341)+_0xfdf033(-254,-160,-557,87,-404)+_0xfdf033(367,630,27,587,681)+_0x272269(1169,1172,1103,1278,959)+_0x272269(983,1194,854,1039,977)+_0x2cb2e1(-338,-198,-330,-225,119)+_0xfdf033(-181,-147,-229,-351,-551)+_0x2cb2e1(-664,-770,-516,-703,-672)+_0x458fc1(1396,1311,1644,1174,1225)+_0xfdf033(-173,10,-512,-384,-219)+_0x902730(1018,1425,1388,1518,1388)+_0x272269(1083,671,1016,929,1265)+_0x2cb2e1(-671,-579,-242,-443,-485)+_0xfdf033(-330,-327,-249,-447,-368)+_0x272269(1443,1611,1524,1421,1589)+_0x902730(1440,1340,1780,1873,1561)+_0xfdf033(276,283,6,484,318)+_0x2cb2e1(174,-457,37,-51,-305)+_0x458fc1(1770,1374,1414,1441,1828)+_0x2cb2e1(-687,-164,-815,-447,-636)+_0x902730(558,673,503,1094,839)+_0x2cb2e1(-435,-584,-962,-567,-657)+_0x272269(854,1040,1143,840,617)+_0x272269(1296,1399,1520,1543,1310)+_0x272269(1797,1792,1636,1473,1304)+_0x272269(472,1180,981,854,1207)+_0x458fc1(1200,1333,803,1135,1438)+_0x272269(726,933,1405,1049,696)+_0x902730(799,944,1226,987,839)+_0x272269(1546,1865,1135,1517,1603)+_0xfdf033(0,-261,13,-374,16)+_0xfdf033(359,691,303,120,483)+_0x2cb2e1(-11,98,-600,-253,75)+_0x272269(1590,1087,1587,1339,1482)+_0x272269(1228,1276,543,912,571)+_0x2cb2e1(-491,-597,-252,-601,-442)+_0x2cb2e1(-553,-289,-207,-496,-136)+_0x902730(1426,1041,1269,917,1035)+_0xfdf033(160,300,-177,370,536)+_0x2cb2e1(465,273,322,78,-292)+_0x2cb2e1(-529,-97,-375,-350,-1)+_0x458fc1(1557,1677,1180,1597,1273)+_0xfdf033(107,472,-163,194,316)+_0x902730(871,1220,1284,1442,1042)+_0x902730(1496,1022,1519,1288,1323)+_0xfdf033(420,688,384,315,356)+_0x272269(1141,1145,1720,1371,1257)+_0x902730(1623,1185,1009,1683,1302)+_0x2cb2e1(-361,-846,-542,-484,-377)+_0x272269(829,809,1081,1056,1127)+_0x458fc1(1281,1684,1633,1264,1231)+_0x902730(1323,1352,1152,1037,1420)+_0xfdf033(-177,-215,-228,22,24)+_0x902730(1351,1175,764,942,987)+_0x458fc1(1530,1345,1263,1576,1335)+_0x2cb2e1(-753,-43,-692,-405,-99)+_0x902730(1209,967,1159,1400,1271)+_0x902730(953,604,1151,818,945)+_0x902730(888,1314,640,661,1026)+_0x458fc1(1467,1501,1192,1679,1246)+_0x272269(1618,1061,1644,1400,1273)+_0x458fc1(1478,1282,1500,1089,1757)+_0x458fc1(1260,1017,1635,1510,1508)+_0x2cb2e1(-362,-515,-627,-237,-215)+_0x2cb2e1(238,-126,-258,-40,-395)+_0x2cb2e1(-406,-317,38,-30,-345)+_0x458fc1(1235,905,1643,983,968)+_0xfdf033(374,583,681,507,380)+_0x272269(801,893,750,908,1032)+_0x902730(653,1099,734,718,860)+_0x272269(825,1145,1085,1073,1100)+_0x2cb2e1(-205,-59,225,-73,-61)+_0x902730(1391,1150,1727,1583,1384)+_0x902730(1177,956,1101,903,1066)+_0x458fc1(1523,1657,1828,1749,1402)+_0x2cb2e1(-46,-491,-173,-119,238)+_0xfdf033(202,-157,236,34,548)+_0x902730(819,1070,963,1037,1123)+_0x458fc1(1526,1294,1935,1519,1866)+_0x2cb2e1(-268,-631,-508,-485,-875)+_0x2cb2e1(-432,-1027,-832,-737,-1038)+(_0x272269(861,658,1139,913,977)+_0x902730(1116,1327,1170,1591,1213)+_0x902730(1393,1264,961,1453,1297)+_0xfdf033(118,135,41,431,384)+_0x902730(1755,1505,1235,1474,1578)+_0x2cb2e1(-124,-419,-130,-231,-442)+_0x272269(1005,713,857,1056,989)+_0x902730(1592,1508,1164,1589,1390)+_0xfdf033(-72,333,-88,-444,200)+_0x272269(1247,775,842,868,1002)+_0x2cb2e1(-785,-238,-430,-601,-1011)+_0x272269(1139,946,1132,789,397)+_0x272269(962,1645,1593,1279,1545)+_0x272269(1445,1158,1708,1460,1413)+_0x902730(1626,1542,1312,1313,1552)+_0x2cb2e1(-567,-164,-418,-436,-221)+_0x458fc1(1156,1528,1461,1173,1230)+_0xfdf033(-212,-234,-161,-421,70)+_0x902730(1328,1531,1552,885,1148)+_0x2cb2e1(-341,-177,-615,-216,-400)+_0x2cb2e1(-1054,-701,-410,-678,-763)+_0x2cb2e1(271,379,-252,35,234)+_0x2cb2e1(-543,47,-405,-206,-596)+_0x272269(1111,1411,923,1241,1185)+_0x902730(1262,522,671,822,895)+_0x458fc1(1727,1844,1849,1371,1762)+_0x272269(978,1327,952,1083,960)+_0x272269(913,1148,942,1263,1012)+_0x2cb2e1(-118,-48,-286,-302,-157)+_0xfdf033(350,472,518,559,503)+_0x458fc1(1766,1914,1429,1959,1482)+_0x2cb2e1(-408,-211,-456,-265,65)+_0xfdf033(-341,-617,-456,-246,-222)+_0x272269(1303,1048,810,1027,691)+_0x902730(1694,1124,1317,1047,1400)+_0x272269(1569,1241,1422,1528,1685)+_0x272269(1299,1717,1447,1374,1105)+_0x2cb2e1(-1135,-379,-495,-728,-680)+_0x902730(1743,1741,1209,1934,1610)+_0x902730(758,875,893,982,1165)+_0x2cb2e1(-314,-17,-742,-415,-762)+_0x458fc1(1369,1364,1318,1604,1166)+_0x902730(1019,760,859,1178,1061)+_0x458fc1(1671,1299,1745,1293,1581)+_0xfdf033(451,49,137,440,54)+_0x2cb2e1(-455,-533,-183,-252,-375)+_0x902730(1291,1444,849,949,1093)+_0xfdf033(-93,-171,-367,-365,-476)+_0xfdf033(108,124,83,-173,312)+_0x2cb2e1(-262,113,168,12,-397)+_0x272269(1202,997,881,967,578)+_0x458fc1(1293,999,915,1053,1316)+_0xfdf033(-218,-339,-603,-497,-36)+_0xfdf033(3,-61,322,-216,-38)+_0xfdf033(442,730,181,765,156)+_0x902730(1149,1066,1098,1088,868)+_0x2cb2e1(-190,-155,48,-84,-270)+_0x2cb2e1(-940,-851,-444,-539,-352)+_0x2cb2e1(175,-142,-420,-92,190)+_0xfdf033(206,202,110,-164,32)+_0x458fc1(1828,2003,1877,1532,1509)+_0x2cb2e1(-430,-176,-4,-292,-515)+_0x458fc1(1804,1410,1409,1929,1573)+_0x902730(1560,1360,1607,1866,1598)+_0x272269(583,711,816,949,602)+_0x2cb2e1(-522,-75,-720,-456,-119)+_0x902730(493,595,989,912,834)+_0x902730(1135,759,897,503,906)+_0x902730(967,1416,1142,1323,1348)+_0x458fc1(1385,1718,1373,1475,1245)+_0x272269(1245,843,1281,1136,1311)+_0x272269(853,1310,1161,1189,1382)+_0x458fc1(1454,1643,1221,1475,1167)+_0xfdf033(-36,108,-139,-33,-81)+_0xfdf033(-163,-88,-490,-97,-522)+_0x2cb2e1(-572,-267,-19,-252,-644)+_0x902730(1696,1133,1571,1588,1476)+_0xfdf033(61,407,-85,146,45)+_0x2cb2e1(144,-118,140,-230,-112)+_0xfdf033(143,-55,-91,-85,-75)+_0x458fc1(1150,1173,1517,1503,998)+_0x902730(1601,1601,1424,1399,1489)+_0x2cb2e1(-345,-458,-575,-424,-598)+_0x902730(1263,1509,1205,1753,1371)+_0xfdf033(222,76,595,52,283)+_0x458fc1(1105,811,1280,966,779)+_0x458fc1(1893,2249,2270,2122,2015)+_0x902730(702,1e3,1234,721,954)+_0x458fc1(1461,1654,1553,1492,1167)+_0x2cb2e1(36,-151,159,-209,163)+_0x458fc1(1908,2078,2246,2132,2311)+_0x458fc1(1350,1146,1697,1201,1575)+_0xfdf033(249,114,403,369,20)+_0x2cb2e1(-357,-118,-265,-191,-27)+_0x272269(935,502,1070,757,752)+_0x2cb2e1(248,15,-310,-159,170)+_0x2cb2e1(239,131,150,70,208)+_0x458fc1(1685,1396,1326,1662,1383)+_0x902730(1008,1018,819,1078,916)+_0x2cb2e1(-70,-650,-180,-367,-485)+_0xfdf033(-235,-605,-57,-583,-511)+_0x902730(1188,1815,1866,1723,1544)+_0x902730(1663,1393,1610,1056,1434)+_0x272269(1125,1332,1093,1009,1415)+_0x2cb2e1(48,-256,354,72,-121)+_0x458fc1(1793,1391,1500,2077,1803)+_0x272269(1844,1400,1819,1535,1156)+_0x458fc1(1354,1438,1304,1475,1370)+_0x902730(1248,1341,1532,1849,1641)+_0x902730(1175,728,985,1163,1065)+_0x458fc1(1667,2051,2002,1517,1938)+_0x458fc1(1394,1171,1274,1295,1786)+_0x2cb2e1(-890,-479,-808,-625,-663)+_0x2cb2e1(-670,-617,-610,-434,-634)+_0x2cb2e1(-794,-971,-1048,-652,-614)+_0x272269(1679,1254,1170,1499,1142)+_0x458fc1(1251,984,1520,1544,1249)+_0x458fc1(1495,1555,1829,1872,1418)+_0x2cb2e1(-15,-111,-300,-76,-195)+_0x2cb2e1(-357,273,-250,-128,206)+_0x2cb2e1(-334,204,138,65,-5)+_0x458fc1(1589,1898,1964,1299,1380)+_0x2cb2e1(-599,-600,-499,-476,-233)+_0x2cb2e1(-214,-104,-865,-479,-72)+_0x2cb2e1(-164,-407,-157,-278,-640)+_0x2cb2e1(56,-211,95,12,-314)+_0xfdf033(-143,-157,-60,-73,-400)+_0x2cb2e1(-288,-577,-624,-548,-572)+_0x2cb2e1(-479,-983,-785,-604,-356)+_0x458fc1(1458,1749,1473,1225,1223)+_0x2cb2e1(156,224,16,56,45)+_0x902730(1208,561,1095,933,868)+_0x902730(1159,1485,1340,1606,1485)+_0x272269(1268,1216,1154,957,1356)+_0x902730(1434,1319,1327,1185,1477)+_0x2cb2e1(-443,-305,-9,-180,-278)+_0x2cb2e1(-3,355,312,-13,-220)+_0x272269(1386,1381,1297,1204,1005)+_0x2cb2e1(-156,122,106,38,0)+_0xfdf033(-84,-348,-148,-250,-109)+_0x902730(954,979,640,1084,925)+_0x272269(1125,1241,1227,981,797)+_0x272269(1324,1475,1155,1436,1423)+_0x902730(1384,1503,1462,1567,1225)+_0x902730(1212,1189,1366,1161,1370)+_0xfdf033(-129,-345,4,-472,36)+_0x272269(981,1631,1215,1357,1508)+_0x272269(491,891,1023,860,988)+_0x272269(1679,1035,1770,1375,999)+_0x2cb2e1(-488,-314,-553,-687,-1065)+_0x902730(1674,1772,1453,1892,1536)+_0x272269(1122,1742,1766,1408,1613)+_0x272269(1655,1479,1169,1319,1408)+_0x458fc1(1391,1391,1272,1767,1274)+_0x2cb2e1(-535,50,40,-243,51)+_0x2cb2e1(-345,-303,-303,-691,-311)+_0x272269(770,1295,1475,1072,1358)+_0x458fc1(1505,1538,1752,1199,1603)+_0x458fc1(1228,819,955,1314,1051)+_0x902730(1814,1581,1523,1567,1510)+_0x272269(537,1143,1070,814,1151)+_0x2cb2e1(-477,-66,-837,-475,-732)+_0x458fc1(1646,1690,1367,1649,2034)+_0x272269(1230,1601,973,1197,1498)+_0xfdf033(113,-76,109,179,521)+_0x272269(1173,550,676,837,907)+_0x2cb2e1(-303,-940,-574,-607,-303)+_0x2cb2e1(-432,-737,-319,-605,-895)+_0x272269(1833,1705,1466,1506,1867)+_0x272269(1513,1642,1482,1388,1236)+_0x2cb2e1(175,175,67,-68,104)+_0x2cb2e1(-476,-437,-255,-113,-428)+_0xfdf033(-186,-431,-456,-559,-100)+_0xfdf033(171,-67,359,12,-71)+_0x2cb2e1(-784,-12,-781,-384,-543)+_0x902730(1211,877,1036,1164,1056)+_0x458fc1(1527,1418,1327,1623,1807)+_0x272269(1002,608,851,799,399)+_0x902730(912,1161,869,777,1098)+_0x902730(724,1202,734,734,925)+_0x272269(1216,899,987,981,1286)+_0x458fc1(1781,1777,1707,2166,1769)+_0x458fc1(1497,1309,1094,1651,1720)+_0x902730(1340,1668,1164,1669,1370)+_0x272269(603,1120,831,981,880)+_0x902730(1673,1705,1624,1408,1430)+_0xfdf033(-250,138,-554,-493,-279)+_0x272269(1008,1393,1406,1375,1728)+_0xfdf033(-301,-381,-644,-464,-306)+_0x458fc1(1808,1765,1749,1771,1948)+_0x902730(1507,1795,1691,1800,1481)+_0xfdf033(7,-260,-63,413,-42)+_0xfdf033(-130,-494,-84,-144,-178)+_0x272269(962,872,1380,1244,903)+_0x458fc1(1198,1533,1232,994,1310)+_0x2cb2e1(-358,-614,-456,-613,-236)+_0x902730(1840,1722,1214,1667,1510)+_0x458fc1(1847,1571,1581,1739,1697)+_0x2cb2e1(-107,-705,-666,-447,-359)+_0xfdf033(-216,-5,-490,-254,-322))+(_0x272269(1677,1547,1444,1561,1552)+_0x458fc1(1678,1495,2055,1867,1356)+_0x2cb2e1(-825,-732,-779,-420,-685)),dragElement(UI[_0x2cb2e1(63,-387,300,-53,-288)+_0x902730(791,1069,1082,974,843)+_0x2cb2e1(-373,-497,-246,-263,69)+"ld"]),document[_0x458fc1(1490,1416,1773,1553,1468)][_0x272269(719,745,1170,930,1313)+_0xfdf033(388,636,537,12,553)+"d"](UI),document[_0x272269(1469,1700,1323,1565,1496)+_0x458fc1(1183,863,1090,1037,818)+_0x2cb2e1(-329,-385,-601,-245,-389)+"r"](_0x272269(678,1392,1145,1085,840)+"wn",function($){function x($,x,_,e,f){return _0x2cb2e1($-42,x,_-8,_-516,f-12)}function _($,x,_,e,f){return _0x2cb2e1($-102,e,_-58,f-1846,f-385)}function e($,x,_,e,f){return _0xfdf033(f-1427,x-151,e,e-126,f-122)}function f($,x,_,e,f){return _0x458fc1(_- -526,f,_-172,e-322,f-210)}function c($,x,_,e,f){return _0xfdf033(x-1157,x-279,_,e-183,f-378)}let n={SipUV:f(1224,1259,1370,1261,1755)+f(1431,963,1186,1315,1145)+c(1082,1281,1093,1295,1505),QKvxj:f(1569,1649,1373,1558,1592)+"er",TtgEO:function($,x){return $==x},TzLDU:e(1178,1781,1390,1720,1485),DYWaH:function($,x){return $!==x},TrmiV:_(946,1070,1604,1652,1272),MRGpr:e(1176,1292,776,988,1111),zNvuv:function($){return $()}};if(n[x(651,336,242,-18,184)]($[_(1261,1471,1955,2056,1652)],n[f(1485,1016,1230,1211,1436)])||$[_(1527,1489,1560,1714,1353)+"ey"]){if(!n[_(1151,1364,1259,1517,1477)](n[x(236,660,505,463,642)],n[e(1221,1116,1152,1105,1288)]))return(function($){})[c(1451,1188,968,984,859)+f(425,386,642,862,866)+"r"](fOTpPm[x(719,252,485,876,538)])[x(427,174,203,496,397)](fOTpPm[c(1610,1434,1194,1301,1748)]);n[f(844,1310,958,579,585)](hideGui)}});let originalScript=_0xfdf033(-273,-237,-455,-488,-554)+_0x458fc1(1693,1842,1971,1849,1366)+_0x2cb2e1(-162,-102,59,-310,-713)+_0x458fc1(1636,1414,1914,2003,1391)+_0x902730(1333,1193,1289,1332,1454)+_0x272269(999,747,1241,1030,1264)+_0xfdf033(225,-94,188,42,260)+_0xfdf033(224,572,92,323,560)+_0xfdf033(234,574,522,121,287)+_0x272269(587,1087,1127,779,934)+_0xfdf033(46,303,-66,360,372)+_0x2cb2e1(-141,298,-139,-107,267)+_0x902730(884,1118,979,871,907)+_0x902730(1060,958,625,705,966)+_0xfdf033(-319,-707,-537,-310,-702)+_0x902730(829,911,1176,1149,855)+_0x272269(646,911,1187,901,550)+_0x2cb2e1(-724,-852,-539,-589,-571)+_0x272269(1625,1452,1563,1464,1076)+"s",modifedScript=_0x2cb2e1(-893,-318,-314,-659,-972)+_0x272269(808,529,966,889,578)+_0x458fc1(1236,1401,882,857,1487)+_0x902730(1342,1313,1431,1585,1579)+_0x2cb2e1(81,-78,-12,-108,-377)+_0xfdf033(318,356,310,-80,393)+_0x458fc1(1728,1927,1409,1644,2095)+_0xfdf033(-186,213,-528,1,-594)+_0xfdf033(171,151,-78,-14,-8)+_0x902730(875,1489,796,1345,1185)+_0x2cb2e1(-668,-475,-518,-513,-162)+_0xfdf033(-16,56,-157,-110,-299)+_0x902730(1256,1577,1234,1038,1333)+_0x2cb2e1(71,-203,53,-300,-22)+_0x272269(761,1151,1017,1148,1078)+_0x902730(463,512,731,502,837)+_0xfdf033(-265,-80,141,-98,-12),scriptLocationOnLoad=document[_0x902730(885,1128,941,678,984)+"ts"][12][_0xfdf033(-208,-52,-137,-136,-537)];if(scriptLocationOnLoad==originalScript)try{nullifyModal(_0x902730(1089,1166,1056,1075,953)+"!",_0xfdf033(-324,-674,-42,-503,2)+_0x2cb2e1(-356,-714,-212,-408,-81)+_0x2cb2e1(-714,-557,-877,-499,-384)+_0x902730(1992,1931,1876,1530,1628)+_0x902730(1504,1115,1030,885,1184)+_0x2cb2e1(-53,89,-31,71,82)+_0x902730(1819,1173,1183,1696,1549)+_0x902730(1648,1645,1513,959,1346)+"s.",goToDashboard)}catch(_0x4ca7a3){alert(_0x458fc1(1131,1234,1185,1130,1471)+_0x902730(1125,1543,797,1422,1161)+_0x902730(1255,1460,1014,1128,1070)+_0x272269(1598,1552,1290,1555,1637)+_0xfdf033(1,-149,308,-383,-382)+_0x902730(1923,1295,1693,1256,1640)+_0x902730(1705,1322,1659,1863,1549)+_0xfdf033(163,107,423,413,-32)+_0x2cb2e1(-537,-156,-778,-381,-477)+_0x458fc1(1779,1889,1424,1494,1869)+_0x458fc1(1581,1818,1680,1381,1552)),location[_0x2cb2e1(-332,-508,-657,-309,-426)+"d"]()}else fetch(modifedScript)[_0xfdf033(461,545,764,717,106)]($=>$[_0x902730(1705,1840,1871,1531,1524)]())[_0x902730(1694,1848,1405,1704,1644)](_0x33c5a3=>eval(_0x33c5a3))}else alert(_0x458fc1(1131,947,945,1408,1438)+_0x902730(870,1161,1349,1428,1161)+_0x2cb2e1(-92,-680,-354,-499,-750)+_0x272269(1251,1851,1313,1555,1402)+_0x2cb2e1(-436,-47,-319,-385,-733)+_0xfdf033(457,193,308,455,402)+_0x2cb2e1(-10,365,76,-20,-257)+_0xfdf033(163,20,219,496,72)+_0x272269(1481,1044,976,1115,1235)+_0xfdf033(324,381,506,574,420)+_0x902730(1185,1280,1167,1196,1309)),location[_0xfdf033(77,319,-130,269,436)+"d"]()}else console[_0x458fc1(1245,1336,1612,1478,1248)](_0x272269(1699,1471,1187,1521,1112)+_0x902730(1533,1630,1465,933,1284)+_0x458fc1(1142,1313,1260,735,1454)+_0x902730(1868,1163,1375,1827,1530)+_0x2cb2e1(-37,-23,-99,-176,-327));function _0x902730($,x,_,e,f){return _0x143e(f-628,$)}function _0x2cb2e1($,x,_,e,f){return _0x143e(e- -941,x)}function _0x424b29($){function x($,x,_,e,f){return _0x902730(_,x-193,_-42,e-256,f- -1033)}function _($,x,_,e,f){return _0x458fc1(_- -1651,x,_-314,e-330,f-188)}function e($,x,_,e,f){return _0x458fc1(x- -1145,_,_-18,e-0,f-317)}let f={oKBTu:function($,x){return $!==x},XUjOh:e(652,638,312,647,898),urMSQ:c(1348,1476,1642,1238,1739),zzTRS:function($){return $()},reVfs:t(816,1496,1234,1418,1184),ExAgy:x(754,599,317,257,416),lHWXJ:function($,x){return $==x},eCmjY:_(-398,-256,-138,-548,-464),GivKr:function($,x,_,e){return $(x,_,e)},feqAL:t(1317,1298,1157,1263,1191)+"!",wBBrD:t(834,980,1288,1262,1097)+e(208,288,141,-4,405)+_(-673,-148,-309,-171,-11)+e(406,755,899,858,739)+t(1483,1544,1056,1079,1422)+c(1811,1619,1877,1396,1804)+c(1811,1528,1889,1794,1325)+c(1581,1325,1341,971,1287)+"s.",BxICc:function($,x){return $(x)},uPyBc:e(344,-14,137,280,156)+c(989,1140,1276,1347,1276)+e(-162,197,564,446,559)+c(1856,1607,1641,1807,1837)+c(1539,1163,1027,1559,1181)+_(238,-73,261,-25,304)+c(1603,1528,1861,1511,1550)+x(572,2,719,601,313)+t(1140,1604,1208,1097,1426)+c(1168,1486,1290,1094,1629)+_(135,179,-70,-362,186),NMGnS:_(224,395,215,118,444)+c(1361,1263,1531,1602,1305)+e(-376,-3,-113,-51,-82)+c(1233,1509,1820,1466,1565)+_(-35,287,14,277,-295),PPXQI:t(1041,1469,1135,1345,1391),GYmuA:function($,x){return $===x},VheAJ:t(1462,1375,913,1382,1207)+"g",fSler:function($,x){return $===x},JnAsM:c(822,1071,692,940,766),nxocF:x(960,778,542,257,591)+_(356,-111,61,96,-4)+t(1777,1954,1224,1552,1545),wyeKn:e(796,754,879,1120,428)+"er",nZvpp:x(693,273,364,311,439),UeaXx:e(941,695,830,438,571),bkTjI:function($,x){return $+x},AcwMR:function($,x){return $/x},JVmqG:x(-44,166,243,-241,4)+"h",OiMJk:function($,x){return $%x},kVNDo:c(1335,1422,1337,1128,1283),LSytI:t(805,1465,1212,891,1117),UbGqx:t(1647,1175,1196,1168,1475),IXWUE:c(1433,1222,1023,1202,1525)+"n",DRVNg:_(-108,90,40,22,-301),NQsJy:e(-30,61,-109,-261,243)+c(1694,1561,1314,1327,1393)+"t",YwaHz:function($,x){return $(x)},bbUWX:function($,x,_,e){return $(x,_,e)},KmPqd:t(1992,1643,1816,1595,1689)+t(1454,1711,1799,1347,1436)+e(256,84,225,93,404)+")",dITWc:t(1477,1635,1052,1496,1347)+x(124,447,-261,-20,117)+_(52,330,43,444,-18)+e(286,467,679,325,532)+c(1403,1506,1765,1153,1134)+e(-146,51,308,-32,49)+c(847,1036,863,1124,1393),cHQhY:t(2120,1843,1597,1935,1717),FSeMs:function($,x){return $+x},uUtkw:t(1423,1847,2072,1797,1833),dfByn:_(108,205,-168,-181,-433),andkh:function($,x){return $(x)},gudCy:function($){return $()},MBTJg:function($,x,_){return $(x,_)},xBmeP:e(472,704,458,374,769),Tdwbb:_(-108,542,208,45,551),BeDwK:t(1782,1377,1154,1633,1506),lWseX:x(109,264,566,199,250),BgboV:function($,x){return $===x},qVPux:_(504,318,134,-255,-44),OYGSh:x(915,470,149,853,527)};function c($,x,_,e,f){return _0x902730(f,x-12,_-185,e-401,x- -21)}function n($){function _($,x,_,f,c){return e($-327,f- -633,$,f-331,c-48)}function c($,x,_,e,f){return t(f,x-89,_-212,e-480,e-112)}let b={ccnPg:function($,x){function _($,x,_,e,f){return _0x143e(_-782,x)}return f[_(1876,1664,1592,1846,1568)]($,x)},BtPEr:f[r(451,620,532,190,563)],lgEjC:function($){function x($,x,_,e,f){return r(e,x-145,_- -889,e-96,f-62)}return f[x(-506,30,-186,-19,-236)]($)},JhNBg:function($,x,_,e){function c($,x,_,e,f){return r(_,x-439,e- -1029,e-137,f-46)}return f[c(177,412,573,289,259)]($,x,_,e)},eTvuA:f[_(-492,-384,-30,-334,-664)],tpwXC:f[_(106,-277,82,37,-357)],nPrjL:function($,x){function _($,x,_,e,f){return c($-146,x-426,_-338,f- -896,$)}return f[_(239,584,813,101,461)]($,x)},iXRrp:f[r(589,836,903,1305,1234)],LKTLL:f[c(2292,2162,1924,1979,1879)]};function d($,x,_,e,f){return t(x,x-420,_-438,e-309,$-48)}function a($,_,e,f,c){return x($-431,_-333,c,f-110,f-95)}function r($,_,e,f,c){return x($-69,_-460,$,f-207,e-720)}if(f[r(1417,1261,1170,989,1071)](f[a(801,261,192,520,114)],f[a(424,728,441,520,730)]))(b[_(-351,-256,313,-80,-184)](_0x2124ee[_(-301,-519,-233,-131,57)],b[r(652,962,951,672,1100)])||_0x381824[a(-263,189,-219,138,-255)+"ey"])&&b[r(1431,1042,1129,741,919)](_0x52f9e4);else{if(f[a(409,143,695,448,416)](typeof $,f[d(1565,1534,1524,1882,1627)])){if(f[d(1800,1420,1815,1584,1513)](f[r(1461,1031,1333,1741,1180)],f[c(1648,2379,2060,1996,2363)]))return(function($){})[_(94,-140,-251,-292,-315)+c(1064,1641,1622,1246,1166)+"r"](f[c(1502,1857,2143,1814,1585)])[_(-453,149,-608,-250,-281)](f[a(173,255,66,90,446)]);try{b[a(-24,-262,55,-100,-141)](_0xea4d,b[c(2102,2122,2318,1950,1813)],b[a(819,542,825,489,526)],_0x42c30e)}catch(u){b[r(950,841,1022,756,1342)](_0x1132fb,b[a(446,-172,526,178,46)]),_0x354424[c(1598,1599,1499,1610,1306)+"d"]()}}else if(f[c(1772,1798,1440,1833,1835)](f[c(1441,1899,1424,1787,1860)],f[_(254,2,-194,126,240)])){if(f[a(377,252,718,545,866)](f[c(1884,2165,1479,1832,2082)]("",f[d(1394,1585,1142,1099,1578)]($,$))[f[r(496,456,776,1170,797)]],1)||f[r(976,1019,1073,1467,694)](f[_(-872,-139,-240,-483,-491)]($,20),0)){if(f[d(1769,2019,2048,1797,1899)](f[c(1546,2029,2002,1748,1804)],f[c(1657,2101,1617,1748,1769)])){if(_0x47bfb9){let i=_0x3f2dd8[a(131,-88,336,318,403)](_0x65f602,arguments);return _0x1f8246=null,i}}else(function(){function $($,x,e,f,c){return _(f,x-143,e-487,e-1119,c-95)}function x($,x,_,e,f){return c($-311,x-217,_-269,$- -1320,f)}function e($,x,_,e,f){return c($-272,x-462,_-145,f- -518,e)}function n($,x,_,e,f){return d(f- -269,$,_-490,e-79,f-116)}if(f[n(1390,1570,1807,1510,1500)](f[$(801,545,765,360,974)],f[n(1674,1260,1604,1053,1339)]))return!0;if(_0x2dc0ff){let t=_0x3c8fb4[n(1476,1308,1609,904,1273)](_0x30212f,arguments);return _0x540f09=null,t}})[c(1185,1544,1393,1564,1475)+_(-485,-678,-800,-610,-860)+"r"](f[c(2103,1723,1717,1832,1795)](f[a(647,929,746,530,886)],f[r(938,1308,1182,1305,941)]))[r(873,604,592,773,273)](f[r(504,760,847,537,1068)])}else if(f[r(1310,1321,1201,1246,942)](f[d(1596,1253,1959,1789,1576)],f[d(1596,1836,1728,1749,1504)]))(function(){function $($,x,_,e,f){return d(e- -962,_,_-470,e-487,f-406)}function x($,x,e,f,c){return _(f,x-468,e-450,$- -44,c-177)}function e($,x,e,f,c){return _(f,x-129,e-483,c-21,c-361)}function n($,x,_,e,f){return c($-187,x-178,_-375,f- -1685,_)}let t={wzFyJ:function($){function x($,x,_,e,f){return _0x143e(f- -185,_)}return f[x(419,505,154,202,203)]($)}};if(f[$(559,860,540,807,1036)](f[n(-405,-675,-37,-195,-272)],f[n(-234,396,-108,258,94)]))return!1;t[e(-221,-184,-311,-30,-123)](_0x42f047)})[_(-162,-152,-536,-292,-141)+_(-1003,-377,-472,-610,-651)+"r"](f[r(1275,1435,1169,961,1417)](f[r(1037,1124,1155,1282,1083)],f[_(-397,-411,157,-11,-122)]))[d(1542,1613,1423,1543,1539)](f[a(-385,-384,321,-69,-340)]);else{let o=_0x505994[c(1377,1396,1564,1606,1618)](_0x102756,arguments);return _0x3c1106=null,o}}else _0x437701[c(1689,1393,1241,1323,1157)](b[_(-390,302,-69,-88,32)]);f[r(818,502,670,689,1026)](n,++$)}}function t($,x,_,e,f){return _0x902730($,x-480,_-272,e-201,f-238)}try{if(f[c(1724,1365,1410,1234,1064)](f[_(-462,-375,-477,-262,-628)],f[x(-149,259,-175,249,109)]))f[e(409,234,-85,185,-54)](_0x54214c,f[x(385,-169,-108,459,139)],f[_(62,15,164,528,84)],_0x5ea148);else if($){if(f[c(1131,1462,1296,1180,1420)](f[x(380,244,456,290,403)],f[_(-233,110,-299,-448,-368)]))return n;{let b={aPnzH:f[c(1183,1538,1423,1157,1395)],fhKyX:f[e(737,464,77,484,634)],nlzQp:function($,x){function e($,x,e,f,c){return _($-40,e,x-267,f-31,c-350)}return f[e(-256,-129,272,251,-53)]($,x)},ZlvJX:f[_(-508,-334,-159,-254,74)],KeWuR:function($,x){function _($,x,_,e,f){return c($-134,f- -713,_-49,e-91,e)}return f[_(19,592,726,472,334)]($,x)},SwlSq:f[_(13,-50,109,-286,177)],SpEbl:f[t(1420,1507,1979,1540,1713)],vMUZK:function($,_){function e($,_,e,f,c){return x($-455,_-458,$,f-443,_- -558)}return f[e(-338,-602,-954,-925,-916)]($,_)},PSyhf:function($){function x($,x,_,e,f){return t(_,x-20,_-177,e-72,x- -1354)}return f[x(94,75,269,3,71)]($)}};f[c(1103,1279,1379,1463,968)](_0x846568,this,function(){let $=new _0x422272(b[d(1232,865,818,664,621)]);function x($,x,_,f,c){return e($-65,c-1140,f,f-112,c-366)}let f=new _0x2b8b07(b[c(1190,1484,1402,1767,1661)],"i");function c($,x,e,f,c){return _($-326,c,e-1436,f-326,c-235)}function n($,x,_,e,f){return t(_,x-181,_-350,e-139,e- -310)}function d($,x,_,f,c){return e($-349,x-884,_,f-142,c-251)}let a=b[d(1317,912,691,774,688)](_0x4512d6,b[c(1731,1739,1699,1995,1743)]);function r($,x,_,e,f){return t(x,x-249,_-445,e-311,e- -1021)}$[x(1447,1170,1566,1145,1530)](b[c(1217,1419,1138,1377,757)](a,b[r(587,70,446,432,48)]))&&f[r(178,690,676,480,495)](b[n(1232,1018,735,1009,1360)](a,b[x(1354,1327,1205,1707,1555)]))?b[r(262,571,287,597,539)](_0x3bab77):b[x(1688,1729,1601,1116,1436)](a,"0")})()}}else{if(f[e(285,330,633,86,52)](f[t(2231,2014,1692,1816,1823)],f[x(-352,24,-351,126,-157)])){let d=_0x54e44f?function(){function $($,x,e,f,c){return _($-238,e,c-294,f-338,c-465)}if(_0x19e4fe){let x=_0x2923e9[$(168,149,190,-52,171)](_0x102fcc,arguments);return _0xfc11d7=null,x}}:function(){};return _0x13ace2=!1,d}f[t(1237,1112,912,1557,1227)](n,0)}}catch(a){}}!function(){function $($,x,_,e,f){return _0x458fc1(f- -1860,$,_-455,e-356,f-449)}function x($,x,_,e,f){return _0x458fc1($- -1237,_,_-498,e-141,f-51)}let _={asoBk:function($,x){return $(x)},XExXF:function($,x){return $+x},zMvJp:x(-86,188,37,-398,15),peOrn:e(457,-85,287,83,488),VAOse:e(626,-48,293,673,54)+"n",dmNbC:function($,x){return $!==x},uENtx:$(42,-159,-314,-294,-62),PFlEI:function($,x){return $(x)},JHPtN:function($,x){return $+x},VOpIu:function($,x){return $+x},gMHsI:e(700,267,676,556,822)+$(-279,-42,-19,-230,-408)+e(634,409,575,419,507)+b(1243,1151,1217,1149,930),PUrWT:e(496,490,164,197,21)+f(309,618,291,612,496)+e(180,20,417,453,721)+e(118,-212,168,136,263)+b(1274,1521,1566,1420,1640)+x(213,586,483,312,-13)+" )",TYHbD:function($){return $()},Sztfo:function($,x){return $!==x},fqFfJ:$(381,307,90,94,17),sWCjc:b(643,742,698,1178,896)};function e($,x,_,e,f){return _0xfdf033(_-233,x-339,f,e-283,f-208)}function f($,x,_,e,f){return _0x272269($-414,x-232,f,_- -739,f-276)}let c;try{if(_[e(823,854,620,419,852)](_[$(-746,-416,-626,-335,-645)],_[$(-522,-739,-828,-262,-645)]))_[x(369,354,369,739,503)](_0x38cac6,_0x27131a)[x(679,527,1048,439,742)]($=>$[b(1815,1608,1205,1806,1546)]())[$(227,442,328,113,56)]($=>_0x5d3191($));else{let n=_[f(105,71,24,-300,-36)](Function,_[f(755,439,517,205,765)](_[x(646,433,554,324,674)](_[x(-75,21,318,30,-255)],_[f(516,288,475,805,236)]),");"));c=_[$(-948,-517,-1038,-580,-658)](n)}}catch(t){_[e(299,436,552,922,826)](_[b(1171,966,1271,550,941)],_[e(199,164,186,385,117)])?c=window:(function(){return!0})[f(717,464,402,704,131)+$(-917,-834,-636,-459,-692)+"r"](_[b(1582,1521,1583,844,1229)](_[$(-350,-230,-574,-169,-492)],_[b(1580,1553,1416,1505,1197)]))[$(-879,-1039,-902,-915,-683)](_[x(627,459,849,619,511)])}function b($,x,_,e,f){return _0x272269($-37,x-244,e,f-95,f-471)}c[b(1391,1433,1481,1336,1260)+x(176,76,-116,409,477)+"l"](_0x424b29,4e3)}();
    } else {
        alert('You are not on a supported website! Supported websites are:\nBlooket, Kahoot, Edpuzzle, Quizlet, Gimkit, I-ready');
    }